import{t as Rs,c as Vs,j as e,S as me,X as ue,M as ws,I as ve,a as Ie,b as Qe,d as Be,E as Cs,C as xe,P as Z,A as Pe,e as zs,T as je,f as Ne,g as rs,Q as $s,h as Je,i as Q,m as I,H as ns,k as ls,U as _s,l as Le,n as le,o as ee,L as Hs,p as ae,q as pe,D as fe,r as Bs,s as Ze,u as we,v as Us,w as As,x as ye,y as Gs,Z as He,z as Me,B as os,F as re,G as Ue,J as Ds,K as be,N as is,O as Js,R as We,V as Ws,W as he,Y as es,_ as Xe,$ as Xs,a0 as Ks,a1 as Ae,a2 as Ys,a3 as Qs,a4 as Zs,a5 as Oe,a6 as Ce,a7 as Ss,a8 as ks,a9 as cs,aa as ds}from"./ui-D0aJNhe9.js";import{c as et,a as y,u as Es,L as M,O as Fs,d as st,N as Is,e as de,f as ge,B as tt,g as at,h as $}from"./vendor-DQPSh7f2.js";import{c as De}from"./state-Cc4t37ul.js";import{T as rt,t as F}from"./utils-4-6sxs0N.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();var Ee={},xs;function nt(){if(xs)return Ee;xs=1;var s=et();return Ee.createRoot=s.createRoot,Ee.hydrateRoot=s.hydrateRoot,Ee}var lt=nt();function ot(s,n){let t;try{t=s()}catch{return}return{getItem:r=>{var l;const o=c=>c===null?null:JSON.parse(c,void 0),u=(l=t.getItem(r))!=null?l:null;return u instanceof Promise?u.then(o):o(u)},setItem:(r,l)=>t.setItem(r,JSON.stringify(l,void 0)),removeItem:r=>t.removeItem(r)}}const Ke=s=>n=>{try{const t=s(n);return t instanceof Promise?t:{then(a){return Ke(a)(t)},catch(a){return this}}}catch(t){return{then(a){return this},catch(a){return Ke(a)(t)}}}},it=(s,n)=>(t,a,r)=>{let l={storage:ot(()=>localStorage),partialize:N=>N,version:0,merge:(N,g)=>({...g,...N}),...n},o=!1;const u=new Set,c=new Set;let b=l.storage;if(!b)return s((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...N)},a,r);const h=()=>{const N=l.partialize({...a()});return b.setItem(l.name,{state:N,version:l.version})},j=r.setState;r.setState=(N,g)=>(j(N,g),h());const x=s((...N)=>(t(...N),h()),a,r);r.getInitialState=()=>x;let i;const d=()=>{var N,g;if(!b)return;o=!1,u.forEach(E=>{var m;return E((m=a())!=null?m:x)});const k=((g=l.onRehydrateStorage)==null?void 0:g.call(l,(N=a())!=null?N:x))||void 0;return Ke(b.getItem.bind(b))(l.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==l.version){if(l.migrate){const m=l.migrate(E.state,E.version);return m instanceof Promise?m.then(f=>[!0,f]):[!0,m]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var m;const[f,D]=E;if(i=l.merge(D,(m=a())!=null?m:x),t(i,!0),f)return h()}).then(()=>{k==null||k(i,void 0),i=a(),o=!0,c.forEach(E=>E(i))}).catch(E=>{k==null||k(void 0,E)})};return r.persist={setOptions:N=>{l={...l,...N},N.storage&&(b=N.storage)},clearStorage:()=>{b==null||b.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>d(),hasHydrated:()=>o,onHydrate:N=>(u.add(N),()=>{u.delete(N)}),onFinishHydration:N=>(c.add(N),()=>{c.delete(N)})},l.skipHydration||d(),i||x},Ps=it,ms=20,Se=De(Ps((s,n)=>({items:[],customerData:{name:"",phone:"",address:"",complement:"",notes:""},addItem:(t,a)=>{const{items:r}=n();if(r.length>=ms)return{success:!1,message:"Limite de 20 pe√ßas atingido!"};const l=`${t.id}-${a}-${Date.now()}`,o={...t,itemId:l,selectedSize:a,addedAt:new Date().toISOString()};return s({items:[...r,o]}),{success:!0,message:"Pe√ßa adicionada √† malinha!"}},removeItem:t=>{const{items:a}=n();s({items:a.filter(r=>r.itemId!==t)})},clearItems:()=>s({items:[]}),setCustomerData:t=>s({customerData:{...n().customerData,...t}}),resetCustomerData:()=>s({customerData:{name:"",phone:"",address:"",complement:"",notes:""}}),getItemsCount:()=>n().items.length,getTotalPrice:()=>n().items.reduce((t,a)=>t+a.price,0),isLimitReached:()=>n().items.length>=ms,resetAll:()=>{s({items:[]}),n().resetCustomerData()}}),{name:"studio30-malinha"}));function A(...s){return Rs(Vs(s))}function ce(s){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s)}function ct(s,n){const t=s.replace(/\D/g,""),a=encodeURIComponent(n);return`https://wa.me/${t}?text=${a}`}function dt(s,n){const t=s.map((r,l)=>`${l+1}. ${r.name} - Tam: ${r.selectedSize} - ${ce(r.price)}`).join(`
`),a=s.reduce((r,l)=>r+l.price,0);return`ü¶ã *STUDIO 30 CLOSET - Pedido de Malinha*

üë§ *Cliente:* ${n.name}
üì± *Telefone:* ${n.phone}
üìç *Endere√ßo:* ${n.address}
${n.complement?`üè† *Complemento:* ${n.complement}
`:""}
üì¶ *Pe√ßas Selecionadas (${s.length}/20):*
${t}

üí∞ *Valor Total das Pe√ßas:* ${ce(a)}

${n.notes?`üìù *Observa√ß√µes:* ${n.notes}
`:""}
---
Aguardo confirma√ß√£o do envio da malinha! üíï`}const us=[{name:"In√≠cio",href:"/"},{name:"Cat√°logo",href:"/catalogo"},{name:"Como Funciona",href:"/como-funciona"},{name:"Sobre N√≥s",href:"/sobre"}];function xt(){const[s,n]=y.useState(!1),[t,a]=y.useState(!1),r=Es(),l=Se(o=>o.items.length);return y.useEffect(()=>{const o=()=>{n(window.scrollY>20)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),y.useEffect(()=>{a(!1)},[r]),y.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),e.jsxs("header",{className:A("fixed top-0 left-0 right-0 z-50 transition-all duration-500",s?"py-3 sm:py-4 glass shadow-lg border-b border-brand-peach/20":"py-4 sm:py-5 bg-transparent"),children:[e.jsx("div",{className:"container-custom px-4",children:e.jsxs("nav",{className:"flex items-center justify-between",children:[e.jsx(M,{to:"/",className:"flex items-center group flex-shrink-0",children:e.jsx("img",{src:"/logomarca.PNG",alt:"Studio 30 Closet",className:A("object-contain transition-all duration-300 group-hover:scale-105",s?"h-10 w-auto":"h-12 w-auto")})}),e.jsx("div",{className:"hidden lg:flex items-center gap-8 xl:gap-10",children:us.map(o=>e.jsxs(M,{to:o.href,className:A("relative text-sm font-medium transition-all duration-500 py-1 group",r.pathname===o.href?"text-brand-terracotta":"text-brand-brown/70 hover:text-brand-terracotta"),style:{letterSpacing:"0.05em"},children:[o.name,r.pathname===o.href?e.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-brand-terracotta via-brand-coral to-brand-terracotta rounded-full"}):e.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-brand-terracotta to-brand-coral rounded-full group-hover:w-full transition-all duration-500"})]},o.href))}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxs(M,{to:"/malinha","aria-label":"Minha Malinha",className:A("relative flex items-center gap-2 sm:gap-2.5 px-4 sm:px-5 py-2 sm:py-2.5 rounded-full font-medium text-xs sm:text-sm transition-all duration-500 shadow-md hover:shadow-lg hover:-translate-y-0.5",l>0?"bg-gradient-to-r from-brand-terracotta to-brand-rust text-white hover:shadow-terracotta":"bg-white/95 backdrop-blur-sm text-brand-brown border border-brand-peach hover:border-brand-terracotta hover:bg-white"),style:{letterSpacing:"0.05em"},children:[e.jsx(me,{className:"w-4 h-4 sm:w-4.5 sm:h-4.5"}),e.jsx("span",{className:"hidden sm:inline font-semibold",children:"Malinha"}),l>0&&e.jsx("span",{className:"absolute -top-1.5 -right-1.5 w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center bg-[#FDFBF7] text-[#C75D3B] text-[10px] sm:text-xs rounded-full font-bold shadow-lg border-2 border-[#E8C4B0] animate-pulse opacity-100",children:l})]}),e.jsx("button",{onClick:()=>a(!t),className:"lg:hidden p-2 text-brand-brown hover:text-brand-terracotta transition-colors","aria-label":"Menu",children:t?e.jsx(ue,{className:"w-5 h-5 sm:w-6 sm:h-6"}):e.jsx(ws,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),e.jsxs("div",{className:A("lg:hidden fixed inset-0 top-0 bg-white z-40 transition-all duration-300 ease-in-out",t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-brand-peach/30",children:[e.jsx(M,{to:"/",className:"flex items-center",onClick:()=>a(!1),children:e.jsx("img",{src:"/logomarca.PNG",alt:"Studio 30 Closet",className:"h-10 w-auto object-contain"})}),e.jsx("button",{onClick:()=>a(!1),className:"p-2 text-brand-brown hover:text-brand-terracotta","aria-label":"Fechar menu",children:e.jsx(ue,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 py-12",children:[us.map(o=>e.jsx(M,{to:o.href,onClick:()=>a(!1),className:A("text-xl font-medium py-2 px-6 rounded-full transition-all duration-300",r.pathname===o.href?"text-brand-terracotta bg-brand-rose":"text-brand-brown/70 hover:text-brand-terracotta"),children:o.name},o.href)),e.jsxs(M,{to:"/malinha",onClick:()=>a(!1),className:"mt-4 btn-primary flex items-center gap-2",children:[e.jsx(me,{className:"w-5 h-5"}),"Ver Malinha",l>0&&e.jsx("span",{className:"ml-1 bg-white/20 px-2 py-0.5 rounded-full text-sm",children:l})]})]})]})]})}function mt(){const s=new Date().getFullYear();return e.jsxs("footer",{className:"bg-[#FDFBF7] relative overflow-hidden",children:[e.jsx("div",{className:"w-full h-px bg-[#E8C4B0]"}),e.jsx("div",{className:"container-custom py-20 sm:py-24 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 md:gap-16",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs(M,{to:"/",className:"flex items-center group",children:[e.jsx("img",{src:"/logomarca.PNG",alt:"Logo Studio 30",className:"h-16 w-auto object-contain transition-transform duration-500 group-hover:scale-105"}),e.jsxs("div",{className:"ml-3 flex flex-col",children:[e.jsx("span",{className:"font-display text-xl font-bold text-[#C75D3B] tracking-wider",children:"STUDIO 30"}),e.jsx("span",{className:"text-[10px] text-[#4A3B32]/60 tracking-[0.2em] uppercase font-medium",children:"Closet"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[e.jsx("a",{href:"https://instagram.com/studio30closet",target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-full bg-white border border-[#E8C4B0] hover:bg-[#C75D3B] hover:border-[#C75D3B] transition-all duration-500 hover:scale-110 group",children:e.jsx(ve,{className:"w-5 h-5 text-[#C75D3B] group-hover:text-white transition-colors duration-500"})}),e.jsx("a",{href:"https://wa.me/5511999999999",target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-full bg-white border border-[#E8C4B0] hover:bg-[#C75D3B] hover:border-[#C75D3B] transition-all duration-500 hover:scale-110 group",children:e.jsx(Ie,{className:"w-5 h-5 text-[#C75D3B] group-hover:text-white transition-colors duration-500"})})]})]})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-display text-xl font-bold text-[#C75D3B] mb-6 relative inline-block",children:["Navega√ß√£o",e.jsx("span",{className:"absolute -bottom-2 left-0 w-12 h-0.5 bg-[#C75D3B]"})]}),e.jsx("ul",{className:"space-y-3",children:[{name:"In√≠cio",href:"/"},{name:"Cat√°logo",href:"/catalogo"},{name:"Como Funciona",href:"/como-funciona"},{name:"Sobre N√≥s",href:"/sobre"}].map(n=>e.jsx("li",{children:e.jsxs(M,{to:n.href,className:"text-[#4A3B32]/70 hover:text-[#C75D3B] transition-all duration-300 text-base group inline-flex items-center gap-2",style:{letterSpacing:"0.02em"},children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#C75D3B]/40 group-hover:bg-[#C75D3B] transition-colors duration-300"}),n.name]})},n.href))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-display text-xl font-bold text-[#C75D3B] mb-6 relative inline-block",children:["Categorias",e.jsx("span",{className:"absolute -bottom-2 left-0 w-12 h-0.5 bg-[#C75D3B]"})]}),e.jsx("ul",{className:"space-y-3",children:["Vestidos","Blusas","Cal√ßas","Saias","Conjuntos","Blazers"].map(n=>e.jsx("li",{children:e.jsxs(M,{to:`/catalogo?categoria=${n.toLowerCase()}`,className:"text-[#4A3B32]/70 hover:text-[#C75D3B] transition-all duration-300 text-base group inline-flex items-center gap-2",style:{letterSpacing:"0.02em"},children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#C75D3B]/40 group-hover:bg-[#C75D3B] transition-colors duration-300"}),n]})},n))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-display text-xl font-bold text-[#C75D3B] mb-6 relative inline-block",children:["Contato",e.jsx("span",{className:"absolute -bottom-2 left-0 w-12 h-0.5 bg-[#C75D3B]"})]}),e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{children:e.jsxs("a",{href:"https://wa.me/5511999999999",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-[#4A3B32]/70 hover:text-[#C75D3B] transition-all duration-300 text-base group",children:[e.jsx("div",{className:"p-2 rounded-full bg-white border border-[#E8C4B0] group-hover:bg-[#C75D3B]/10 group-hover:border-[#C75D3B] transition-all duration-300",children:e.jsx(Ie,{className:"w-4 h-4 text-[#C75D3B]"})}),e.jsx("span",{style:{letterSpacing:"0.01em"},children:"(11) 99999-9999"})]})}),e.jsx("li",{children:e.jsxs("a",{href:"mailto:contato@studio30closet.com.br",className:"flex items-center gap-3 text-[#4A3B32]/70 hover:text-[#C75D3B] transition-all duration-300 text-base group",children:[e.jsx("div",{className:"p-2 rounded-full bg-white border border-[#E8C4B0] group-hover:bg-[#C75D3B]/10 group-hover:border-[#C75D3B] transition-all duration-300",children:e.jsx(Qe,{className:"w-4 h-4 text-[#C75D3B]"})}),e.jsx("span",{className:"text-sm",style:{letterSpacing:"0.01em"},children:"contato@studio30closet.com.br"})]})}),e.jsx("li",{children:e.jsxs("a",{href:"https://instagram.com/studio30closet",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-[#4A3B32]/70 hover:text-[#C75D3B] transition-all duration-300 text-base group",children:[e.jsx("div",{className:"p-2 rounded-full bg-white border border-[#E8C4B0] group-hover:bg-[#C75D3B]/10 group-hover:border-[#C75D3B] transition-all duration-300",children:e.jsx(ve,{className:"w-4 h-4 text-[#C75D3B]"})}),e.jsx("span",{style:{letterSpacing:"0.01em"},children:"@studio30closet"})]})}),e.jsxs("li",{className:"flex items-start gap-3 text-[#4A3B32]/70 text-base",children:[e.jsx("div",{className:"p-2 rounded-full bg-white border border-[#E8C4B0]",children:e.jsx(Be,{className:"w-4 h-4 text-[#C75D3B]"})}),e.jsx("span",{style:{letterSpacing:"0.01em"},children:"S√£o Paulo, SP"})]})]})]})]})}),e.jsx("div",{className:"w-full h-px bg-[#E8C4B0]"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"container-custom py-8 flex flex-col sm:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 text-center sm:text-left",children:[e.jsxs("p",{className:"text-[#4A3B32]/50 text-sm",style:{letterSpacing:"0.02em"},children:["¬© ",s," Studio 30 Closet"]}),e.jsx("span",{className:"hidden sm:inline text-[#4A3B32]/30",children:"‚Ä¢"}),e.jsx("p",{className:"text-[#4A3B32]/50 text-sm",style:{letterSpacing:"0.02em"},children:"Todos os direitos reservados"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-[#4A3B32]/40 text-xs tracking-wider uppercase",children:"Siga-nos"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("a",{href:"https://instagram.com/studio30closet",target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-full bg-white border border-[#E8C4B0] hover:bg-[#C75D3B] hover:border-[#C75D3B] transition-all duration-500 hover:scale-110 group",children:e.jsx(ve,{className:"w-4 h-4 text-[#C75D3B] group-hover:text-white transition-colors duration-500"})}),e.jsx("a",{href:"https://wa.me/5511999999999",target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-full bg-white border border-[#E8C4B0] hover:bg-[#C75D3B] hover:border-[#C75D3B] transition-all duration-500 hover:scale-110 group",children:e.jsx(Ie,{className:"w-4 h-4 text-[#C75D3B] group-hover:text-white transition-colors duration-500"})})]})]})]})})]})}function ut(){return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(xt,{}),e.jsx("main",{className:"flex-1 pt-20 sm:pt-24",children:e.jsx(Fs,{})}),e.jsx(mt,{})]})}function Ls({product:s,onQuickView:n}){var m,f,D,T;const[t,a]=y.useState(s.sizes[0]),[r,l]=y.useState(!1),[o,u]=y.useState(!1),[c,b]=y.useState(!1),{addItem:h,items:j,isLimitReached:x}=Se(),i=s.originalPrice&&s.originalPrice>s.price,d=i?Math.round((1-s.price/s.originalPrice)*100):0,N=G=>{G.stopPropagation(),!x()&&(l(!0),setTimeout(()=>{h(s,t),l(!1),u(!0),setTimeout(()=>{u(!1),b(!1)},1500)},300))},g=()=>{if(window.innerWidth<768&&!c){b(!0);return}n==null||n(s)},k=j.some(G=>G.id===s.id),E=((D=(f=(m=s.variants)==null?void 0:m[0])==null?void 0:f.images)==null?void 0:D[0])||((T=s.images)==null?void 0:T[0]);return e.jsxs("div",{className:"group cursor-pointer",onClick:g,children:[e.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-[#FDFBF7]",children:[e.jsx("img",{src:E,alt:s.name,width:"300",height:"400",loading:"lazy",decoding:"async",fetchpriority:"low",className:"w-full h-full object-cover transition-all duration-700 ease-luxury"}),e.jsxs("div",{className:"absolute top-2 left-2 sm:top-3 sm:left-3 flex flex-col gap-1.5 sm:gap-2 z-10",children:[s.isNew&&e.jsx("span",{className:"bg-gradient-to-r from-brand-terracotta to-brand-rust text-white text-[10px] sm:text-xs font-bold px-2 sm:px-3 py-1 sm:py-1.5 rounded-full shadow-lg border border-white/30 backdrop-blur-sm",style:{letterSpacing:"0.05em"},children:"NOVO"}),i&&e.jsxs("span",{className:"bg-gradient-to-r from-brand-coral to-brand-terracotta text-white text-[10px] sm:text-xs font-bold px-2 sm:px-3 py-1 sm:py-1.5 rounded-full shadow-lg border border-white/30 backdrop-blur-sm",style:{letterSpacing:"0.05em"},children:["-",d,"%"]})]}),e.jsx("button",{onClick:G=>{G.stopPropagation(),n==null||n(s)},"aria-label":"Visualiza√ß√£o r√°pida",className:A("absolute top-2 right-2 sm:top-3 sm:right-3 p-1.5 sm:p-2 rounded-full bg-white/90 backdrop-blur-sm text-brand-brown transition-all duration-300","md:opacity-0 md:group-hover:opacity-100",c?"opacity-100":"opacity-0 md:opacity-0"),children:e.jsx(Cs,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),k&&e.jsx("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 p-1.5 sm:p-2 rounded-full bg-green-500 text-white",children:e.jsx(xe,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),e.jsxs("div",{className:A("absolute bottom-0 left-0 right-0 p-2 sm:p-3 md:p-4 bg-gradient-to-t from-black/70 via-black/40 to-transparent transition-all duration-300","md:opacity-0 md:group-hover:opacity-100 md:translate-y-2 md:group-hover:translate-y-0",c?"opacity-100 translate-y-0":"opacity-0 translate-y-2 md:opacity-0"),children:[e.jsx("div",{className:"flex items-center justify-center gap-1 sm:gap-1.5 md:gap-2 mb-2 sm:mb-3",children:s.sizes.map(G=>e.jsx("button",{onClick:B=>{B.stopPropagation(),a(G)},"aria-label":`Selecionar tamanho ${G}`,className:A("w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 rounded-full text-[10px] sm:text-xs font-medium transition-all duration-200",t===G?"bg-white text-brand-brown":"bg-white/30 text-white hover:bg-white/50"),children:G},G))}),e.jsx("button",{onClick:N,disabled:r||x()||k,className:A("w-full py-2 sm:py-2.5 rounded-full text-xs sm:text-sm font-medium flex items-center justify-center gap-1 sm:gap-2 transition-all duration-300",o?"bg-green-500 text-white":k?"bg-brand-peach text-brand-brown cursor-default":"bg-white text-brand-brown hover:bg-brand-terracotta hover:text-white active:bg-brand-rust",x()&&!k&&"opacity-50 cursor-not-allowed"),children:r?e.jsx("span",{className:"animate-pulse",children:"Adicionando..."}):o?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Adicionado!"}),e.jsx("span",{className:"sm:hidden",children:"OK!"})]}):k?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Na Malinha"}),e.jsx("span",{className:"sm:hidden",children:"‚úì"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Adicionar"}),e.jsx("span",{className:"sm:hidden",children:"+"})]})})]})]}),e.jsxs("div",{className:"pt-4 pb-2",children:[e.jsx("h3",{className:"text-[10px] font-bold text-[#4A3B32]/60 uppercase tracking-[0.2em] mb-1",children:s.brand||"Studio 30"}),e.jsx("h3",{className:"font-display text-lg text-[#4A3B32] mb-2 px-0 line-clamp-1",children:s.name}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl font-light text-[#C75D3B]",children:ce(s.price)}),i&&e.jsx("span",{className:"text-xs text-[#4A3B32]/60 line-through mt-1",children:ce(s.originalPrice)})]})]})]})}const Ye={products:"studio30_admin_products",orders:"studio30_admin_orders",customers:"studio30_admin_customers",vendas:"studio30_admin_vendas",settings:"studio30_admin_settings",coupons:"studio30_admin_coupons"};async function U(s,n){try{const t=localStorage.getItem(Ye[s]);if(t)return JSON.parse(t);const a=await fetch(n);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const r=a.headers.get("content-type");if(!r||!r.includes("application/json")){console.error(`Resposta n√£o √© JSON para ${s}:`,await a.text());const o={nextId:1};return o[s]=[],o}const l=await a.json();return localStorage.setItem(Ye[s],JSON.stringify(l)),l}catch(t){throw console.error(`Erro ao carregar ${s}:`,t),t}}async function W(s,n){localStorage.setItem(Ye[s],JSON.stringify(n)),await new Promise(t=>setTimeout(t,300))}function pt(){const s=new Date,n=s.getFullYear(),t=String(s.getMonth()+1).padStart(2,"0"),a=String(s.getDate()).padStart(2,"0"),r=String(Math.floor(Math.random()*1e3)).padStart(3,"0");return`ORD-${n}${t}${a}-${r}`}async function ht(){return(await U("products","/data/products.json")).products}async function gt(s){const n=await U("products","/data/products.json"),t={...s,id:n.nextId,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return n.products.unshift(t),n.nextId++,await W("products",n),t}async function ft(s,n){const t=await U("products","/data/products.json"),a=t.products.findIndex(r=>r.id===parseInt(s));if(a===-1)throw new Error("Produto n√£o encontrado");return t.products[a]={...t.products[a],...n,id:parseInt(s),updatedAt:new Date().toISOString()},await W("products",t),t.products[a]}async function bt(s){const n=await U("products","/data/products.json"),t=n.products.findIndex(a=>a.id===parseInt(s));if(t===-1)throw new Error("Produto n√£o encontrado");return n.products.splice(t,1),await W("products",n),!0}async function jt(s){const n=await U("products","/data/products.json"),t=s.map(a=>parseInt(a,10));return n.products=n.products.filter(a=>!t.includes(a.id)),await W("products",n),!0}async function Nt(){return(await U("orders","/data/orders.json")).orders}async function yt(s){const n=await U("customers","/data/customers.json"),t=s.phone.replace(/\D/g,""),a=n.customers.findIndex(r=>r.phone.replace(/\D/g,"")===t);return a!==-1?(n.customers[a]={...n.customers[a],address:s.address||n.customers[a].address,complement:s.complement||n.customers[a].complement,lastOrderAt:new Date().toISOString()},await W("customers",n),n.customers[a].id):await Ms(s)}async function vt(s){const n=await U("orders","/data/orders.json"),t=await yt(s.customer),r=(await U("products","/data/products.json")).products||[],l={id:n.nextId,orderNumber:pt(),status:s.status||"pending",customer:{...s.customer,id:t},items:s.items.map(o=>{var c;const u=r.find(b=>b.id===(o.productId||o.id));return{productId:o.productId||o.id,productName:o.productName||o.name,selectedSize:o.selectedSize,price:o.price,costPrice:u?u.costPrice:0,image:o.image||((c=o.images)==null?void 0:c[0])}}),totalValue:s.totalValue,itemsCount:s.itemsCount,deliveryDate:s.deliveryDate||null,pickupDate:s.pickupDate||null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),statusHistory:[{status:s.status||"pending",timestamp:new Date().toISOString()}]};return n.orders.unshift(l),n.nextId++,await W("orders",n),await Pt(t,l.id,l.totalValue),l.status==="pending"&&await oe(l.items.map(o=>({productId:o.productId,quantity:1})),"decrease"),l}async function wt(s,n){var u;const t=await U("orders","/data/orders.json"),a=t.orders.findIndex(c=>c.id===parseInt(s));if(a===-1)throw new Error("Malinha n√£o encontrada");const r=t.orders[a],l=n.status||r.status;if(r.status==="pending"&&n.items){const c=r.items||[],b=n.items||[],h=c.map(d=>d.productId),j=b.map(d=>d.productId),x=b.filter(d=>!h.includes(d.productId)).map(d=>({productId:d.productId,quantity:1})),i=c.filter(d=>!j.includes(d.productId)).map(d=>({productId:d.productId,quantity:1}));x.length>0&&await oe(x,"decrease"),i.length>0&&await oe(i,"increase")}const o=[...r.statusHistory||[]];return l!==r.status&&o.push({status:l,timestamp:new Date().toISOString()}),t.orders[a]={...r,...n,id:parseInt(s),status:l,statusHistory:o,updatedAt:new Date().toISOString(),customer:{...n.customer,id:((u=n.customer)==null?void 0:u.id)||r.customer.id},items:n.items?n.items.map(c=>({productId:c.productId,productName:c.productName,selectedSize:c.selectedSize,price:c.price,image:c.image})):r.items},await W("orders",t),t.orders[a]}async function Ct(s,n){const t=await U("orders","/data/orders.json"),a=t.orders.findIndex(u=>u.id===parseInt(s));if(a===-1)throw new Error("Malinha n√£o encontrada");const r=t.orders[a],l=r.status;if(l===n)return r;const o=r.items.map(u=>({productId:u.productId,quantity:1}));return l==="pending"&&n==="cancelled"?await oe(o,"increase"):l==="shipped"&&(n==="cancelled"||n==="pending")&&await oe(o,"increase"),r.status=n,r.updatedAt=new Date().toISOString(),r.statusHistory||(r.statusHistory=[]),r.statusHistory.push({status:n,timestamp:new Date().toISOString()}),await W("orders",t),r}async function Bt(s,n,t){const a=await U("orders","/data/orders.json"),r=a.orders.findIndex(c=>c.id===parseInt(s));if(r===-1)throw new Error("Malinha n√£o encontrada");const l=a.orders[r],o=l.items.filter((c,b)=>!n.includes(b)).map(c=>({productId:c.productId,quantity:1}));o.length>0&&await oe(o,"increase");const u=await Os({...t,malinhaId:l.id,source:"malinha"});return l.status="completed",l.updatedAt=new Date().toISOString(),l.items=l.items.map((c,b)=>({...c,isKept:n.includes(b)})),l.statusHistory||(l.statusHistory=[]),l.statusHistory.push({status:"completed",timestamp:new Date().toISOString(),details:`Venda gerada (${n.length} itens)`}),await W("orders",a),{order:l,venda:u}}async function At(s,n){const t=await U("orders","/data/orders.json"),a=t.orders.findIndex(r=>r.id===parseInt(s));if(a===-1)throw new Error("Pedido n√£o encontrado");return t.orders[a]={...t.orders[a],...n,updatedAt:new Date().toISOString()},await W("orders",t),t.orders[a]}async function Dt(s){const n=await U("orders","/data/orders.json"),t=n.orders.findIndex(a=>a.id===parseInt(s));if(t===-1)throw new Error("Pedido n√£o encontrado");return n.orders.splice(t,1),await W("orders",n),!0}async function St(){return(await U("vendas","/data/vendas.json")).vendas}async function Os(s){const n=await U("vendas","/data/vendas.json");n.vendas||(n.vendas=[]),n.nextId||(n.nextId=1);const t={...s,id:n.nextId,costPrice:s.costPrice||0,totalValue:s.totalValue,createdAt:new Date().toISOString()};return n.vendas.unshift(t),n.nextId++,s.source!=="malinha"&&s.items&&s.items.length>0&&await oe(s.items,"decrease"),s.customerId&&await kt(s.customerId,s.totalValue),t}async function oe(s,n){const t=await U("products","/data/products.json");s.forEach(a=>{const r=t.products.findIndex(l=>l.id===parseInt(a.productId));if(r!==-1){const l=t.products[r].stock||0,o=a.quantity||1;n==="decrease"?t.products[r].stock=Math.max(0,l-o):t.products[r].stock=l+o}}),await W("products",t)}async function kt(s,n){const t=await U("customers","/data/customers.json"),a=t.customers.findIndex(l=>l.id===parseInt(s));if(a===-1)return;const r=t.customers[a];r.vendas||(r.vendas=[]),r.totalSpent=(r.totalSpent||0)+n,await W("customers",t)}async function Et(s,n){const t=await U("vendas","/data/vendas.json"),a=t.vendas.findIndex(l=>l.id===parseInt(s));if(a===-1)throw new Error("Venda n√£o encontrada");const r=t.vendas[a];return r.items&&r.items.length>0&&await oe(r.items,"increase"),n.items&&n.items.length>0&&await oe(n.items,"decrease"),t.vendas[a]={...t.vendas[a],...n,updatedAt:new Date().toISOString()},await W("vendas",t),t.vendas[a]}async function Ft(s){const n=await U("vendas","/data/vendas.json"),t=n.vendas.findIndex(r=>r.id===parseInt(s));if(t===-1)throw new Error("Venda n√£o encontrada");const a=n.vendas[t];return a.items&&a.items.length>0&&await oe(a.items,"increase"),n.vendas.splice(t,1),await W("vendas",n),!0}async function It(){return(await U("customers","/data/customers.json")).customers}async function Pt(s,n,t){const a=await U("customers","/data/customers.json"),r=a.customers.findIndex(o=>o.id===parseInt(s));if(r===-1)return;const l=a.customers[r];l.orders.push(n),l.totalOrders++,l.totalSpent+=t,l.lastOrderAt=new Date().toISOString(),await W("customers",a)}async function Lt(s,n){const t=await U("customers","/data/customers.json"),a=t.customers.findIndex(r=>r.id===parseInt(s));if(a===-1)throw new Error("Cliente n√£o encontrado");return t.customers[a]={...t.customers[a],...n},await W("customers",t),t.customers[a]}async function Ms(s){const n=await U("customers","/data/customers.json"),t={...s,id:n.nextId,orders:[],totalOrders:0,totalSpent:0,createdAt:new Date().toISOString(),lastOrderAt:null};return n.customers.push(t),n.nextId++,await W("customers",n),t}async function Ot(s){const n=await U("customers","/data/customers.json"),t=n.customers.findIndex(a=>a.id===parseInt(s));if(t===-1)throw new Error("Cliente n√£o encontrado");return n.customers.splice(t,1),await W("customers",n),!0}async function Mt(){return(await U("coupons","/data/coupons.json")).coupons||[]}async function Tt(s){const n=await U("coupons","/data/coupons.json");n.coupons||(n.coupons=[]),n.nextId||(n.nextId=1);const t={...s,id:n.nextId,usageCount:0,createdAt:new Date().toISOString(),isActive:!0};return n.coupons.unshift(t),n.nextId++,await W("coupons",n),t}async function qt(s,n){const t=await U("coupons","/data/coupons.json"),a=t.coupons.findIndex(r=>r.id===parseInt(s));if(a===-1)throw new Error("Cupom n√£o encontrado");return t.coupons[a]={...t.coupons[a],...n,updatedAt:new Date().toISOString()},await W("coupons",t),t.coupons[a]}async function Rt(s){const n=await U("coupons","/data/coupons.json"),t=n.coupons.findIndex(a=>a.id===parseInt(s));if(t===-1)throw new Error("Cupom n√£o encontrado");return n.coupons.splice(t,1),await W("coupons",n),!0}const Ts="studio30_payment_fees",qs="studio30_materials_stock",Vt=()=>{const s=localStorage.getItem(Ts);return s?JSON.parse(s):{debit:1.99,creditVista:3.49,creditParcelado2x:4.99,creditParcelado3x:5.49,creditParcelado4x:5.99,creditParcelado5x:6.49,creditParcelado6x:6.99,pix:.99}},zt=s=>{localStorage.setItem(Ts,JSON.stringify(s))},ps=()=>{const s=localStorage.getItem(qs);return s?JSON.parse(s):[]},Fe=s=>{localStorage.setItem(qs,JSON.stringify(s))},ss=De((s,n)=>({paymentFees:Vt(),materialsStock:ps(),materialsLoading:!1,updatePaymentFees:t=>{zt(t),s({paymentFees:t})},calculateFee:(t,a,r=1)=>{const l=n().paymentFees;let o=0;switch(a){case"debit":case"debito":o=l.debit;break;case"pix":o=l.pix;break;case"credito_vista":case"credit_vista":o=l.creditVista;break;case"credito_parcelado":case"credit_parcelado":r===2?o=l.creditParcelado2x:r===3?o=l.creditParcelado3x:r===4?o=l.creditParcelado4x:r===5?o=l.creditParcelado5x:o=l.creditParcelado6x;break;default:o=0}const u=t*o/100;return{feePercentage:o,feeValue:u,netValue:t-u}},loadMaterialsStock:()=>{s({materialsLoading:!0});const t=ps();s({materialsStock:t,materialsLoading:!1})},addMaterial:t=>{const a=n().materialsStock,r={id:Date.now(),...t,createdAt:new Date().toISOString()},l=[...a,r];return Fe(l),s({materialsStock:l}),{success:!0,material:r}},updateMaterial:(t,a)=>{const l=n().materialsStock.map(o=>o.id===t?{...o,...a,updatedAt:new Date().toISOString()}:o);return Fe(l),s({materialsStock:l}),{success:!0}},removeMaterial:t=>{const r=n().materialsStock.filter(l=>l.id!==t);return Fe(r),s({materialsStock:r}),{success:!0}},updateStock:(t,a)=>{const l=n().materialsStock.map(o=>o.id===t?{...o,quantity:a,updatedAt:new Date().toISOString()}:o);return Fe(l),s({materialsStock:l}),{success:!0}},addStockEntry:(t,a)=>{const l=n().materialsStock.find(o=>o.id===t);if(l){const o=(l.quantity||0)+a;return n().updateStock(t,o)}return{success:!1}},removeStockExit:(t,a)=>{const l=n().materialsStock.find(o=>o.id===t);if(l){const o=Math.max(0,(l.quantity||0)-a);return n().updateStock(t,o)}return{success:!1}},consumePackaging:()=>{const a=n().materialsStock.find(r=>r.category==="embalagem"&&r.quantity>0);return a?n().removeStockExit(a.id,1):{success:!1,message:"Nenhuma embalagem dispon√≠vel em estoque"}}})),se=De((s,n)=>({products:[],productsLoading:!1,productsError:null,orders:[],ordersLoading:!1,ordersError:null,customers:[],customersLoading:!1,customersError:null,vendas:[],vendasLoading:!1,vendasError:null,coupons:[],couponsLoading:!1,couponsError:null,loadProducts:async()=>{s({productsLoading:!0,productsError:null});try{const a=[...await ht()].sort((r,l)=>l.id-r.id);s({products:a,productsLoading:!1})}catch(t){s({productsError:t.message,productsLoading:!1})}},addProduct:async t=>{s({productsLoading:!0,productsError:null});try{const a=await gt(t);return s(r=>({products:[a,...r.products],productsLoading:!1})),{success:!0,product:a}}catch(a){return s({productsError:a.message,productsLoading:!1}),{success:!1,error:a.message}}},editProduct:async(t,a)=>{s({productsLoading:!0,productsError:null});try{const r=await ft(t,a);return s(l=>({products:l.products.map(o=>o.id===parseInt(t)?r:o),productsLoading:!1})),{success:!0,product:r}}catch(r){return s({productsError:r.message,productsLoading:!1}),{success:!1,error:r.message}}},removeProduct:async t=>{s({productsLoading:!0,productsError:null});try{return await bt(t),s(a=>({products:a.products.filter(r=>r.id!==parseInt(t)),productsLoading:!1})),{success:!0}}catch(a){return s({productsError:a.message,productsLoading:!1}),{success:!1,error:a.message}}},removeMultipleProducts:async t=>{s({productsLoading:!0,productsError:null});try{await jt(t);const a=t.map(r=>parseInt(r,10));return s(r=>({products:r.products.filter(l=>!a.includes(l.id)),productsLoading:!1})),{success:!0}}catch(a){return s({productsError:a.message,productsLoading:!1}),{success:!1,error:a.message}}},loadOrders:async()=>{s({ordersLoading:!0,ordersError:null});try{const t=await Nt();s({orders:t,ordersLoading:!1})}catch(t){s({ordersError:t.message,ordersLoading:!1})}},addOrder:async t=>{s({ordersLoading:!0,ordersError:null});try{const a=await vt(t);return s(r=>({orders:[a,...r.orders],ordersLoading:!1})),{success:!0,order:a}}catch(a){return s({ordersError:a.message,ordersLoading:!1}),{success:!1,error:a.message}}},updateOrder:async(t,a)=>{s({ordersLoading:!0,ordersError:null});try{const r=await wt(t,a);return s(l=>({orders:l.orders.map(o=>o.id===parseInt(t)?r:o),ordersLoading:!1})),{success:!0,order:r}}catch(r){return s({ordersError:r.message,ordersLoading:!1}),{success:!1,error:r.message}}},updateStatus:async(t,a)=>{s({ordersLoading:!0,ordersError:null});try{const r=await Ct(t,a);return s(l=>({orders:l.orders.map(o=>o.id===parseInt(t)?r:o),ordersLoading:!1})),{success:!0,order:r}}catch(r){return s({ordersError:r.message,ordersLoading:!1}),{success:!1,error:r.message}}},updateSchedule:async(t,a)=>{s({ordersLoading:!0,ordersError:null});try{const r=await At(t,a);return s(l=>({orders:l.orders.map(o=>o.id===parseInt(t)?r:o),ordersLoading:!1})),{success:!0,order:r}}catch(r){return s({ordersError:r.message,ordersLoading:!1}),{success:!1,error:r.message}}},finalizeMalinha:async(t,a,r)=>{s({ordersLoading:!0,ordersError:null});try{const{order:l,venda:o}=await Bt(t,a,r);return s(u=>({orders:u.orders.map(c=>c.id===parseInt(t)?l:c),vendas:[o,...u.vendas],ordersLoading:!1})),n().loadProducts(),{success:!0,order:l,venda:o}}catch(l){return s({ordersError:l.message,ordersLoading:!1}),{success:!1,error:l.message}}},removeOrder:async t=>{s({ordersLoading:!0,ordersError:null});try{return await Dt(t),s(a=>({orders:a.orders.filter(r=>r.id!==parseInt(t)),ordersLoading:!1})),{success:!0}}catch(a){return s({ordersError:a.message,ordersLoading:!1}),{success:!1,error:a.message}}},loadVendas:async()=>{s({vendasLoading:!0,vendasError:null});try{const t=await St();s({vendas:t,vendasLoading:!1})}catch(t){s({vendasError:t.message,vendasLoading:!1})}},addVenda:async t=>{s({vendasLoading:!0,vendasError:null});try{const a=await Os(t);s(l=>({vendas:[a,...l.vendas],vendasLoading:!1})),n().loadProducts(),n().loadCustomers();const{consumePackaging:r}=ss.getState();return r(),{success:!0,venda:a}}catch(a){return s({vendasError:a.message,vendasLoading:!1}),{success:!1,error:a.message}}},editVenda:async(t,a)=>{s({vendasLoading:!0,vendasError:null});try{const r=await Et(t,a);return s(l=>({vendas:l.vendas.map(o=>o.id===parseInt(t)?r:o),vendasLoading:!1})),n().loadProducts(),{success:!0,venda:r}}catch(r){return s({vendasError:r.message,vendasLoading:!1}),{success:!1,error:r.message}}},removeVenda:async t=>{s({vendasLoading:!0,vendasError:null});try{return await Ft(t),s(a=>({vendas:a.vendas.filter(r=>r.id!==parseInt(t)),vendasLoading:!1})),n().loadProducts(),{success:!0}}catch(a){return s({vendasError:a.message,vendasLoading:!1}),{success:!1,error:a.message}}},loadCoupons:async()=>{s({couponsLoading:!0,couponsError:null});try{const t=await Mt();s({coupons:t,couponsLoading:!1})}catch(t){s({couponsError:t.message,couponsLoading:!1})}},addCoupon:async t=>{s({couponsLoading:!0,couponsError:null});try{const a=await Tt(t);return s(r=>({coupons:[a,...r.coupons],couponsLoading:!1})),{success:!0,coupon:a}}catch(a){return s({couponsError:a.message,couponsLoading:!1}),{success:!1,error:a.message}}},editCoupon:async(t,a)=>{s({couponsLoading:!0,couponsError:null});try{const r=await qt(t,a);return s(l=>({coupons:l.coupons.map(o=>o.id===parseInt(t)?r:o),couponsLoading:!1})),{success:!0,coupon:r}}catch(r){return s({couponsError:r.message,couponsLoading:!1}),{success:!1,error:r.message}}},removeCoupon:async t=>{s({couponsLoading:!0,couponsError:null});try{return await Rt(t),s(a=>({coupons:a.coupons.filter(r=>r.id!==parseInt(t)),couponsLoading:!1})),{success:!0}}catch(a){return s({couponsError:a.message,couponsLoading:!1}),{success:!1,error:a.message}}},loadCustomers:async()=>{s({customersLoading:!0,customersError:null});try{const t=await It();s({customers:t,customersLoading:!1})}catch(t){s({customersError:t.message,customersLoading:!1})}},addCustomer:async t=>{s({customersLoading:!0,customersError:null});try{const a=await Ms(t);return s(r=>({customers:[...r.customers,a],customersLoading:!1})),{success:!0,customer:a}}catch(a){return s({customersError:a.message,customersLoading:!1}),{success:!1,error:a.message}}},editCustomer:async(t,a)=>{s({customersLoading:!0,customersError:null});try{const r=await Lt(t,a);return s(l=>({customers:l.customers.map(o=>o.id===parseInt(t)?r:o),customersLoading:!1})),{success:!0,customer:r}}catch(r){return s({customersError:r.message,customersLoading:!1}),{success:!1,error:r.message}}},removeCustomer:async t=>{s({customersLoading:!0,customersError:null});try{return await Ot(t),s(a=>({customers:a.customers.filter(r=>r.id!==parseInt(t)),customersLoading:!1})),{success:!0}}catch(a){return s({customersError:a.message,customersLoading:!1}),{success:!1,error:a.message}}},getProductById:t=>{const{products:a}=n();return a.find(r=>r.id===parseInt(t))},getOrderById:t=>{const{orders:a}=n();return a.find(r=>r.id===parseInt(t))},getCustomerById:t=>{const{customers:a}=n();return a.find(r=>r.id===parseInt(t))},getVendaById:t=>{const{vendas:a}=n();return a.find(r=>r.id===parseInt(t))},getCouponById:t=>{const{coupons:a}=n();return a.find(r=>r.id===parseInt(t))},reloadAll:async()=>{await Promise.all([n().loadProducts(),n().loadOrders(),n().loadCustomers(),n().loadVendas(),n().loadCoupons()])}}));function $t(){const{products:s,loadProducts:n}=se();y.useEffect(()=>{n()},[n]);const t=(s||[]).filter(l=>l.isFeatured).slice(0,4),a=`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E")`,r=["https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=600&q=80","https://images.unsplash.com/photo-1483985988355-763728e1935b?w=600&q=80","https://images.unsplash.com/photo-1539109136881-3be0616acf4b?w=600&q=80","https://images.unsplash.com/photo-1550614000-4b9519e00707?w=600&q=80"];return e.jsxs("div",{className:"w-full overflow-x-hidden bg-[#FDFBF7] text-[#4A3B32] font-sans selection:bg-[#C75D3B] selection:text-white",children:[e.jsxs("section",{className:"relative overflow-hidden h-screen flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{backgroundImage:a}}),e.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-[#E8C4B0]/10 rounded-full blur-[120px] pointer-events-none translate-x-1/3 -translate-y-1/4"}),e.jsx("div",{className:"flex-1 flex items-center justify-center -mt-20 md:-mt-16 lg:-mt-20",children:e.jsx("div",{className:"container-custom relative z-10 w-full px-4",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-10 xl:gap-16 items-center",children:[e.jsx("div",{className:"flex justify-center lg:justify-end animate-fade-in order-1",children:e.jsx("img",{src:"/marcacompleta.PNG",alt:"Studio 30 Closet - Logo Completa",width:"640",height:"360",fetchpriority:"high",className:"w-72 sm:w-96 md:w-[28rem] lg:w-[32rem] xl:w-[40rem] h-auto object-contain drop-shadow-xl hover:scale-[1.02] transition-transform duration-700"})}),e.jsxs("div",{className:"text-center lg:text-left space-y-3 md:space-y-4 order-2 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[e.jsxs("h1",{className:"font-display text-4xl sm:text-5xl md:text-6xl lg:text-6xl xl:text-7xl text-[#4A3B32] leading-[1.1]",children:["O provador mais ",e.jsx("br",{}),"exclusivo √© a ",e.jsx("br",{className:"hidden lg:block"}),e.jsx("span",{className:"text-[#C75D3B] italic font-light",children:"sua casa."})]}),e.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-[#4A3B32]/90 leading-relaxed max-w-xl mx-auto lg:mx-0",children:"Receba nossa curadoria de luxo, experimente sem pressa no seu ambiente e pague apenas pelo que amar."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center lg:items-start justify-center lg:justify-start gap-2 md:gap-3",children:[e.jsxs(M,{to:"/catalogo",className:"w-full sm:w-auto px-8 md:px-10 py-3 md:py-4 bg-[#C75D3B] text-white rounded-full font-medium tracking-wide hover:bg-[#A64D31] transition-all duration-300 shadow-lg shadow-[#C75D3B]/20 hover:shadow-[#C75D3B]/40 hover:-translate-y-1 flex items-center justify-center gap-2 text-sm md:text-base",children:["Explorar Cole√ß√£o",e.jsx(Pe,{className:"w-4 h-4 md:w-5 md:h-5"})]}),e.jsx(M,{to:"/como-funciona",className:"w-full sm:w-auto px-8 md:px-10 py-3 md:py-4 bg-transparent border border-[#4A3B32]/20 text-[#4A3B32] rounded-full font-medium hover:border-[#4A3B32] transition-all duration-300 flex items-center justify-center text-sm md:text-base",children:"Como Funciona"})]})]})]})})}),e.jsx("div",{className:"relative z-10 border-t border-[#4A3B32]/10 bg-[#FDFBF7]/80 backdrop-blur-sm mb-0",children:e.jsx("div",{className:"container-custom py-5 md:py-6",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 text-center",children:[{icon:zs,text:"Pagamento Seguro"},{icon:je,text:"Entrega Gr√°tis*"},{icon:Ne,text:"48h para Provar"},{icon:rs,text:"Curadoria Premium"}].map((l,o)=>e.jsxs("div",{className:"flex flex-col items-center gap-1.5 md:gap-2 group",children:[e.jsx("div",{className:"text-[#C75D3B] group-hover:scale-110 transition-transform duration-300",children:e.jsx(l.icon,{className:"w-5 h-5 md:w-6 md:h-6"})}),e.jsx("span",{className:"text-[#4A3B32]/80 text-xs md:text-sm font-medium uppercase tracking-wider",children:l.text})]},o))})})})]}),e.jsx("section",{className:"py-24 bg-white relative",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"relative order-2 lg:order-1",children:[e.jsx("div",{className:"aspect-[4/5] rounded-none md:rounded-[2rem] overflow-hidden",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1558769132-cb1aea458c5e?q=80&w=2574&auto=format&fit=crop",alt:"Conceito Malinha",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-1000"})}),e.jsx("div",{className:"hidden md:block absolute top-6 -left-6 w-full h-full border-2 border-[#C75D3B]/20 rounded-[2rem] -z-10"})]}),e.jsxs("div",{className:"order-1 lg:order-2 space-y-8",children:[e.jsxs("h2",{className:"font-display text-4xl md:text-5xl text-[#4A3B32]",children:["A Boutique vai ",e.jsx("br",{}),e.jsx("span",{className:"text-[#C75D3B] italic",children:"at√© voc√™."})]}),e.jsx("p",{className:"text-[#4A3B32]/90 text-lg leading-relaxed",children:"Esque√ßa a ilumina√ß√£o ruim dos provadores e a pressa. Com a Malinha Delivery, sua casa se torna o cen√°rio perfeito para suas escolhas."}),e.jsx("div",{className:"space-y-6 pt-4",children:[{title:"1. Personalize",desc:"Escolha at√© 20 pe√ßas no site ou WhatsApp."},{title:"2. Experimente",desc:"Receba em casa. 48h para provar com calma."},{title:"3. Decida",desc:"Fique s√≥ com o que amar. Buscamos o resto."}].map((l,o)=>e.jsxs("div",{className:"flex gap-5 border-b border-[#4A3B32]/5 pb-6 last:border-0",children:[e.jsxs("span",{className:"text-[#C75D3B] font-display text-3xl font-light",children:["0",o+1]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-[#4A3B32] text-lg mb-1 uppercase tracking-wide",children:l.title}),e.jsx("p",{className:"text-[#4A3B32]/90",children:l.desc})]})]},o))})]})]})})}),e.jsx("section",{className:"py-24 bg-[#FDFBF7]",children:e.jsxs("div",{className:"container-custom",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("span",{className:"text-[#C75D3B] text-xs font-bold uppercase tracking-[0.2em] mb-3 block",children:"New Arrivals"}),e.jsx("h2",{className:"font-display text-4xl text-[#4A3B32]",children:"Curadoria da Semana"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:t.slice(0,4).map(l=>e.jsx(Ls,{product:l},l.id))}),e.jsx("div",{className:"mt-16 text-center",children:e.jsx(M,{to:"/catalogo",className:"inline-block border-b-2 border-[#C75D3B] text-[#4A3B32] pb-1 hover:text-[#C75D3B] transition-colors font-medium",children:"Ver cat√°logo completo"})})]})}),e.jsxs("section",{className:"py-24 bg-[#E8C4B0]/10 relative overflow-hidden",children:[e.jsx($s,{className:"absolute top-10 left-10 w-32 h-32 text-[#C75D3B] opacity-[0.03] rotate-180"}),e.jsxs("div",{className:"container-custom relative z-10",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"font-display text-6xl md:text-7xl text-[#C75D3B] opacity-90 mb-4",style:{fontFamily:"serif",fontStyle:"italic"},children:"Love Notes"}),e.jsx("p",{className:"text-[#4A3B32]/90 uppercase tracking-widest text-xs font-medium",children:"O que nossas clientes dizem"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{text:"A facilidade de provar em casa mudou tudo! As pe√ßas chegaram impec√°veis.",author:"Carolina M."},{text:"Qualidade surreal das pe√ßas. O tecido, o caimento... sem press√£o de vendedor.",author:"Beatriz L."},{text:"Moro longe do centro e a entrega foi super r√°pida. Devolvi o resto sem burocracia.",author:"Fernanda S."}].map((l,o)=>e.jsxs("div",{className:"bg-white p-8 md:p-10 shadow-sm border border-[#4A3B32]/5 text-center flex flex-col items-center",children:[e.jsx("div",{className:"flex gap-1 mb-6",children:[1,2,3,4,5].map(u=>e.jsx(rs,{className:"w-4 h-4 fill-[#C75D3B] text-[#C75D3B]"},u))}),e.jsxs("p",{className:"text-[#4A3B32]/80 text-lg font-light leading-relaxed mb-8",children:['"',l.text,'"']}),e.jsx("span",{className:"font-display text-[#4A3B32] text-xl border-t border-[#C75D3B]/20 pt-4 w-full block",children:l.author})]},o))})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"container-custom",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-10 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-[#FDFBF7] rounded-full text-[#C75D3B]",children:e.jsx(ve,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-display text-[#4A3B32]",children:"@studio30closet"}),e.jsx("p",{className:"text-sm text-[#4A3B32]/80",children:"Siga para inspira√ß√µes di√°rias"})]})]}),e.jsxs("a",{href:"https://www.instagram.com/studio30closet/",target:"_blank",rel:"noopener noreferrer",className:"text-[#C75D3B] font-medium hover:text-[#A64D31] flex items-center gap-2 group",children:["Ver perfil completo",e.jsx(Je,{className:"w-4 h-4 transition-transform group-hover:translate-x-1 group-hover:-translate-y-1"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4",children:r.map((l,o)=>e.jsxs("a",{href:"https://www.instagram.com/studio30closet/",target:"_blank",rel:"noopener noreferrer","aria-label":`Ver postagem ${o+1} no Instagram`,className:"group relative aspect-square overflow-hidden cursor-pointer bg-[#FDFBF7]",children:[e.jsx("img",{src:l,alt:"Instagram Post",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-[#4A3B32]/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx(ve,{className:"text-white w-8 h-8"})})]},o))})]})}),e.jsx("section",{className:"py-24 bg-[#FDFBF7] border-t border-[#4A3B32]/5",children:e.jsxs("div",{className:"container-custom text-center px-4",children:[e.jsx("div",{className:"w-16 h-1 bg-[#C75D3B]/20 mx-auto mb-8 rounded-full"}),e.jsx("h2",{className:"font-display text-4xl md:text-5xl text-[#4A3B32] mb-6",children:"Pronta para montar sua malinha?"}),e.jsxs("p",{className:"text-[#4A3B32]/90 max-w-xl mx-auto mb-10 text-lg font-light leading-relaxed",children:["Selecione suas pe√ßas favoritas e receba em casa. ",e.jsx("br",{className:"hidden md:block"})," Simples, seguro e sem compromisso."]}),e.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:e.jsx(M,{to:"/catalogo",className:"inline-flex items-center justify-center px-12 py-4 bg-[#C75D3B] text-white rounded-full font-bold text-lg hover:bg-[#A64D31] transition-all duration-300 shadow-xl shadow-[#C75D3B]/20 hover:-translate-y-1",children:"Come√ßar Agora"})})]})})]})}function _t({product:s,isOpen:n,onClose:t}){const[a,r]=y.useState(0),[l,o]=y.useState(null),[u,c]=y.useState(!1),[b,h]=y.useState(!1),{addItem:j,items:x,isLimitReached:i}=Se(),d=(s==null?void 0:s.variants)||[{colorName:(s==null?void 0:s.color)||"Padr√£o",images:(s==null?void 0:s.images)||[]}],N=d[a];if(y.useEffect(()=>{s&&(o(s.sizes[0]),r(0))},[s]),y.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),!n||!s)return null;const g=s.originalPrice&&s.originalPrice>s.price,k=x.some(m=>m.id===s.id),E=()=>{if(!l||i())return;c(!0);const m={...s,selectedColor:N.colorName,images:N.images};setTimeout(()=>{j(m,l),c(!1),h(!0),setTimeout(()=>{h(!1),t()},1500)},300)};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:t}),e.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden animate-slide-up",children:[e.jsx("button",{onClick:t,className:`absolute top-4 right-4 z-10 p-2 rounded-full bg-white/80 backdrop-blur-sm
                     text-brand-brown hover:bg-white hover:scale-110 transition-all duration-200`,children:e.jsx(ue,{className:"w-5 h-5"})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-0 overflow-y-auto max-h-[90vh]",children:[e.jsxs("div",{className:"relative aspect-square md:aspect-auto h-full min-h-[400px]",children:[e.jsx(Q,{mode:"wait",children:e.jsx(I.img,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},src:N.images[0],alt:s.name,className:"w-full h-full object-cover"},a)}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[s.isNew&&e.jsx("span",{className:"bg-brand-terracotta text-white text-xs font-medium px-3 py-1 rounded-full",children:"Novo"}),g&&e.jsxs("span",{className:"bg-brand-coral text-white text-xs font-medium px-3 py-1 rounded-full",children:["-",Math.round((1-s.price/s.originalPrice)*100),"%"]})]})]}),e.jsxs("div",{className:"p-8 flex flex-col",children:[e.jsx("span",{className:"text-sm text-brand-coral uppercase tracking-wider font-medium mb-2",children:s.category}),e.jsx("h2",{className:"font-display text-3xl font-semibold text-brand-brown mb-2",children:s.name}),e.jsxs("div",{className:"flex items-baseline gap-3 mb-6",children:[e.jsx("span",{className:"text-3xl font-bold text-brand-terracotta",children:ce(s.price)}),g&&e.jsx("span",{className:"text-lg text-brand-brown/40 line-through",children:ce(s.originalPrice)})]}),e.jsx("p",{className:"text-brand-brown/70 leading-relaxed mb-8",children:s.description}),d.length>0&&d[0].colorName&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-sm font-medium text-brand-brown mb-3",children:["Cor: ",e.jsx("span",{className:"font-bold",children:N.colorName})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:d.map((m,f)=>e.jsx("button",{onClick:()=>r(f),className:A("px-4 py-2 rounded-xl text-xs font-bold transition-all duration-200 border-2",a===f?"border-brand-terracotta bg-brand-terracotta/5 text-brand-terracotta shadow-sm":"border-brand-peach bg-white text-brand-brown/60 hover:border-brand-terracotta"),children:m.colorName},f))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-sm font-medium text-brand-brown mb-3",children:"Selecione o Tamanho"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.sizes.map(m=>e.jsx("button",{onClick:()=>o(m),className:A("min-w-[48px] h-12 px-3 rounded-xl text-sm font-medium transition-all duration-200 border-2 flex items-center justify-center",l===m?"border-brand-terracotta bg-brand-terracotta text-white":"border-brand-peach bg-white text-brand-brown hover:border-brand-terracotta"),children:m==="U"?"TAMANHO √öNICO":m},m))})]}),e.jsxs("div",{className:"mt-auto pt-6",children:[e.jsx("button",{onClick:E,disabled:!l||u||i(),className:A("w-full py-4 rounded-full text-lg font-medium flex items-center justify-center gap-2 transition-all duration-300",b?"bg-green-500 text-white":k?"bg-brand-peach text-brand-brown":"btn-primary",(!l||i())&&"opacity-50 cursor-not-allowed"),children:u?e.jsx("span",{className:"animate-pulse",children:"Adicionando..."}):b?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"w-5 h-5"}),"Adicionado √† Malinha!"]}):k?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"w-5 h-5"}),"J√° est√° na sua Malinha"]}):i()?"Limite de 20 pe√ßas atingido":e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-5 h-5"}),"Adicionar √† Malinha"]})}),e.jsxs("p",{className:"text-center text-sm text-brand-brown/50 mt-3",children:[x.length,"/20 pe√ßas na sua malinha"]})]})]})]})]})]})}function hs({categories:s,selectedCategory:n,onCategoryChange:t,sizes:a,selectedSizes:r,onSizeChange:l,onClearFilters:o}){const u=n||r.length>0;return e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsx("h4",{className:"text-xs font-bold text-[#4A3B32]/40 uppercase tracking-[0.2em]",children:"Categorias"}),s.map(c=>e.jsx("button",{onClick:()=>t(c==="all"?null:c),className:A("block w-full text-left py-2 text-sm transition-colors capitalize",n===c||!n&&c==="all"?"text-[#C75D3B] font-medium":"text-[#4A3B32]/60 hover:text-[#4A3B32]"),children:c==="all"?"Ver todas":c},c))]}),e.jsx("div",{className:"h-px bg-[#4A3B32]/5"}),e.jsxs("div",{className:"space-y-5",children:[e.jsx("h4",{className:"text-xs font-bold text-[#4A3B32]/40 uppercase tracking-[0.2em]",children:"Tamanhos"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(c=>e.jsx("button",{onClick:()=>l(c),className:A("px-4 py-2 text-sm font-medium border transition-all",r.includes(c)?"bg-[#4A3B32] text-white border-[#4A3B32]":"bg-transparent text-[#4A3B32] border-[#4A3B32]/20 hover:border-[#4A3B32]"),children:c},c))})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-px bg-[#4A3B32]/5"}),e.jsx("button",{onClick:o,className:"text-sm text-[#C75D3B] hover:text-[#A64D31] transition-colors",children:"Limpar filtros"})]})]})}function Ht(){const[s,n]=st(),[t,a]=y.useState(null),[r,l]=y.useState(!1),{products:o,loadProducts:u}=se();y.useEffect(()=>{u()},[u]);const c=s.get("categoria"),b=s.get("tamanhos"),h=b?b.split(","):[],{items:j}=Se(),x=(m,f)=>{const D=new URLSearchParams(s);f==null||Array.isArray(f)&&f.length===0?D.delete(m):D.set(m,Array.isArray(f)?f.join(","):f),n(D)},i=m=>{x("categoria",m)},d=m=>{const f=h.includes(m)?h.filter(D=>D!==m):[...h,m];x("tamanhos",f)},N=()=>{n({})},g=["all",...new Set(o.map(m=>m.category))],k=["PP","P","M","G","GG","U"],E=y.useMemo(()=>o.filter(m=>!(c&&c!=="all"&&m.category!==c||h.length>0&&!m.sizes.some(f=>h.includes(f)))),[o,c,h]);return c||h.length>0,e.jsxs("div",{className:"min-h-screen bg-[#FDFBF7]",children:[e.jsx("div",{className:"container-custom py-20",children:e.jsxs("div",{className:"grid md:grid-cols-4 gap-16",children:[e.jsx("aside",{className:"hidden md:block",children:e.jsx("div",{className:"sticky top-44",children:e.jsx(hs,{categories:g,selectedCategory:c,onCategoryChange:i,sizes:k,selectedSizes:h,onSizeChange:d,onClearFilters:N})})}),e.jsx("div",{className:"md:col-span-3",children:E.length>0?e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(m=>e.jsx(Ls,{product:m,onQuickView:a},m.id))}):e.jsxs("div",{className:"text-center py-32",children:[e.jsx("h2",{className:"font-display text-6xl text-[#C75D3B]/20 mb-6",style:{fontStyle:"italic"},children:"Nada por aqui"}),e.jsx("p",{className:"text-[#4A3B32]/60 uppercase tracking-widest text-xs mb-8",children:"Nenhuma pe√ßa encontrada"}),e.jsx("button",{onClick:N,className:"border-b-2 border-[#C75D3B] text-[#4A3B32] pb-1 hover:text-[#C75D3B] transition-colors",children:"Limpar filtros"})]})})]})}),r&&e.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[#4A3B32]/40 backdrop-blur-sm",onClick:()=>l(!1)}),e.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-full max-w-sm bg-white flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-[#4A3B32]/5 flex items-center justify-between",children:[e.jsx("h3",{className:"font-display text-2xl text-[#4A3B32]",children:"Filtros"}),e.jsx("button",{onClick:()=>l(!1),className:"text-[#4A3B32]/40 hover:text-[#4A3B32]",children:e.jsx(ue,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx(hs,{categories:g,selectedCategory:c,onCategoryChange:i,sizes:k,selectedSizes:h,onSizeChange:d,onClearFilters:N})}),e.jsx("div",{className:"p-6 border-t border-[#4A3B32]/5",children:e.jsxs("button",{onClick:()=>l(!1),className:"w-full py-4 bg-[#C75D3B] text-white font-bold tracking-wide hover:bg-[#A64D31] transition-colors",children:["Ver ",E.length," pe√ßas"]})})]})]}),e.jsx(_t,{product:t,isOpen:!!t,onClose:()=>a(null)})]})}function Ut(){return e.jsxs("div",{className:"w-full bg-[#FDFBF7]",children:[e.jsx("section",{className:"py-24 relative",children:e.jsxs("div",{className:"container-custom max-w-6xl",children:[e.jsx("div",{className:"hidden lg:block absolute left-1/2 top-0 bottom-0 w-px bg-[#C75D3B]/20 -translate-x-1/2"}),e.jsxs("div",{className:"space-y-32",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"lg:text-right space-y-6",children:[e.jsx("div",{className:"inline-flex lg:float-right items-center gap-3 px-5 py-2 bg-[#C75D3B] rounded-full",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"01"})}),e.jsx("h2",{className:"font-display text-5xl md:text-6xl text-[#4A3B32] clear-both",children:"Monte sua Malinha"}),e.jsx("p",{className:"text-lg text-[#4A3B32]/70 leading-relaxed max-w-md lg:ml-auto",children:"Navegue pelo cat√°logo e escolha at√© 20 pe√ßas. Use filtros inteligentes para encontrar exatamente o que combina com voc√™."}),e.jsx("div",{className:"flex flex-wrap gap-2 lg:justify-end",children:["Curadoria exclusiva","Filtros intuitivos","Preview detalhado"].map(s=>e.jsx("span",{className:"px-4 py-2 bg-white border border-[#E8C4B0] rounded-full text-sm text-[#4A3B32]/60",children:s},s))})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden bg-[#E8C4B0]/20 shadow-2xl",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1483985988355-763728e1935b?w=800&q=80",alt:"Monte sua malinha",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"})}),e.jsxs("div",{className:"absolute -top-4 -right-4 bg-[#C75D3B] px-6 py-3 rounded-2xl shadow-lg",children:[e.jsx("p",{className:"text-sm text-white/80",children:"At√©"}),e.jsx("p",{className:"font-display text-4xl text-white",children:"20"}),e.jsx("p",{className:"text-sm text-white/80",children:"pe√ßas"})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"relative group lg:order-1",children:[e.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden bg-[#E8C4B0]/20 shadow-2xl",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&q=80",alt:"Receba em casa",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"})}),e.jsxs("div",{className:"absolute -bottom-4 -left-4 bg-[#C75D3B] px-6 py-3 rounded-2xl shadow-lg",children:[e.jsx("p",{className:"text-sm text-white/80",children:"Entrega em"}),e.jsx("p",{className:"font-display text-4xl text-white",children:"24h"})]})]}),e.jsxs("div",{className:"lg:order-2 space-y-6",children:[e.jsx("div",{className:"inline-flex items-center gap-3 px-5 py-2 bg-[#C75D3B] rounded-full",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"02"})}),e.jsx("h2",{className:"font-display text-5xl md:text-6xl text-[#4A3B32]",children:"Receba com Carinho"}),e.jsx("p",{className:"text-lg text-[#4A3B32]/70 leading-relaxed max-w-md",children:"Sua malinha chega embalada com todo cuidado, cada pe√ßa protegida individualmente. Agende o melhor hor√°rio para voc√™."}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Entrega gr√°tis","Embalagem premium","Rastreamento"].map(s=>e.jsx("span",{className:"px-4 py-2 bg-white border border-[#E8C4B0] rounded-full text-sm text-[#4A3B32]/60",children:s},s))})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"lg:text-right space-y-6",children:[e.jsx("div",{className:"inline-flex lg:float-right items-center gap-3 px-5 py-2 bg-[#C75D3B] rounded-full",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"03"})}),e.jsx("h2",{className:"font-display text-5xl md:text-6xl text-[#4A3B32] clear-both",children:"Experimente em Casa"}),e.jsx("p",{className:"text-lg text-[#4A3B32]/70 leading-relaxed max-w-md lg:ml-auto",children:"48 horas para provar tudo com calma. Combine com seu guarda-roupa, veja na luz natural, pe√ßa opini√£o."}),e.jsx("div",{className:"flex flex-wrap gap-2 lg:justify-end",children:["Sem pressa","Seu espelho","Conforto total"].map(s=>e.jsx("span",{className:"px-4 py-2 bg-white border border-[#E8C4B0] rounded-full text-sm text-[#4A3B32]/60",children:s},s))})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden bg-[#E8C4B0]/20 shadow-2xl",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1558171813-4c088753af8f?w=800&q=80",alt:"Experimente em casa",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"})}),e.jsxs("div",{className:"absolute -top-4 -right-4 bg-[#C75D3B] px-6 py-3 rounded-2xl shadow-lg",children:[e.jsx("p",{className:"font-display text-4xl text-white",children:"48h"}),e.jsx("p",{className:"text-sm text-white/80",children:"para decidir"})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"relative group lg:order-1",children:[e.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden bg-[#E8C4B0]/20 shadow-2xl",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&q=80",alt:"Fique com o que amar",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"})}),e.jsxs("div",{className:"absolute -bottom-4 -left-4 bg-[#C75D3B] px-6 py-3 rounded-2xl shadow-lg",children:[e.jsx("p",{className:"text-sm text-white/80",children:"Pague s√≥"}),e.jsx("p",{className:"font-display text-3xl text-white",children:"o que ficar"})]})]}),e.jsxs("div",{className:"lg:order-2 space-y-6",children:[e.jsx("div",{className:"inline-flex items-center gap-3 px-5 py-2 bg-[#C75D3B] rounded-full",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"04"})}),e.jsx("h2",{className:"font-display text-5xl md:text-6xl text-[#4A3B32]",children:"Devolva o Resto"}),e.jsx("p",{className:"text-lg text-[#4A3B32]/70 leading-relaxed max-w-md",children:"Ficou com as pe√ßas que ama? Perfeito! O resto n√≥s buscamos sem custo. Voc√™ paga apenas pelo que decidir ficar."}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Devolu√ß√£o gr√°tis","Sem burocracia","Coleta r√°pida"].map(s=>e.jsx("span",{className:"px-4 py-2 bg-white border border-[#E8C4B0] rounded-full text-sm text-[#4A3B32]/60",children:s},s))})]})]})]})]})}),e.jsx("section",{className:"py-24 bg-white",children:e.jsxs("div",{className:"container-custom max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"font-display text-5xl md:text-6xl text-[#4A3B32] mb-4",children:"Ainda tem d√∫vidas?"}),e.jsx("p",{className:"text-lg text-[#4A3B32]/60",children:"Respondemos as perguntas mais comuns"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[{q:"√â realmente gr√°tis?",a:"Sim! Entrega e coleta s√£o 100% gratuitas. Voc√™ s√≥ paga pelas pe√ßas que ficar."},{q:"Quanto tempo tenho?",a:"Voc√™ tem 48 horas para experimentar todas as pe√ßas com calma em casa."},{q:"E se n√£o servir nada?",a:"Sem problemas! Devolvemos tudo sem custo algum para voc√™."},{q:"Como pago?",a:"Aceitamos PIX, cart√£o de cr√©dito em at√© 12x e d√©bito."}].map((s,n)=>e.jsx("div",{className:"bg-[#FDFBF7] p-8 rounded-2xl border border-[#E8C4B0]/50 hover:border-[#C75D3B]/50 hover:shadow-lg hover:-translate-y-1 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-[#C75D3B] flex items-center justify-center",children:e.jsx(xe,{className:"w-5 h-5 text-white",strokeWidth:3})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-display text-xl text-[#4A3B32] mb-2",children:s.q}),e.jsx("p",{className:"text-[#4A3B32]/70 leading-relaxed",children:s.a})]})]})},n))})]})}),e.jsx("section",{className:"py-32 bg-[#4A3B32]",children:e.jsxs("div",{className:"container-custom text-center",children:[e.jsx("h2",{className:"font-display text-5xl md:text-7xl text-white mb-8",children:"Pronta para come√ßar?"}),e.jsx("p",{className:"text-xl text-white/80 max-w-2xl mx-auto mb-12",children:"Monte sua malinha agora e receba em casa. Simples assim."}),e.jsxs(M,{to:"/catalogo",className:"inline-flex items-center gap-3 px-12 py-5 bg-[#C75D3B] text-white rounded-full font-bold text-lg hover:bg-[#A64D31] transition-all duration-300 shadow-2xl hover:scale-105",children:["Explorar Cat√°logo",e.jsx(Pe,{className:"w-5 h-5"})]})]})})]})}function Gt(){return e.jsxs("div",{className:"w-full bg-[#FDFBF7]",children:[e.jsxs("section",{className:"relative min-h-screen grid lg:grid-cols-2",children:[e.jsx("div",{className:"relative bg-[#E8C4B0]/30 flex items-center justify-center p-8 lg:p-16",children:e.jsxs("div",{className:"relative max-w-md w-full",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"aspect-[3/4] rounded-3xl overflow-hidden shadow-2xl border-4 border-white",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400&q=80",alt:"Thais",className:"w-full h-full object-cover"})})}),e.jsx("div",{className:"pt-8 space-y-4",children:e.jsx("div",{className:"aspect-[3/4] rounded-3xl overflow-hidden shadow-2xl border-4 border-white",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400&q=80",alt:"Augusto",className:"w-full h-full object-cover"})})})]}),e.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 bg-[#C75D3B] px-8 py-4 rounded-full shadow-2xl",children:e.jsx("p",{className:"font-display text-2xl text-white",children:"Fundadores"})})]})}),e.jsx("div",{className:"flex items-center p-8 lg:p-16 bg-white",children:e.jsxs("div",{className:"max-w-xl space-y-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-[#C75D3B]/10 rounded-full",children:[e.jsx(ns,{className:"w-4 h-4 text-[#C75D3B]"}),e.jsx("span",{className:"text-[#C75D3B] text-sm font-medium uppercase tracking-wider",children:"Nossa Hist√≥ria"})]}),e.jsxs("h1",{className:"font-display text-6xl md:text-7xl text-[#4A3B32]",children:["Somos ",e.jsx("span",{className:"text-[#C75D3B]",children:"Augusto"})," & ",e.jsx("span",{className:"text-[#C75D3B]",children:"Thais"})]}),e.jsxs("div",{className:"space-y-6 text-lg text-[#4A3B32]/80 leading-relaxed",children:[e.jsx("p",{children:"Um casal apaixonado por moda e pela miss√£o de transformar a forma como as pessoas compram roupas."}),e.jsxs("p",{children:["Cansados dos provadores apertados, filas e vendedores insistentes, pensamos: ",e.jsx("strong",{className:"text-[#C75D3B]",children:'"e se a boutique fosse at√© a cliente?"'})]}),e.jsxs("p",{children:["Assim nasceu a ",e.jsx("strong",{className:"text-[#4A3B32]",children:"Studio 30 Closet"})," ‚Äì onde voc√™ experimenta moda de luxo no conforto da sua casa."]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(M,{to:"/catalogo",className:"inline-flex items-center gap-2 text-[#C75D3B] font-medium hover:gap-4 transition-all",children:["Ver cole√ß√£o",e.jsx(Pe,{className:"w-5 h-5"})]})})]})})]}),e.jsx("section",{className:"py-24 bg-white",children:e.jsxs("div",{className:"container-custom",children:[e.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20",children:[e.jsx("h2",{className:"font-display text-5xl md:text-6xl text-[#4A3B32] mb-6",children:"O que nos move"}),e.jsx("p",{className:"text-xl text-[#4A3B32]/70",children:"Tr√™s pilares que guiam cada decis√£o que tomamos"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[{icon:ls,title:"Curadoria Exclusiva",desc:"Selecionamos cada pe√ßa pensando em qualidade, corte perfeito e atemporalidade. Nada de fast fashion."},{icon:ns,title:"Atendimento Humano",desc:"Por tr√°s de cada malinha existe uma pessoa real que se importa com sua experi√™ncia."},{icon:_s,title:"Moda Para Todas",desc:"Acreditamos que toda mulher merece se sentir linda, confiante e poderosa."}].map((s,n)=>e.jsx("div",{className:"group",children:e.jsxs("div",{className:"relative bg-[#FDFBF7] p-10 rounded-3xl border border-[#E8C4B0]/50 hover:border-[#C75D3B]/50 transition-all duration-500 hover:shadow-2xl hover:-translate-y-2",children:[e.jsx("div",{className:"inline-flex w-16 h-16 rounded-2xl bg-[#C75D3B] items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-500",children:e.jsx(s.icon,{className:"w-8 h-8 text-white",strokeWidth:2})}),e.jsx("h3",{className:"font-display text-2xl text-[#4A3B32] mb-4",children:s.title}),e.jsx("p",{className:"text-[#4A3B32]/70 leading-relaxed",children:s.desc}),e.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 border-t-2 border-r-2 border-[#C75D3B]/20 rounded-tr-2xl opacity-0 group-hover:opacity-100 transition-opacity"})]})},n))})]})}),e.jsx("section",{className:"py-24 bg-[#FDFBF7]",children:e.jsxs("div",{className:"container-custom",children:[e.jsx("div",{className:"text-center max-w-3xl mx-auto mb-20",children:e.jsxs("h2",{className:"font-display text-5xl md:text-6xl text-[#4A3B32] mb-6",children:["N√∫meros que ",e.jsx("span",{className:"text-[#C75D3B]",children:"Contam Nossa Hist√≥ria"})]})}),e.jsx("div",{className:"grid md:grid-cols-3 gap-12 max-w-5xl mx-auto",children:[{number:"500+",label:"Clientes Felizes",sublabel:"e crescendo todo dia"},{number:"1.000+",label:"Malinhas Enviadas",sublabel:"com amor e cuidado"},{number:"98%",label:"Satisfa√ß√£o",sublabel:"avalia√ß√µes 5 estrelas"}].map((s,n)=>e.jsx("div",{className:"text-center group",children:e.jsxs("div",{className:"bg-white rounded-3xl p-10 border-2 border-[#E8C4B0]/50 hover:border-[#C75D3B]/50 transition-all duration-500 hover:shadow-2xl hover:-translate-y-2",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-[#C75D3B] mb-6 group-hover:scale-110 transition-transform",children:e.jsx(Le,{className:"w-10 h-10 text-white",strokeWidth:2})}),e.jsx("p",{className:"font-display text-6xl text-[#C75D3B] mb-3 tabular-nums",children:s.number}),e.jsx("p",{className:"text-xl text-[#4A3B32] font-medium mb-2",children:s.label}),e.jsx("p",{className:"text-sm text-[#4A3B32]/60",children:s.sublabel})]})},n))})]})}),e.jsx("section",{className:"py-32 bg-[#4A3B32]",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-12",children:[e.jsx("div",{className:"inline-flex w-20 h-20 rounded-full bg-[#C75D3B] items-center justify-center",children:e.jsx("span",{className:"text-white text-5xl font-serif",children:'"'})}),e.jsx("blockquote",{className:"text-4xl md:text-5xl text-white font-display leading-tight",children:"Acreditamos que moda de luxo deve ser acess√≠vel, pessoal e ‚Äî acima de tudo ‚Äî uma experi√™ncia prazerosa."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-[#E8C4B0] font-medium text-lg",children:"Augusto & Thais"}),e.jsx("p",{className:"text-white/60 text-sm uppercase tracking-widest",children:"Fundadores da Studio 30 Closet"})]})]})})}),e.jsx("section",{className:"py-32 bg-white",children:e.jsx("div",{className:"container-custom text-center",children:e.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-[#C75D3B]/10 rounded-full",children:[e.jsx(ls,{className:"w-4 h-4 text-[#C75D3B]"}),e.jsx("span",{className:"text-[#C75D3B] text-sm font-medium uppercase tracking-wider",children:"Junte-se a N√≥s"})]}),e.jsxs("h2",{className:"font-display text-6xl md:text-7xl text-[#4A3B32]",children:["Fa√ßa parte dessa ",e.jsx("span",{className:"text-[#C75D3B]",children:"hist√≥ria"})]}),e.jsx("p",{className:"text-xl text-[#4A3B32]/70 leading-relaxed",children:"Monte sua primeira malinha e descubra por que centenas de mulheres j√° se apaixonaram pela nossa forma de fazer moda."}),e.jsx("div",{className:"pt-4",children:e.jsxs(M,{to:"/catalogo",className:"inline-flex items-center gap-3 px-12 py-5 bg-[#C75D3B] text-white rounded-full font-bold text-lg hover:bg-[#A64D31] transition-all duration-300 shadow-2xl hover:scale-105",children:["Montar Minha Malinha",e.jsx(Pe,{className:"w-5 h-5"})]})})]})})})]})}function Jt(){const{items:s,removeItem:n,clearItems:t,customerData:a,setCustomerData:r}=Se(),{addOrder:l}=se(),[o,u]=y.useState(s.length>0?1:0),[c,b]=y.useState(!1),h=s.reduce((i,d)=>i+d.price,0),j=i=>{const{name:d,value:N}=i.target;r({[d]:N})},x=async i=>{if(i.preventDefault(),!(!a.name||!a.phone||!a.address)){b(!0);try{const d={customer:{name:a.name,phone:a.phone,email:a.email||"",address:a.address,complement:a.complement||""},items:s,totalValue:h,itemsCount:s.length},N=await l(d);N.success||console.error("Erro ao registrar pedido no sistema:",N.error);const g=dt(s,a),k=ct("+5511999999999",g);window.open(k,"_blank"),b(!1)}catch(d){console.error("Falha no checkout:",d),b(!1)}}};return s.length===0?e.jsx("div",{className:"min-h-screen bg-[#FDFBF7] pt-24 flex items-center justify-center",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-md mx-auto text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(me,{className:"w-10 h-10 text-[#C75D3B]"})}),e.jsx("h1",{className:"font-display text-3xl font-semibold text-[#4A3B32] mb-4",children:"Sua malinha est√° vazia"}),e.jsx("p",{className:"text-[#4A3B32]/60 mb-8",children:"Navegue pelo cat√°logo e adicione at√© 20 pe√ßas para experimentar em casa."}),e.jsxs(M,{to:"/catalogo",className:"inline-flex items-center gap-2 px-8 py-3 bg-[#C75D3B] text-white rounded-full font-medium tracking-wide hover:bg-[#A64D31] transition-all duration-300 shadow-lg shadow-[#C75D3B]/20",children:[e.jsx(le,{className:"w-5 h-5"}),"Ver cat√°logo"]})]})})}):e.jsx("div",{className:"min-h-screen bg-[#FDFBF7] pt-24",children:e.jsxs("div",{className:"container-custom py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl font-semibold text-[#4A3B32]",children:"Sua Malinha"}),e.jsxs("p",{className:"text-[#4A3B32]/60 mt-1",children:[s.length,"/20 pe√ßas selecionadas"]})]}),e.jsxs(M,{to:"/catalogo",className:"flex items-center gap-2 text-[#C75D3B] hover:text-[#A64D31] transition-colors",children:[e.jsx(Z,{className:"w-5 h-5"}),"Adicionar mais"]})]}),e.jsx("div",{className:"flex items-center justify-center gap-4 mb-8",children:[{num:1,label:"Revisar"},{num:2,label:"Dados"}].map((i,d)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:A("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all",o>=i.num?"bg-[#C75D3B] text-white":"bg-[#E8C4B0] text-[#4A3B32]"),children:o>i.num?e.jsx(xe,{className:"w-4 h-4"}):i.num}),e.jsx("span",{className:A("text-sm font-medium",o>=i.num?"text-[#4A3B32]":"text-[#4A3B32]/50"),children:i.label}),d<1&&e.jsx("div",{className:"w-12 h-0.5 bg-[#E8C4B0] mx-2"})]},i.num))}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden border border-[#4A3B32]/5",children:o===1?e.jsx("div",{className:"divide-y divide-[#E8C4B0]/30",children:s.map(i=>e.jsxs("div",{className:"p-4 flex gap-4 group",children:[e.jsx("div",{className:"w-20 h-24 rounded-lg overflow-hidden flex-shrink-0",children:e.jsx("img",{src:i.images[0],alt:i.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-[#4A3B32] line-clamp-1",children:i.name}),e.jsxs("p",{className:"text-sm text-[#4A3B32]/60 mt-1",children:["Tamanho: ",i.selectedSize]}),e.jsx("p",{className:"text-[#C75D3B] font-semibold mt-1",children:ce(i.price)})]}),e.jsx("button",{onClick:()=>n(i.itemId),className:"p-2 text-[#4A3B32]/40 hover:text-red-500 transition-colors",children:e.jsx(ee,{className:"w-5 h-5"})})]},i.itemId))}):e.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[e.jsx("h2",{className:"font-display text-xl font-semibold text-[#4A3B32] mb-4",children:"Seus Dados"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#4A3B32] mb-2",children:"Nome completo *"}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:j,required:!0,className:"w-full px-4 py-3 rounded-xl border border-[#E8C4B0] focus:border-[#C75D3B] focus:ring-2 focus:ring-[#C75D3B]/20 outline-none transition-all",placeholder:"Seu nome"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#4A3B32] mb-2",children:"WhatsApp *"}),e.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:j,required:!0,className:"w-full px-4 py-3 rounded-xl border border-[#E8C4B0] focus:border-[#C75D3B] focus:ring-2 focus:ring-[#C75D3B]/20 outline-none transition-all",placeholder:"(11) 99999-9999"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#4A3B32] mb-2",children:"Endere√ßo de entrega *"}),e.jsx("input",{type:"text",name:"address",value:a.address,onChange:j,required:!0,className:"w-full px-4 py-3 rounded-xl border border-[#E8C4B0] focus:border-[#C75D3B] focus:ring-2 focus:ring-[#C75D3B]/20 outline-none transition-all",placeholder:"Rua, n√∫mero, bairro, cidade"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#4A3B32] mb-2",children:"Complemento"}),e.jsx("input",{type:"text",name:"complement",value:a.complement,onChange:j,className:"w-full px-4 py-3 rounded-xl border border-[#E8C4B0] focus:border-[#C75D3B] focus:ring-2 focus:ring-[#C75D3B]/20 outline-none transition-all",placeholder:"Apartamento, bloco..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#4A3B32] mb-2",children:"Observa√ß√µes"}),e.jsx("textarea",{name:"notes",value:a.notes,onChange:j,rows:3,className:"w-full px-4 py-3 rounded-xl border border-[#E8C4B0] focus:border-[#C75D3B] focus:ring-2 focus:ring-[#C75D3B]/20 outline-none transition-all resize-none",placeholder:"Prefer√™ncia de hor√°rio, instru√ß√µes de entrega..."})]})]})}),o===1&&e.jsx("button",{onClick:t,className:"mt-4 text-sm text-[#4A3B32]/50 hover:text-red-500 transition-colors",children:"Limpar toda a malinha"})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 sticky top-24 border border-[#4A3B32]/5",children:[e.jsx("h2",{className:"font-display text-xl font-semibold text-[#4A3B32] mb-6",children:"Resumo"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-[#4A3B32]/60",children:[e.jsx("span",{children:"Pe√ßas selecionadas"}),e.jsx("span",{children:s.length})]}),e.jsxs("div",{className:"flex justify-between text-[#4A3B32]/60",children:[e.jsx("span",{children:"Valor total das pe√ßas"}),e.jsx("span",{children:ce(h)})]}),e.jsxs("div",{className:"flex justify-between text-[#4A3B32]/60",children:[e.jsx("span",{children:"Frete"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Gr√°tis"})]})]}),e.jsxs("div",{className:"border-t border-[#E8C4B0] pt-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between font-semibold text-[#4A3B32]",children:[e.jsx("span",{children:"Valor estimado"}),e.jsx("span",{className:"text-[#C75D3B]",children:ce(h)})]}),e.jsx("p",{className:"text-xs text-[#4A3B32]/40 mt-2",children:"* Voc√™ s√≥ paga pelas pe√ßas que decidir ficar"})]}),o===1?e.jsx("button",{onClick:()=>u(2),className:"w-full px-8 py-3 bg-[#C75D3B] text-white rounded-full font-medium tracking-wide hover:bg-[#A64D31] transition-all duration-300 shadow-lg shadow-[#C75D3B]/20 flex items-center justify-center gap-2",children:"Continuar"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:x,disabled:c||!a.name||!a.phone||!a.address,className:A("w-full px-8 py-3 bg-[#C75D3B] text-white rounded-full font-medium tracking-wide hover:bg-[#A64D31] transition-all duration-300 shadow-lg shadow-[#C75D3B]/20 flex items-center justify-center gap-2",(c||!a.name||!a.phone||!a.address)&&"opacity-50 cursor-not-allowed"),children:c?e.jsx("span",{className:"animate-pulse",children:"Enviando..."}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{className:"w-5 h-5"}),"Enviar pelo WhatsApp"]})}),e.jsx("button",{onClick:()=>u(1),className:"w-full mt-3 text-[#C75D3B] hover:text-[#A64D31] transition-colors text-sm",children:"Voltar para revis√£o"})]}),e.jsx("p",{className:"text-xs text-center text-[#4A3B32]/40 mt-6",children:"üîí Seus dados est√£o seguros e ser√£o usados apenas para entrega"})]})})]})]})})}const Ge={username:"admin_studio30",password:"studio30@@closet"},Te=De(Ps((s,n)=>({isAuthenticated:!1,user:null,loginError:null,login:(t,a)=>t===Ge.username&&a===Ge.password?(s({isAuthenticated:!0,user:{username:Ge.username,name:"Administrador",role:"admin"},loginError:null}),{success:!0}):(s({isAuthenticated:!1,user:null,loginError:"Usu√°rio ou senha inv√°lidos"}),{success:!1,error:"Usu√°rio ou senha inv√°lidos"}),logout:()=>{s({isAuthenticated:!1,user:null,loginError:null})},checkAuth:()=>{const{isAuthenticated:t}=n();return t},clearError:()=>{s({loginError:null})}}),{name:"studio30-admin-auth",partialize:s=>({isAuthenticated:s.isAuthenticated,user:s.user})}));function Wt({children:s}){return Te(t=>t.isAuthenticated)?s:e.jsx(Is,{to:"/admin/login",replace:!0})}const Xt=[{path:"/admin/dashboard",label:"Dashboard",icon:Hs},{path:"/admin/products",label:"Produtos",icon:ae},{path:"/admin/malinhas",label:"Malinhas",icon:pe},{path:"/admin/vendas",label:"Vendas",icon:fe},{path:"/admin/customers",label:"Clientes",icon:Bs},{path:"/admin/coupons",label:"Cupons",icon:Ze},{path:"/admin/suppliers",label:"Fornecedores",icon:je},{path:"/admin/purchases",label:"Compras",icon:we},{path:"/admin/operational-costs",label:"Custos Operacionais",icon:Us}];function gs({onClose:s}){const n=Es(),t=Te(l=>l.logout),a=l=>l==="/admin/dashboard"?n.pathname===l:n.pathname.startsWith(l),r=()=>{s&&s()};return e.jsxs("aside",{className:"w-72 bg-white border-r border-gray-100 flex flex-col relative z-20 h-full",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-100 select-none",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(M,{to:"/admin/dashboard",onClick:r,className:"flex items-center gap-3",children:[e.jsx("img",{src:"/logomarca.PNG",alt:"Studio 30 Closet",className:"h-12 object-contain"}),e.jsx("div",{className:"px-3 py-1 bg-[#FAF3F0] rounded-full",children:e.jsx("span",{className:"text-[9px] font-bold text-[#C75D3B] uppercase tracking-[0.15em]",children:"Painel"})})]}),s&&e.jsx("button",{onClick:s,className:"lg:hidden p-2 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(ue,{className:"w-6 h-6 text-[#4A3B32]"})})]})}),e.jsx("nav",{className:"flex-1 px-5 py-3 space-y-1.5 overflow-y-auto custom-scrollbar",children:Xt.map((l,o)=>e.jsx(M,{to:l.path,onClick:r,className:"block group",children:e.jsxs(I.div,{whileHover:{x:4},whileTap:{scale:.98},className:A("relative flex items-center justify-between px-4 py-3.5 rounded-xl transition-all duration-300",a(l.path)?"bg-[#4A3B32] text-white shadow-lg shadow-[#4A3B32]/10":"text-[#4A3B32]/60 hover:bg-[#FDFBF7] hover:text-[#4A3B32]"),children:[e.jsxs("div",{className:"flex items-center gap-3.5",children:[e.jsx(l.icon,{className:A("w-[22px] h-[22px] transition-transform duration-300 group-hover:scale-110",a(l.path)?"text-white":"text-[#4A3B32]/40 group-hover:text-[#C75D3B]")}),e.jsx("span",{className:"font-bold text-[15px] tracking-tight",children:l.label})]}),a(l.path)&&e.jsx(I.div,{layoutId:"active-pill",className:"w-2 h-2 rounded-full bg-[#C75D3B]"})]})},l.path))}),e.jsx("div",{className:"px-5 py-3.5 border-t border-gray-100 bg-[#FDFBF7]/30",children:e.jsxs("button",{onClick:t,className:"flex items-center gap-3.5 px-4 py-3.5 rounded-xl text-red-500 hover:bg-red-50 w-full transition-all duration-200 font-bold text-[15px] group",children:[e.jsx(As,{className:"w-[22px] h-[22px] transition-transform group-hover:-translate-x-1"}),e.jsx("span",{children:"Sair do Painel"})]})})]})}function Kt({onMenuClick:s}){const{user:n,logout:t}=Te();return e.jsx("header",{className:"bg-white border-b border-gray-200 px-4 md:px-6 py-3 md:py-4 sticky top-0 z-30",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:s,className:"lg:hidden p-2 hover:bg-gray-100 rounded-xl transition-colors active:scale-95",children:e.jsx(ws,{className:"w-6 h-6 text-[#4A3B32]"})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("h1",{className:"text-lg md:text-xl font-display font-semibold text-[#4A3B32]",children:"Studio 30 Closet"}),e.jsx("p",{className:"text-xs md:text-sm text-[#4A3B32]/60",children:"Painel de gerenciamento"})]}),e.jsx("div",{className:"sm:hidden",children:e.jsx("img",{src:"/logomarca.PNG",alt:"Studio 30",className:"h-8 object-contain"})})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-3 px-4 py-2 bg-[#FDF0ED] rounded-xl",children:[e.jsx("div",{className:"w-8 h-8 bg-[#C75D3B] rounded-full flex items-center justify-center",children:e.jsx(ye,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-[#4A3B32]",children:(n==null?void 0:n.name)||"Admin"}),e.jsx("p",{className:"text-xs text-[#4A3B32]/60",children:n==null?void 0:n.username})]})]}),e.jsx("div",{className:"md:hidden w-10 h-10 bg-[#C75D3B] rounded-full flex items-center justify-center",children:e.jsx(ye,{className:"w-5 h-5 text-white"})}),e.jsx(I.button,{whileTap:{scale:.95},onClick:t,className:"p-2 md:p-2.5 text-[#4A3B32]/60 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Sair",children:e.jsx(As,{className:"w-5 h-5"})})]})]})})}function Yt(){const[s,n]=y.useState(!1);return e.jsxs("div",{className:"flex h-screen bg-[#FAF8F5] overflow-hidden max-w-screen",children:[e.jsx(rt,{richColors:!0,position:"top-center"}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(gs,{})}),e.jsx(Q,{children:s&&e.jsxs(e.Fragment,{children:[e.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden"}),e.jsx(I.div,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 left-0 w-[280px] z-50 lg:hidden",children:e.jsx(gs,{onClose:()=>n(!1)})})]})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[e.jsx(Kt,{onMenuClick:()=>n(!0)}),e.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 md:p-6 lg:p-8 pb-20 lg:pb-8",children:e.jsx(Q,{mode:"wait",children:e.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:e.jsx(Fs,{})})})})]})]})}function Qt(){const[s,n]=y.useState(""),[t,a]=y.useState(""),[r,l]=y.useState(!1),{login:o,isAuthenticated:u,loginError:c,clearError:b}=Te(),h=de();y.useEffect(()=>{u&&h("/admin/dashboard")},[u,h]),y.useEffect(()=>()=>b(),[b]);const j=async x=>{x.preventDefault(),l(!0),o(s,t).success&&h("/admin/dashboard"),l(!1)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#FDF0ED] to-[#FDFBF7] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-8",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:"/logomarca.PNG",alt:"Studio 30 Closet",className:"h-16 object-contain"})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-display font-semibold text-[#4A3B32] mb-2",children:"Admin Login"}),e.jsx("p",{className:"text-[#4A3B32]/60",children:"Acesse o painel administrativo"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#4A3B32] mb-2",children:"Usu√°rio"}),e.jsx("input",{type:"text",value:s,onChange:x=>n(x.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border border-[#E8C4B0] focus:border-[#C75D3B] focus:ring-2 focus:ring-[#C75D3B]/20 outline-none transition-all",placeholder:"Digite seu usu√°rio",disabled:r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#4A3B32] mb-2",children:"Senha"}),e.jsx("input",{type:"password",value:t,onChange:x=>a(x.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border border-[#E8C4B0] focus:border-[#C75D3B] focus:ring-2 focus:ring-[#C75D3B]/20 outline-none transition-all",placeholder:"Digite sua senha",disabled:r})]}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:c}),e.jsx("button",{type:"submit",disabled:r,className:"w-full px-8 py-3 bg-[#C75D3B] text-white rounded-full font-medium tracking-wide hover:bg-[#A64D31] transition-all duration-300 shadow-lg shadow-[#C75D3B]/20 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:r?e.jsx("span",{className:"animate-pulse",children:"Entrando..."}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-5 h-5"}),"Entrar"]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("p",{className:"text-xs text-[#4A3B32]/40",children:"üîí √Årea restrita - Apenas administradores"})})]})})}function P({className:s,...n}){return e.jsx("div",{className:A("rounded-2xl border border-gray-100 bg-white shadow-sm transition-all hover:shadow-md",s),...n})}function R({className:s,...n}){return e.jsx("div",{className:A("flex flex-col space-y-1.5 p-6",s),...n})}function _({className:s,...n}){return e.jsx("h3",{className:A("text-lg font-semibold leading-none tracking-tight text-[#4A3B32]",s),...n})}function L({className:s,...n}){return e.jsx("div",{className:A("p-6 pt-0",s),...n})}function Zt({className:s,...n}){return e.jsx("div",{className:A("flex items-center p-6 pt-0",s),...n})}function ea(){const{products:s,orders:n,customers:t,vendas:a,reloadAll:r,vendasLoading:l}=se(),[o,u]=y.useState(new Date);y.useEffect(()=>{r();const i=setInterval(()=>u(new Date),6e4);return()=>clearInterval(i)},[r]);const c=y.useMemo(()=>{const i=a.reduce((m,f)=>m+f.totalValue,0),d=a.reduce((m,f)=>m+(f.feeValue||0),0),N=a.reduce((m,f)=>m+(f.netValue||f.totalValue),0),g=a.reduce((m,f)=>m+(f.costPrice||0),0),k=N-g,E=a.filter(m=>m.paymentMethod==="fiado"&&m.paymentStatus==="pending").reduce((m,f)=>m+f.totalValue,0);return{totalSales:i,totalFees:d,netRevenue:N,totalCost:g,netProfit:k,pendingCrediario:E}},[a]),b=y.useMemo(()=>[...Array(7)].map((d,N)=>{const g=new Date;return g.setDate(g.getDate()-N),g.toISOString().split("T")[0]}).reverse().map(d=>{const N=a.filter(g=>g.createdAt.startsWith(d)).reduce((g,k)=>g+k.totalValue,0);return{date:d,value:N}}),[a]),h=Math.max(...b.map(i=>i.value),100),j=y.useMemo(()=>{const i={};return a.forEach(d=>{var N;(N=d.items)==null||N.forEach(g=>{const k=g.productId;i[k]||(i[k]={name:g.name,quantity:0,revenue:0,productId:k}),i[k].quantity+=g.quantity||1,i[k].revenue+=g.price*(g.quantity||1)})}),Object.values(i).sort((d,N)=>N.revenue-d.revenue).slice(0,4).map(d=>{var g,k,E;const N=s.find(m=>m.id===d.productId);return{...d,image:(E=(k=(g=N==null?void 0:N.variants)==null?void 0:g[0])==null?void 0:k.images)==null?void 0:E[0]}})},[a,s]),x=()=>{const i=o.getHours();return i<12?"Bom dia":i<18?"Boa tarde":"Boa noite"};return e.jsxs("div",{className:"space-y-6 md:space-y-10 max-w-[1600px] mx-auto",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-3xl md:rounded-[40px] bg-[#4A3B32] p-6 md:p-8 lg:p-12 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-full bg-gradient-to-l from-[#C75D3B]/20 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-6 md:gap-10",children:[e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 md:px-4 py-1 md:py-1.5 bg-white/10 rounded-full backdrop-blur-md border border-white/10",children:[e.jsx("span",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-widest text-white/80",children:"Monitor Studio 30 ‚Ä¢ Ao Vivo"})]}),e.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-6xl font-display font-bold leading-tight",children:[x(),", ",e.jsx("br",{}),e.jsx("span",{className:"text-[#C75D3B]",children:"Equipe Studio 30"})]}),e.jsx("p",{className:"text-white/40 font-medium text-sm md:text-base lg:text-lg leading-relaxed max-w-md italic",children:"Sua curadoria de moda com a agilidade que suas clientes merecem."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[e.jsxs(M,{to:"/admin/vendas/new",className:"p-4 md:p-6 bg-[#C75D3B] active:bg-[#A64D31] md:hover:bg-[#A64D31] rounded-2xl md:rounded-3xl transition-all shadow-xl group flex flex-col gap-2 md:gap-3",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white/20 rounded-xl md:rounded-2xl flex items-center justify-center group-active:scale-95 md:group-hover:scale-110 transition-transform",children:e.jsx(He,{className:"w-5 h-5 md:w-6 md:h-6"})}),e.jsx("span",{className:"font-bold text-xs md:text-sm tracking-tight uppercase",children:"Venda R√°pida"})]}),e.jsxs(M,{to:"/admin/malinhas/new",className:"p-4 md:p-6 bg-white/10 active:bg-white/20 md:hover:bg-white/20 rounded-2xl md:rounded-3xl transition-all shadow-xl border border-white/5 group flex flex-col gap-2 md:gap-3",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white/20 rounded-xl md:rounded-2xl flex items-center justify-center group-active:scale-95 md:group-hover:scale-110 transition-transform",children:e.jsx(me,{className:"w-5 h-5 md:w-6 md:h-6"})}),e.jsx("span",{className:"font-bold text-xs md:text-sm tracking-tight uppercase",children:"Montar Malinha"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[{label:"Total de Vendas",value:c.totalSales,icon:fe,color:"blue",description:"Valor cobrado dos clientes"},{label:"Taxas Pagas",value:c.totalFees,icon:Me,color:"orange",description:"Taxas de maquininha"},{label:"Receita L√≠quida",value:c.netRevenue,icon:Le,color:"emerald",description:"Valor recebido ap√≥s taxas"},{label:"Custos de Produto",value:c.totalCost,icon:ae,color:"amber",description:"Custo dos produtos vendidos"},{label:"Lucro L√≠quido",value:c.netProfit,icon:os,color:"purple",description:"Receita l√≠quida - Custos"},{label:"Credi√°rio Pendente",value:c.pendingCrediario,icon:Ne,color:"red",description:"Valores a receber",alert:!0}].map((i,d)=>e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.05},className:"bg-white p-5 md:p-7 rounded-2xl md:rounded-[32px] border border-gray-100 shadow-sm active:shadow-md md:hover:shadow-xl transition-all group",children:[e.jsx("div",{className:"flex justify-between items-start mb-3 md:mb-4",children:e.jsx("div",{className:A("w-12 h-12 md:w-14 md:h-14 rounded-xl md:rounded-2xl flex items-center justify-center transition-colors",i.color==="blue"?"bg-blue-50 text-blue-600 group-active:bg-blue-600 group-active:text-white md:group-hover:bg-blue-600 md:group-hover:text-white":i.color==="orange"?"bg-orange-50 text-orange-600 group-active:bg-orange-600 group-active:text-white md:group-hover:bg-orange-600 md:group-hover:text-white":i.color==="emerald"?"bg-emerald-50 text-emerald-600 group-active:bg-emerald-600 group-active:text-white md:group-hover:bg-emerald-600 md:group-hover:text-white":i.color==="purple"?"bg-purple-50 text-purple-600 group-active:bg-purple-600 group-active:text-white md:group-hover:bg-purple-600 md:group-hover:text-white":i.color==="amber"?"bg-amber-50 text-amber-600 group-active:bg-amber-600 group-active:text-white md:group-hover:bg-amber-600 md:group-hover:text-white":"bg-red-50 text-red-600 group-active:bg-red-600 group-active:text-white md:group-hover:bg-red-600 md:group-hover:text-white"),children:e.jsx(i.icon,{className:"w-6 h-6 md:w-7 md:h-7"})})}),e.jsx("p",{className:"text-gray-400 text-[9px] md:text-[10px] font-bold uppercase tracking-widest mb-1 md:mb-1.5 pl-0.5 md:pl-1",children:i.label}),e.jsxs("h3",{className:A("text-2xl md:text-3xl font-display font-bold text-[#4A3B32] mb-1.5 md:mb-2",i.alert&&c.pendingCrediario>0&&"text-red-500"),children:["R$ ",i.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-gray-400 font-medium italic line-clamp-1",children:i.description})]},d))}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8",children:[e.jsxs(P,{className:"lg:col-span-2 rounded-2xl md:rounded-[40px] overflow-hidden border-none shadow-xl bg-white",children:[e.jsx(R,{className:"p-5 md:p-8 pb-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-xl md:text-2xl font-display",children:"Tend√™ncia de Vendas"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-400 mt-1 font-medium",children:"Performance dos √∫ltimos 7 dias"})]}),e.jsx("div",{className:"p-2 md:p-3 bg-gray-50 rounded-xl md:rounded-2xl",children:e.jsx(Le,{className:"w-4 h-4 md:w-5 md:h-5 text-[#C75D3B]"})})]})}),e.jsx(L,{className:"p-5 md:p-8",children:e.jsx("div",{className:"h-[180px] md:h-[250px] w-full flex items-end gap-2 md:gap-3 lg:gap-6 mt-6 md:mt-8",children:b.map((i,d)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-3 md:gap-4 group",children:[e.jsx("div",{className:"relative w-full flex flex-col justify-end h-[140px] md:h-[200px]",children:e.jsx(I.div,{initial:{height:0},animate:{height:`${i.value/h*100}%`},transition:{delay:d*.1,duration:1,ease:"easeOut"},className:A("w-full rounded-t-xl md:rounded-t-2xl transition-all relative touch-manipulation",d===6?"bg-[#C75D3B]":"bg-gray-100 group-active:bg-gray-200 md:group-hover:bg-gray-200"),children:i.value>0&&e.jsxs("div",{className:"absolute -top-8 md:-top-10 left-1/2 -translate-x-1/2 bg-[#4A3B32] text-white text-[8px] md:text-[9px] font-bold py-1 px-1.5 md:px-2 rounded-lg opacity-0 group-active:opacity-100 md:group-hover:opacity-100 transition-opacity whitespace-nowrap z-20",children:["R$ ",i.value.toLocaleString("pt-BR")]})})}),e.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-gray-300 uppercase tracking-widest group-active:text-[#4A3B32] md:group-hover:text-[#4A3B32] transition-colors font-mono",children:i.date.split("-").slice(1).reverse().join("/")})]},d))})})]}),e.jsxs(P,{className:"rounded-2xl md:rounded-[40px] overflow-hidden border-none shadow-xl bg-white",children:[e.jsxs(R,{className:"p-5 md:p-8",children:[e.jsx(_,{className:"text-xl md:text-2xl font-display",children:"Produtos Estrela"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-400 mt-1 font-medium",children:"Os queridinhos do Studio 30"})]}),e.jsxs(L,{className:"p-5 md:p-8 pt-0",children:[e.jsx("div",{className:"space-y-4 md:space-y-6",children:j.length>0?j.map((i,d)=>e.jsxs("div",{className:"flex items-center gap-3 md:gap-4 group",children:[e.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 rounded-xl md:rounded-2xl overflow-hidden bg-gray-50 flex-shrink-0 border border-gray-100 group-active:scale-105 md:group-hover:scale-105 transition-transform",children:i.image?e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-200",children:e.jsx(ae,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-bold text-[#4A3B32] truncate text-sm",children:i.name}),e.jsxs("p",{className:"text-xs text-gray-400 font-medium",children:[i.quantity," unidades vendidas"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-black text-[#C75D3B] text-sm",children:["R$ ",i.revenue.toLocaleString("pt-BR")]}),e.jsxs("div",{className:"flex items-center justify-end gap-1 mt-0.5",children:[e.jsx(He,{className:"w-3 h-3 text-amber-400 fill-amber-400"}),e.jsxs("span",{className:"text-[9px] font-bold text-gray-300 uppercase tracking-widest",children:["Top ",d+1]})]})]})]},d)):e.jsx("div",{className:"py-10 text-center text-gray-300 italic text-sm",children:"Nenhum dado de venda ainda."})}),e.jsx(M,{to:"/admin/products",className:"mt-10 w-full flex items-center justify-center gap-2 py-4 border-2 border-dashed border-gray-100 rounded-2xl text-[10px] font-bold text-gray-400 uppercase tracking-widest hover:border-[#C75D3B]/20 hover:text-[#C75D3B] transition-all",children:"Ver Cat√°logo Completo"})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-12 gap-4 md:gap-6 lg:gap-8",children:[e.jsxs(P,{className:"lg:col-span-8 rounded-2xl md:rounded-[40px] border-none shadow-xl bg-white overflow-hidden",children:[e.jsxs(R,{className:"p-5 md:p-8 border-b border-gray-50 flex flex-row items-center justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx(_,{className:"text-lg md:text-2xl font-display truncate",children:"Atividade Operacional"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-400 mt-1 font-medium hidden sm:block",children:"√öltimas intera√ß√µes processadas"})]}),e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsx("button",{className:"p-2 md:p-2.5 bg-gray-50 rounded-xl active:bg-gray-100 md:hover:bg-gray-100 transition-colors",children:e.jsx(re,{className:"w-4 h-4 text-gray-400"})}),e.jsx("button",{className:"p-2 md:p-2.5 bg-gray-50 rounded-xl active:bg-gray-100 md:hover:bg-gray-100 transition-colors",children:e.jsx(Z,{className:"w-4 h-4 text-gray-400"})})]})]}),e.jsx("div",{className:"p-0",children:a.slice(0,5).map((i,d)=>e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between p-5 md:p-8 border-b border-gray-50 active:bg-[#FDFBF7] md:hover:bg-[#FDFBF7] transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-3 md:gap-5",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl md:rounded-2xl bg-[#FAF3F0] flex items-center justify-center text-[#C75D3B] font-bold text-lg md:text-xl ring-4 ring-transparent group-active:ring-[#C75D3B]/10 md:group-hover:ring-[#C75D3B]/10 transition-all flex-shrink-0",children:i.customerName.charAt(0)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-bold text-[#4A3B32] text-base md:text-lg truncate",children:i.customerName}),e.jsx("span",{className:"text-[9px] md:text-[10px] font-bold text-[#C75D3B] px-1.5 py-0.5 bg-[#FDF0ED] rounded flex-shrink-0",children:"VENDA"})]}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-400 font-medium truncate",children:["Processado via ",i.paymentMethod==="fiado"?"Credi√°rio":i.paymentMethod.toUpperCase()]})]})]}),e.jsxs("div",{className:"mt-3 md:mt-0 flex items-center justify-between md:justify-end gap-3 md:gap-10",children:[e.jsxs("div",{className:"text-left md:text-right",children:[e.jsxs("p",{className:"font-black text-[#4A3B32] text-lg md:text-xl",children:["R$ ",i.totalValue.toLocaleString("pt-BR")]}),e.jsx("p",{className:"text-[9px] md:text-[10px] text-gray-300 font-bold uppercase tracking-tight",children:new Date(i.createdAt).toLocaleDateString("pt-BR")})]}),e.jsx("div",{className:A("px-3 md:px-4 py-1.5 md:py-2 rounded-lg md:rounded-xl text-[9px] md:text-[10px] font-bold uppercase tracking-widest flex-shrink-0",i.paymentStatus==="paid"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"),children:i.paymentStatus==="paid"?"Liquidado":"Aguardando"}),e.jsx(M,{to:`/admin/vendas/${i.id}`,className:"p-2 md:p-3 bg-gray-50 rounded-xl active:bg-[#4A3B32] active:text-white md:hover:bg-[#4A3B32] md:hover:text-white transition-all",children:e.jsx(Je,{className:"w-4 h-4 md:w-5 md:h-5"})})]})]},d))})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-4 md:space-y-6 lg:space-y-8",children:[e.jsxs(P,{className:"rounded-2xl md:rounded-[40px] border-none shadow-xl bg-[#4A3B32] text-white p-6 md:p-8 overflow-hidden relative group",children:[e.jsx("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-white/5 rounded-full blur-3xl pointer-events-none group-active:bg-white/10 md:group-hover:bg-white/10 transition-colors"}),e.jsxs(R,{className:"p-0 mb-6 md:mb-10",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-3 md:mb-4",children:[e.jsx("div",{className:"p-2 md:p-2.5 bg-white/10 rounded-lg md:rounded-xl backdrop-blur-md",children:e.jsx(os,{className:"w-4 h-4 md:w-5 md:h-5 text-[#C75D3B]"})}),e.jsx("span",{className:"text-[10px] md:text-xs font-bold uppercase tracking-[0.15em] md:tracking-[0.2em] text-white/40",children:"Objetivo Mensal"})]}),e.jsx(_,{className:"text-2xl md:text-3xl font-display font-medium",children:"Meta de Crescimento"})]}),e.jsx(L,{className:"p-0",children:e.jsxs("div",{className:"space-y-6 md:space-y-10",children:[e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-3xl md:text-4xl font-display font-bold",children:["R$ ",c.totalSales.toLocaleString("pt-BR")]}),e.jsx("p",{className:"text-[10px] md:text-xs text-white/30 font-medium",children:"Acumulado do per√≠odo"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg md:text-xl font-display font-bold text-white/60",children:"R$ 50.000"}),e.jsx("p",{className:"text-[10px] md:text-xs text-white/30 font-medium",children:"Objetivo"})]})]}),e.jsx("div",{className:"h-3 md:h-4 w-full bg-white/10 rounded-full overflow-hidden p-0.5 md:p-1 border border-white/5",children:e.jsx(I.div,{initial:{width:0},animate:{width:`${Math.min(c.totalSales/5e4*100,100)}%`},transition:{duration:2,ease:"circOut"},className:"h-full bg-gradient-to-r from-[#C75D3B] to-[#FF8C6B] rounded-full shadow-[0_0_20px_rgba(199,93,59,0.5)]"})}),e.jsxs("p",{className:"text-center text-[9px] md:text-[10px] font-bold text-white/20 uppercase tracking-[0.2em] md:tracking-[0.3em]",children:["Faltam R$ ",(5e4-c.totalSales).toLocaleString("pt-BR")," para o pr√≥ximo n√≠vel"]})]}),e.jsxs("div",{className:"p-4 md:p-6 bg-white/5 rounded-2xl md:rounded-[32px] border border-white/5 backdrop-blur-sm space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#C75D3B]/20 flex items-center justify-center border border-[#C75D3B]/20",children:e.jsx(He,{className:"w-5 h-5 text-[#C75D3B]"})}),e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-[#C75D3B]",children:"Power Insight"})]}),e.jsx("p",{className:"text-sm text-white/60 italic font-medium leading-relaxed",children:'"Suas clientes est√£o comprando 15% mais via WhatsApp esta semana. Considere focar suas novas pe√ßas l√°."'})]})]})})]}),e.jsx(P,{className:"rounded-[40px] border-none shadow-xl bg-white p-8",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[e.jsx("div",{className:"w-20 h-20 bg-emerald-50 rounded-full flex items-center justify-center",children:e.jsx(Bs,{className:"w-10 h-10 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-display font-bold text-[#4A3B32]",children:t.length}),e.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Clientes na Base"})]}),e.jsxs("div",{className:"flex -space-x-3",children:[t.slice(0,5).map((i,d)=>e.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-white bg-[#FDF0ED] flex items-center justify-center text-[#C75D3B] font-bold text-sm shadow-sm",children:i.name.charAt(0)},d)),t.length>5&&e.jsxs("div",{className:"w-12 h-12 rounded-full border-4 border-white bg-gray-100 flex items-center justify-center text-gray-400 font-bold text-xs",children:["+",t.length-5]})]}),e.jsxs(M,{to:"/admin/customers",className:"text-[10px] font-black text-[#C75D3B] uppercase tracking-[0.2em] flex items-center gap-2 hover:gap-4 transition-all pt-4",children:["Gest√£o de Relacionamento ",e.jsx(Je,{className:"w-4 h-4"})]})]})})]})]})]})}function ie({isOpen:s,onClose:n,onConfirm:t,title:a,description:r,confirmText:l="Confirmar",cancelText:o="Cancelar",variant:u="danger"}){if(!s)return null;const c={danger:{icon:Ue,iconClass:"text-red-500 bg-red-50",buttonClass:"bg-red-500 hover:bg-red-600 text-white shadow-red-200"},warning:{icon:Ue,iconClass:"text-amber-500 bg-amber-50",buttonClass:"bg-amber-500 hover:bg-amber-600 text-white shadow-amber-200"},info:{icon:Ue,iconClass:"text-[#C75D3B] bg-[#FDF0ED]",buttonClass:"bg-[#C75D3B] hover:bg-[#A64D31] text-white shadow-[#C75D3B]/20"}},{icon:b,iconClass:h,buttonClass:j}=c[u]||c.info;return e.jsx(Q,{children:s&&e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 sm:p-6",children:[e.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),e.jsx(I.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-md bg-white rounded-[32px] shadow-2xl overflow-hidden",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsx("div",{className:A("p-4 rounded-2xl",h),children:e.jsx(b,{className:"w-6 h-6"})}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-50 rounded-xl transition-colors text-gray-400",children:e.jsx(ue,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-2xl font-display font-bold text-[#4A3B32] tracking-tight",children:a}),e.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:r})]}),e.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:n,className:"flex-1 px-6 py-4 rounded-2xl font-bold text-[#4A3B32] border border-gray-100 hover:bg-gray-50 transition-all active:scale-95",children:o}),e.jsx("button",{onClick:()=>{t(),n()},className:A("flex-1 px-6 py-4 rounded-2xl font-bold transition-all shadow-lg active:scale-95",j),children:l})]})]})})]})})}function sa(){const{products:s,productsLoading:n,loadProducts:t,removeProduct:a,removeMultipleProducts:r}=se(),[l,o]=y.useState(""),[u,c]=y.useState([]),[b,h]=y.useState({isOpen:!1,productId:null,productName:""}),[j,x]=y.useState(!1);y.useEffect(()=>{t()},[t]);const i=s.filter(m=>m.name.toLowerCase().includes(l.toLowerCase())||m.category.toLowerCase().includes(l.toLowerCase())),d=m=>{m.target.checked?c(i.map(f=>f.id)):c([])},N=m=>{c(f=>f.includes(m)?f.filter(D=>D!==m):[...f,m])},g=(m,f)=>{h({isOpen:!0,productId:m,productName:f})},k=async()=>{const m=await a(b.productId);m.success?F.success("Produto exclu√≠do do cat√°logo."):F.error(`Erro ao excluir: ${m.error}`)},E=async()=>{const m=await r(u);m.success?(F.success(`${u.length} produtos exclu√≠dos com sucesso.`),c([])):F.error(`Erro ao excluir produtos: ${m.error}`),x(!1)};return e.jsxs("div",{className:"space-y-10 pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-4xl font-display font-bold text-[#4A3B32] tracking-tight",children:"Cat√°logo de Produtos"}),e.jsx("p",{className:"text-[#4A3B32]/40 font-medium",children:"Gerencie o estoque e a vitrine do seu Studio."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[u.length>0&&e.jsxs(I.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},onClick:()=>x(!0),className:"flex items-center gap-2 px-6 py-3 bg-red-500 text-white rounded-2xl text-sm font-bold shadow-lg shadow-red-500/10 hover:bg-red-600 transition-all active:scale-95",children:[e.jsx(ee,{className:"w-5 h-5"})," Excluir (",u.length,")"]}),e.jsxs(M,{to:"/admin/products/new",className:"flex items-center gap-2 px-6 py-3 bg-[#4A3B32] text-white rounded-2xl text-sm font-bold shadow-lg shadow-[#4A3B32]/10 hover:scale-105 transition-all active:scale-95",children:[e.jsx(Z,{className:"w-5 h-5"})," Novo Produto"]})]})]}),e.jsxs(P,{className:"overflow-hidden border-none shadow-2xl shadow-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-50 bg-white flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(re,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-300"}),e.jsx("input",{type:"text",placeholder:"Buscar por nome ou categoria...",value:l,onChange:m=>o(m.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-none rounded-2xl text-sm focus:ring-2 focus:ring-[#C75D3B]/20 outline-none transition-all"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50",children:[e.jsx("th",{className:"px-8 py-5 w-12",children:e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#C75D3B] focus:ring-[#C75D3B]/50",onChange:d,checked:u.length>0&&u.length===i.length})}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em]",children:"Produto"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em]",children:"Categoria"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] text-right",children:"Valor"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] text-right",children:"Estoque"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] text-center",children:"A√ß√µes"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:e.jsx(Q,{children:n?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"py-24 text-center text-gray-300 italic",children:"Sincronizando cat√°logo..."})}):i.length>0?i.map((m,f)=>e.jsxs(I.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:f*.05},className:A("transition-colors group",u.includes(m.id)?"bg-[#FFF9F7]":"hover:bg-[#FDFBF7]/40"),children:[e.jsx("td",{className:"px-8 py-6",children:e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#C75D3B] focus:ring-[#C75D3B]/50",checked:u.includes(m.id),onChange:()=>N(m.id)})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden bg-gray-50 border border-gray-100 flex-shrink-0 shadow-sm group-hover:scale-105 transition-transform",children:e.jsx("img",{src:m.images[0],alt:m.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-[#4A3B32]",children:m.name}),e.jsx("p",{className:"text-[10px] text-gray-400 font-medium line-clamp-1 italic max-w-xs",children:m.description})]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-gray-100 text-[#4A3B32]/60 text-[10px] font-bold uppercase tracking-wider",children:[e.jsx(Ds,{className:"w-3 h-3"}),m.category]})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsxs("span",{className:"text-sm font-bold text-[#4A3B32]",children:["R$ ",m.price.toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsxs("span",{className:A("text-sm font-bold",m.stock<=2?"text-red-500":"text-[#4A3B32]"),children:[m.stock," un"]})}),e.jsxs("td",{className:"px-8 py-6 text-center space-x-2",children:[e.jsxs(M,{to:`/admin/products/${m.id}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-100 rounded-2xl text-[10px] font-bold text-[#4A3B32] hover:bg-[#4A3B32] hover:text-white transition-all shadow-sm active:scale-95",children:[e.jsx(be,{className:"w-4 h-4"}),"EDITAR"]}),e.jsx("button",{onClick:()=>g(m.id,m.name),className:"inline-flex items-center gap-2 px-3 py-2 bg-white border border-red-100 rounded-2xl text-[10px] font-bold text-red-500 hover:bg-red-500 hover:text-white transition-all shadow-sm active:scale-95",children:e.jsx(ee,{className:"w-4 h-4"})})]})]},m.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"py-24 text-center text-gray-300 italic",children:"Nenhum produto encontrado."})})})})]})})]}),e.jsx(ie,{isOpen:b.isOpen,onClose:()=>h({...b,isOpen:!1}),onConfirm:k,title:"Excluir Produto?",description:`Tem certeza que deseja excluir o produto "${b.productName}" do cat√°logo? Esta a√ß√£o √© irrevers√≠vel.`,confirmText:"Excluir Produto",cancelText:"Cancelar",variant:"danger"}),e.jsx(ie,{isOpen:j,onClose:()=>x(!1),onConfirm:E,title:`Excluir ${u.length} Produtos?`,description:`Tem certeza que deseja excluir os ${u.length} produtos selecionados? Esta a√ß√£o √© irrevers√≠vel.`,confirmText:"Excluir Selecionados",cancelText:"Cancelar",variant:"danger"})]})}const qe="studio30_suppliers",Re="studio30_purchases",Ve="studio30_fixed_expenses",ze=async()=>{await new Promise(n=>setTimeout(n,300));const s=localStorage.getItem(qe);return s?JSON.parse(s):[]},ta=async s=>{await new Promise(r=>setTimeout(r,300));const n=await ze(),t={id:Date.now(),...s,createdAt:new Date().toISOString()},a=[...n,t];return localStorage.setItem(qe,JSON.stringify(a)),t},aa=async(s,n)=>{await new Promise(r=>setTimeout(r,300));const a=(await ze()).map(r=>r.id===s?{...r,...n,updatedAt:new Date().toISOString()}:r);return localStorage.setItem(qe,JSON.stringify(a)),a.find(r=>r.id===s)},ra=async s=>{await new Promise(a=>setTimeout(a,300));const t=(await ze()).filter(a=>a.id!==s);return localStorage.setItem(qe,JSON.stringify(t)),{success:!0}},$e=async()=>{await new Promise(n=>setTimeout(n,300));const s=localStorage.getItem(Re);return s?JSON.parse(s):[]},na=async s=>{await new Promise(r=>setTimeout(r,300));const n=await $e(),t={id:Date.now(),...s,createdAt:new Date().toISOString(),status:s.status||"pendente"},a=[...n,t];return localStorage.setItem(Re,JSON.stringify(a)),t},la=async(s,n)=>{await new Promise(r=>setTimeout(r,300));const a=(await $e()).map(r=>r.id===s?{...r,...n,updatedAt:new Date().toISOString()}:r);return localStorage.setItem(Re,JSON.stringify(a)),a.find(r=>r.id===s)},oa=async s=>{await new Promise(a=>setTimeout(a,300));const t=(await $e()).filter(a=>a.id!==s);return localStorage.setItem(Re,JSON.stringify(t)),{success:!0}},_e=async()=>{await new Promise(n=>setTimeout(n,300));const s=localStorage.getItem(Ve);return s?JSON.parse(s):[]},ia=async s=>{await new Promise(r=>setTimeout(r,300));const n=await _e(),t={id:Date.now(),...s,createdAt:new Date().toISOString()},a=[...n,t];return localStorage.setItem(Ve,JSON.stringify(a)),t},ca=async(s,n)=>{await new Promise(r=>setTimeout(r,300));const a=(await _e()).map(r=>r.id===s?{...r,...n,updatedAt:new Date().toISOString()}:r);return localStorage.setItem(Ve,JSON.stringify(a)),a.find(r=>r.id===s)},da=async s=>{await new Promise(a=>setTimeout(a,300));const t=(await _e()).filter(a=>a.id!==s);return localStorage.setItem(Ve,JSON.stringify(t)),{success:!0}},ke=De((s,n)=>({suppliers:[],suppliersLoading:!1,suppliersError:null,purchases:[],purchasesLoading:!1,purchasesError:null,expenses:[],expensesLoading:!1,expensesError:null,loadSuppliers:async()=>{s({suppliersLoading:!0,suppliersError:null});try{const a=[...await ze()].sort((r,l)=>l.id-r.id);s({suppliers:a,suppliersLoading:!1})}catch(t){s({suppliersError:t.message,suppliersLoading:!1})}},addSupplier:async t=>{s({suppliersLoading:!0,suppliersError:null});try{const a=await ta(t);return s(r=>({suppliers:[a,...r.suppliers],suppliersLoading:!1})),{success:!0,supplier:a}}catch(a){return s({suppliersError:a.message,suppliersLoading:!1}),{success:!1,error:a.message}}},editSupplier:async(t,a)=>{s({suppliersLoading:!0,suppliersError:null});try{const r=await aa(t,a);return s(l=>({suppliers:l.suppliers.map(o=>o.id===t?r:o),suppliersLoading:!1})),{success:!0,supplier:r}}catch(r){return s({suppliersError:r.message,suppliersLoading:!1}),{success:!1,error:r.message}}},removeSupplier:async t=>{s({suppliersLoading:!0,suppliersError:null});try{return await ra(t),s(a=>({suppliers:a.suppliers.filter(r=>r.id!==t),suppliersLoading:!1})),{success:!0}}catch(a){return s({suppliersError:a.message,suppliersLoading:!1}),{success:!1,error:a.message}}},getSupplierById:t=>n().suppliers.find(a=>a.id===parseInt(t)),loadPurchases:async()=>{s({purchasesLoading:!0,purchasesError:null});try{const a=[...await $e()].sort((r,l)=>l.id-r.id);s({purchases:a,purchasesLoading:!1})}catch(t){s({purchasesError:t.message,purchasesLoading:!1})}},addPurchase:async t=>{s({purchasesLoading:!0,purchasesError:null});try{const a=await na(t);return s(r=>({purchases:[a,...r.purchases],purchasesLoading:!1})),{success:!0,purchase:a}}catch(a){return s({purchasesError:a.message,purchasesLoading:!1}),{success:!1,error:a.message}}},editPurchase:async(t,a)=>{s({purchasesLoading:!0,purchasesError:null});try{const r=await la(t,a);return s(l=>({purchases:l.purchases.map(o=>o.id===t?r:o),purchasesLoading:!1})),{success:!0,purchase:r}}catch(r){return s({purchasesError:r.message,purchasesLoading:!1}),{success:!1,error:r.message}}},removePurchase:async t=>{s({purchasesLoading:!0,purchasesError:null});try{return await oa(t),s(a=>({purchases:a.purchases.filter(r=>r.id!==t),purchasesLoading:!1})),{success:!0}}catch(a){return s({purchasesError:a.message,purchasesLoading:!1}),{success:!1,error:a.message}}},getPurchaseById:t=>n().purchases.find(a=>a.id===parseInt(t)),loadExpenses:async()=>{s({expensesLoading:!0,expensesError:null});try{const a=[...await _e()].sort((r,l)=>l.id-r.id);s({expenses:a,expensesLoading:!1})}catch(t){s({expensesError:t.message,expensesLoading:!1})}},addExpense:async t=>{s({expensesLoading:!0,expensesError:null});try{const a=await ia(t);return s(r=>({expenses:[a,...r.expenses],expensesLoading:!1})),{success:!0,expense:a}}catch(a){return s({expensesError:a.message,expensesLoading:!1}),{success:!1,error:a.message}}},editExpense:async(t,a)=>{s({expensesLoading:!0,expensesError:null});try{const r=await ca(t,a);return s(l=>({expenses:l.expenses.map(o=>o.id===t?r:o),expensesLoading:!1})),{success:!0,expense:r}}catch(r){return s({expensesError:r.message,expensesLoading:!1}),{success:!1,error:r.message}}},removeExpense:async t=>{s({expensesLoading:!0,expensesError:null});try{return await da(t),s(a=>({expenses:a.expenses.filter(r=>r.id!==t),expensesLoading:!1})),{success:!0}}catch(a){return s({expensesError:a.message,expensesLoading:!1}),{success:!1,error:a.message}}},getExpenseById:t=>n().expenses.find(a=>a.id===parseInt(t))})),ts=y.createContext();function xa({defaultValue:s,value:n,onValueChange:t,children:a,className:r}){const[l,o]=y.useState(s),u=n!==void 0,c=u?n:l,b=h=>{u||o(h),t==null||t(h)};return e.jsx(ts.Provider,{value:{value:c,onValueChange:b},children:e.jsx("div",{className:A("w-full",r),children:a})})}function ma({children:s,className:n}){return e.jsx("div",{className:A("inline-flex h-12 items-center justify-start rounded-2xl bg-gray-50 p-1.5 text-[#4A3B32] gap-1 overflow-x-auto scrollbar-hide w-full",n),role:"tablist",children:s})}function ua({value:s,children:n,className:t}){const a=y.useContext(ts),r=a.value===s;return e.jsxs("button",{type:"button",role:"tab","aria-selected":r,onClick:()=>a.onValueChange(s),className:A("relative inline-flex items-center justify-center whitespace-nowrap rounded-xl px-4 py-2.5 text-sm font-bold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#C75D3B]/20 disabled:pointer-events-none disabled:opacity-50","min-w-[100px]",r?"text-[#4A3B32] shadow-sm":"text-[#4A3B32]/40 hover:text-[#4A3B32]/70",t),children:[r&&e.jsx(I.div,{layoutId:"activeTab",className:"absolute inset-0 bg-white rounded-xl shadow-md",transition:{type:"spring",stiffness:500,damping:30}}),e.jsx("span",{className:"relative z-10 flex items-center gap-2",children:n})]})}function pa({value:s,children:n,className:t}){return y.useContext(ts).value===s?e.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:A("mt-6 focus-visible:outline-none",t),role:"tabpanel",children:n}):null}function fs(){const{id:s}=ge(),n=de(),{getProductById:t,addProduct:a,editProduct:r,productsLoading:l}=se(),{suppliers:o,loadSuppliers:u}=ke(),[c,b]=y.useState({name:"",category:"vestidos",price:"",originalPrice:"",description:"",variants:[{colorName:"",images:[""],sizeStock:[]}],sizes:[],isNew:!0,isFeatured:!1,stock:0,costPrice:"",supplierId:""}),[h,j]=y.useState("0");y.useEffect(()=>{u()},[u]),y.useEffect(()=>{if(s){const B=t(s);if(B){const C=(B.variants||[{colorName:B.color||"",images:B.images||[""],sizes:B.sizes||[]}]).map(S=>S.sizeStock&&S.sizeStock.length>0?{...S,sizeStock:S.sizeStock}:S.sizes&&S.sizes.length>0?{...S,sizeStock:S.sizes.map(O=>({size:O,quantity:0}))}:{...S,sizeStock:[]});b({...B,variants:C,price:B.price.toString(),originalPrice:B.originalPrice?B.originalPrice.toString():"",stock:B.stock||0,costPrice:B.costPrice?B.costPrice.toString():""})}}},[s,t]);const x=B=>{const{name:p,value:C,type:S,checked:O}=B.target;b(V=>({...V,[p]:S==="checkbox"?O:C}))},i=(B,p,C)=>{const S=[...c.variants];S[B][p]=C,b(O=>({...O,variants:S}))},d=(B,p,C)=>{const S=[...c.variants];S[B].images[p]=C,b(O=>({...O,variants:S}))},N=()=>{b(B=>({...B,variants:[...B.variants,{colorName:"",images:[""],sizeStock:[]}]})),j(String(c.variants.length)),F.success("Nova cor adicionada ao modelo.")},g=B=>{if(c.variants.length===1)return;const p=c.variants.filter((S,O)=>O!==B);b(S=>({...S,variants:p}));const C=parseInt(h);C>=p.length?j(String(p.length-1)):C===B&&C>0&&j(String(C-1)),F.info("Cor removida.")},k=B=>{const p=[...c.variants];p[B].images.push(""),b(C=>({...C,variants:p}))},E=(B,p)=>{const C=[...c.variants];C[B].images=C[B].images.filter((S,O)=>O!==p),b(S=>({...S,variants:C}))},m=async(B,p,C)=>{const S=B.target.files[0];if(!S)return;if(!S.type.startsWith("image/")){F.error("Por favor, selecione apenas arquivos de imagem.");return}const O=new FileReader;O.onload=async V=>{const J=new Image;J.onload=()=>{const H=document.createElement("canvas");let K=J.width,te=J.height;const v=1200,q=1600;K>te?K>v&&(te*=v/K,K=v):te>q&&(K*=q/te,te=q),H.width=K,H.height=te,H.getContext("2d").drawImage(J,0,0,K,te);const z=H.toDataURL("image/jpeg",.8);d(p,C,z),F.success("Foto carregada e otimizada!")},J.src=V.target.result},O.readAsDataURL(S)},f=B=>{const p=c.sizes.includes(B)?c.sizes.filter(C=>C!==B):[...c.sizes,B];b(C=>({...C,sizes:p}))},D=(B,p,C)=>{const S=[...c.variants],V=(S[B].sizeStock||[]).filter(J=>J.size!==p);C>0?S[B].sizeStock=[...V,{size:p,quantity:C}]:S[B].sizeStock=V,b(J=>({...J,variants:S}))},T=async B=>{var V,J;B.preventDefault();const p=H=>{if(!H||H==="")return 0;const K=H.toString().replace(",",".");return parseFloat(K)},C=[...new Set(c.variants.flatMap(H=>(H.sizeStock||[]).map(K=>K.size)))],S=c.variants.reduce((H,K)=>{const te=(K.sizeStock||[]).reduce((v,q)=>v+q.quantity,0);return H+te},0),O={...c,price:p(c.price),originalPrice:c.originalPrice?p(c.originalPrice):null,costPrice:p(c.costPrice),stock:S,color:((V=c.variants[0])==null?void 0:V.colorName)||"",images:((J=c.variants[0])==null?void 0:J.images)||[],sizes:C};F.promise(s?r(s,O):a(O),{loading:s?"Salvando altera√ß√µes...":"Criando novo produto...",success:H=>{if(H.success)return n("/admin/products"),s?"Produto atualizado com sucesso!":"Produto criado com sucesso!";throw new Error(H.error)},error:H=>`Erro: ${H.message}`})},G=[{id:"PP",label:"PP"},{id:"P",label:"P"},{id:"M",label:"M"},{id:"G",label:"G"},{id:"GG",label:"GG"},{id:"U",label:"TAMANHO √öNICO"}];return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-10 pb-20",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(I.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n("/admin/products"),className:"p-4 bg-white border border-gray-100 rounded-3xl shadow-sm hover:shadow-md transition-all",children:e.jsx(le,{className:"w-6 h-6 text-[#4A3B32]"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-display font-semibold text-[#4A3B32] tracking-tight",children:s?"Editar Detalhes":"Novo Produto"}),e.jsx("p",{className:"text-[#4A3B32]/40 font-medium italic",children:"Gest√£o de cat√°logo premium Studio 30."})]})]})}),e.jsxs("form",{onSubmit:T,className:"grid lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5 text-[#C75D3B]"}),"Informa√ß√µes Principais"]})}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Nome da Pe√ßa (Modelo)"}),e.jsx("input",{type:"text",name:"name",required:!0,placeholder:"Ex: Vestido Midi Seda",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium transition-all",value:c.name,onChange:x})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Pre√ßo de Venda (R$)"}),e.jsx("input",{type:"text",inputMode:"decimal",name:"price",required:!0,placeholder:"0,00",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-[#4A3B32]",value:c.price,onChange:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1 text-gray-300",children:"Pre√ßo Original (De:)"}),e.jsx("input",{type:"text",inputMode:"decimal",name:"originalPrice",placeholder:"0,00",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-gray-300",value:c.originalPrice,onChange:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1 text-[#C75D3B]/60",children:"Pre√ßo de Custo (R$)"}),e.jsx("input",{type:"text",inputMode:"decimal",name:"costPrice",placeholder:"0,00",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-[#C75D3B]",value:c.costPrice,onChange:x})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Descri√ß√£o Curadoria"}),e.jsx("textarea",{name:"description",rows:"4",placeholder:"Descreva o tecido, corte e sensibilidade da pe√ßa...",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium leading-relaxed transition-all",value:c.description,onChange:x})]})]})]}),e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"w-5 h-5 text-[#C75D3B]"}),"Cores e Fotos"]}),e.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:N,className:"flex items-center gap-2 text-xs font-bold text-[#C75D3B] bg-[#FDF0ED] px-6 py-3 rounded-2xl hover:bg-[#FDF0ED]/80 transition-all shadow-sm",children:[e.jsx(Z,{className:"w-4 h-4"})," Adicionar Cor"]})]})}),e.jsx(L,{children:e.jsxs(xa,{value:h,onValueChange:j,children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(ma,{className:"flex-1",children:c.variants.map((B,p)=>e.jsxs(ua,{value:String(p),children:[e.jsx(is,{className:"w-4 h-4"}),e.jsx("span",{className:"max-w-[120px] truncate",children:B.colorName||`Cor ${p+1}`})]},p))})}),e.jsx(Q,{mode:"wait",children:c.variants.map((B,p)=>e.jsx(pa,{value:String(p),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Nome da Cor"}),e.jsx("input",{type:"text",placeholder:"Ex: Verde Oliva, Off White, Nude...",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-[#4A3B32]",value:B.colorName,onChange:C=>i(p,"colorName",C.target.value)})]}),c.variants.length>1&&e.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:()=>g(p),className:"px-6 py-4 text-red-400 hover:text-white hover:bg-red-500 bg-red-50 rounded-2xl transition-all font-bold text-sm flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4"}),"Remover"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Estoque por Tamanho (Quantidade)"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:G.map(C=>{const S=(B.sizeStock||[]).find(V=>V.size===C.id),O=(S==null?void 0:S.quantity)||0;return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-[#4A3B32] block text-center",children:C.id}),e.jsx("input",{type:"number",min:"0",value:O,onChange:V=>D(p,C.id,parseInt(V.target.value)||0),className:A("w-full px-3 py-2.5 rounded-xl border-2 text-center font-bold transition-all",O>0?"bg-[#4A3B32] border-[#4A3B32] text-white":"bg-white border-gray-200 text-gray-400"),placeholder:"0"}),O>0&&e.jsxs("p",{className:"text-[9px] text-center text-emerald-600 font-bold",children:[O," un."]})]},C.id)})}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-xl",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("p",{className:"text-xs text-blue-700 font-medium",children:["Total em estoque desta cor: ",e.jsxs("strong",{children:[(B.sizeStock||[]).reduce((C,S)=>C+S.quantity,0)," unidades"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1 mb-4 block",children:"Fotos da Cor"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[B.images.map((C,S)=>e.jsxs(I.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"space-y-3 group relative",children:[e.jsxs("label",{className:"cursor-pointer block",children:[e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:O=>m(O,p,S)}),e.jsxs("div",{className:"aspect-[3/4] rounded-2xl overflow-hidden bg-gray-50 border-2 border-dashed border-gray-100 flex flex-col items-center justify-center relative transition-all hover:border-[#C75D3B]/40 group-hover:bg-gray-100",children:[C?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:C,alt:"Preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(Js,{className:"w-8 h-8 text-white"})})]}):e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center shadow-sm",children:e.jsx(Z,{className:"w-6 h-6 text-[#C75D3B]"})}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Adicionar"})]}),B.images.length>1&&e.jsx("button",{type:"button",onClick:O=>{O.preventDefault(),O.stopPropagation(),E(p,S)},className:"absolute top-2 right-2 p-2 bg-white/90 text-red-500 rounded-xl shadow-md opacity-0 group-hover:opacity-100 transition-opacity z-10 hover:bg-red-500 hover:text-white",children:e.jsx(ue,{className:"w-4 h-4"})})]})]}),e.jsx("input",{type:"text",placeholder:"Ou cole a URL aqui...",className:"w-full px-3 py-2 bg-gray-50 border-none rounded-lg focus:ring-1 focus:ring-[#C75D3B]/20 outline-none text-[9px] font-medium",value:C.startsWith("data:")?"Imagem carregada localmente":C,onChange:O=>d(p,S,O.target.value),readOnly:C.startsWith("data:")})]},S)),e.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:()=>k(p),className:"aspect-[3/4] rounded-2xl border-2 border-dashed border-[#C75D3B]/20 flex flex-col items-center justify-center gap-3 hover:border-[#C75D3B]/40 hover:bg-[#FDF0ED]/50 transition-all group",children:[e.jsx("div",{className:"p-4 bg-[#FDF0ED] rounded-full shadow-sm group-hover:scale-110 group-hover:shadow-md transition-all",children:e.jsx(Z,{className:"w-6 h-6 text-[#C75D3B]"})}),e.jsx("span",{className:"text-[10px] font-bold text-[#C75D3B] uppercase tracking-widest text-center px-2",children:"Mais Fotos"})]})]})]})]})},p))})]})})]})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[e.jsxs(P,{children:[e.jsx(R,{children:e.jsx(_,{className:"text-xl",children:"Ficha T√©cnica"})}),e.jsxs(L,{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Categoria"}),e.jsxs("select",{name:"category",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-bold text-[#4A3B32] appearance-none",value:c.category,onChange:x,children:[e.jsx("option",{value:"vestidos",children:"üëó Vestidos"}),e.jsx("option",{value:"blusas",children:"üëö Blusas"}),e.jsx("option",{value:"calcas",children:"üëñ Cal√ßas"}),e.jsx("option",{value:"shorts",children:"ü©≥ Shorts"}),e.jsx("option",{value:"saias",children:"üëó Saias"}),e.jsx("option",{value:"conjuntos",children:"üß• Conjuntos"}),e.jsx("option",{value:"blazers",children:"üíº Blazers"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Fornecedor"}),e.jsxs("select",{name:"supplierId",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-bold text-[#4A3B32] appearance-none",value:c.supplierId,onChange:x,children:[e.jsx("option",{value:"",children:"Selecione um fornecedor"}),o.map(B=>e.jsx("option",{value:B.id,children:B.name},B.id))]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Tamanhos Dispon√≠veis"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:G.map(B=>e.jsxs("button",{type:"button",onClick:()=>f(B.id),className:A("py-3.5 rounded-xl border-2 text-[10px] font-bold tracking-widest transition-all text-center flex flex-col items-center justify-center gap-0.5",c.sizes.includes(B.id)?"bg-[#4A3B32] border-[#4A3B32] text-white shadow-lg shadow-[#4A3B32]/20 scale-105 z-10":"border-gray-50 text-gray-300 hover:border-gray-200"),children:[e.jsx("span",{className:"text-xs",children:B.id}),B.label!==B.id&&e.jsx("span",{className:"opacity-50 text-[8px]",children:B.label})]},B.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Estoque Total"}),e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),e.jsx("input",{type:"number",name:"stock",className:"w-full pl-12 pr-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-bold text-[#4A3B32]",value:c.stock,onChange:x})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 pt-4",children:[e.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl cursor-pointer group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:A("w-10 h-10 rounded-xl flex items-center justify-center transition-colors",c.isNew?"bg-[#C75D3B] text-white":"bg-white text-gray-300"),children:e.jsx(We,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-bold text-[#4A3B32]",children:"Novidade"})]}),e.jsx("input",{type:"checkbox",name:"isNew",className:"hidden",checked:c.isNew,onChange:x}),e.jsx("div",{className:A("w-12 h-6 rounded-full transition-colors relative",c.isNew?"bg-[#C75D3B]":"bg-gray-200"),children:e.jsx("div",{className:A("absolute top-1 w-4 h-4 bg-white rounded-full transition-all",c.isNew?"left-7":"left-1")})})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl cursor-pointer group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:A("w-10 h-10 rounded-xl flex items-center justify-center transition-colors",c.isFeatured?"bg-amber-500 text-white":"bg-white text-gray-300"),children:e.jsx(Ws,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-bold text-[#4A3B32]",children:"Destaque Home"})]}),e.jsx("input",{type:"checkbox",name:"isFeatured",className:"hidden",checked:c.isFeatured,onChange:x}),e.jsx("div",{className:A("w-12 h-6 rounded-full transition-colors relative",c.isFeatured?"bg-amber-500":"bg-gray-200"),children:e.jsx("div",{className:A("absolute top-1 w-4 h-4 bg-white rounded-full transition-all",c.isFeatured?"left-7":"left-1")})})]})]})]})]}),e.jsxs("div",{className:"sticky bottom-8 space-y-4",children:[e.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:l,className:"w-full flex items-center justify-center gap-3 py-6 bg-[#4A3B32] text-white rounded-3xl font-bold shadow-2xl shadow-[#4A3B32]/30 hover:bg-[#342922] transition-all disabled:opacity-50",children:[e.jsx(he,{className:"w-6 h-6"}),s?"Salvar Lan√ßamento":"Publicar no Cat√°logo"]}),e.jsx("button",{type:"button",onClick:()=>n("/admin/products"),className:"w-full py-4 text-[#4A3B32]/40 font-bold tracking-widest uppercase text-[10px] hover:text-[#4A3B32] transition-colors",children:"Descartar Altera√ß√µes"})]})]})]})]})}function ha(){const{orders:s,loadOrders:n,removeOrder:t,ordersLoading:a}=se(),[r,l]=y.useState(""),[o,u]=y.useState("all"),[c,b]=y.useState({isOpen:!1,orderId:null});y.useEffect(()=>{n()},[n]);const h=s.filter(d=>{const N=d.orderNumber.toLowerCase().includes(r.toLowerCase())||d.customer.name.toLowerCase().includes(r.toLowerCase()),g=o==="all"||d.status===o;return N&&g}),j=(d,N)=>{N.preventDefault(),N.stopPropagation(),b({isOpen:!0,orderId:d})},x=async()=>{const d=c.orderId;(await t(d)).success?F.success("Malinha removida com sucesso."):F.error("Erro ao remover malinha.")},i={pending:{label:"Pendente",color:"bg-amber-100 text-amber-700",icon:Ne},shipped:{label:"Enviado",color:"bg-blue-100 text-blue-700",icon:je},completed:{label:"Conclu√≠do",color:"bg-emerald-100 text-emerald-700",icon:Xe},cancelled:{label:"Cancelado",color:"bg-red-100 text-red-700",icon:es}};return s.filter(d=>d.status==="pending").length,e.jsxs("div",{className:"space-y-10 pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-display font-semibold text-[#4A3B32] tracking-tight",children:"Malinhas"}),e.jsx("p",{className:"text-[#4A3B32]/40 font-medium italic",children:"Gest√£o log√≠stica de malas delivery."})]}),e.jsxs(M,{to:"/admin/malinhas/new",className:"flex items-center gap-3 px-8 py-4 bg-[#C75D3B] text-white rounded-[24px] font-bold shadow-lg shadow-[#C75D3B]/20 hover:scale-105 active:scale-95 transition-all text-sm uppercase tracking-widest",children:[e.jsx(Z,{className:"w-5 h-5"})," Nova Malinha"]})]}),e.jsxs(P,{className:"border-none shadow-xl overflow-visible",children:[e.jsxs(R,{className:"bg-white p-6 border-b border-gray-50 flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"relative flex-1 w-full md:max-w-md",children:[e.jsx(re,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"N¬∫ Pedido ou Nome da Cliente...",className:"w-full pl-12 pr-6 py-3 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium transition-all",value:r,onChange:d=>l(d.target.value)})]}),e.jsx("div",{className:"flex gap-1.5 p-1 bg-gray-50 rounded-2xl w-full md:w-auto overflow-x-auto custom-scrollbar",children:["all","pending","shipped","completed"].map(d=>e.jsx("button",{onClick:()=>u(d),className:A("px-4 py-2 rounded-xl text-[10px] font-bold uppercase tracking-wider transition-all whitespace-nowrap",o===d?"bg-white text-[#4A3B32] shadow-sm":"text-[#4A3B32]/40 hover:text-[#4A3B32]"),children:d==="all"?"Ver Tudo":d==="pending"?"Pendentes":d==="shipped"?"Enviados":"Conclu√≠dos"},d))})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#FAF8F5]/50 text-[#4A3B32]/40 text-[10px] uppercase font-bold tracking-[0.2em]",children:[e.jsx("th",{className:"px-8 py-5",children:"Malinha / Itens"}),e.jsx("th",{className:"px-8 py-5",children:"Cliente"}),e.jsx("th",{className:"px-8 py-5",children:"Agendamento"}),e.jsx("th",{className:"px-8 py-5",children:"Status Log√≠stico"}),e.jsx("th",{className:"px-8 py-5 text-center",children:"A√ß√£o"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:e.jsx(Q,{children:a?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center text-gray-300 italic",children:"Carregando agendamentos..."})}):h.length>0?h.map((d,N)=>{const g=i[d.status]||i.pending;return e.jsxs(I.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:N*.05},className:"hover:bg-[#FDFBF7]/40 transition-colors group",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-[#C75D3B]",children:d.orderNumber}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[e.jsx(me,{className:"w-3 h-3 text-gray-300"}),e.jsxs("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:[d.itemsCount," Pe√ßas"]})]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-[#FAF3F0] flex items-center justify-center text-[#4A3B32] font-bold text-xs border border-[#C75D3B]/10",children:d.customer.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-[#4A3B32] text-sm",children:d.customer.name}),e.jsx("p",{className:"text-[10px] text-gray-400",children:d.customer.phone})]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-3 h-3 text-[#C75D3B]/40"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] text-gray-300 font-bold uppercase tracking-tighter leading-none",children:"Entrega:"}),e.jsx("span",{className:A("text-[11px] font-bold",d.deliveryDate?"text-[#4A3B32]":"text-amber-500 italic"),children:d.deliveryDate?new Date(d.deliveryDate).toLocaleDateString("pt-BR"):"A DEFINIR"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-3 h-3 text-gray-300"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] text-gray-300 font-bold uppercase tracking-tighter leading-none",children:"Coleta:"}),e.jsx("span",{className:A("text-[11px] font-bold",d.pickupDate?"text-[#4A3B32]":"text-gray-300 italic"),children:d.pickupDate?new Date(d.pickupDate).toLocaleDateString("pt-BR"):"PENDENTE"})]})]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("span",{className:A("inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-[10px] font-bold uppercase tracking-widest transition-all shadow-sm",g.color),children:[e.jsx(g.icon,{className:"w-3.5 h-3.5"}),g.label]})}),e.jsx("td",{className:"px-8 py-6 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs(M,{to:`/admin/malinhas/${d.id}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-100 rounded-2xl text-[10px] font-bold text-[#4A3B32] hover:bg-[#4A3B32] hover:text-white transition-all shadow-sm group-hover:shadow-md active:scale-95",children:[e.jsx(Cs,{className:"w-4 h-4"}),"VER"]}),e.jsx("button",{onClick:k=>j(d.id,k),className:"p-2 bg-white border border-gray-100 rounded-2xl text-red-400 hover:bg-red-50 hover:text-red-600 transition-all shadow-sm group-hover:shadow-md active:scale-95",title:"Excluir Malinha",children:e.jsx(ee,{className:"w-4 h-4"})})]})})]},d.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(pe,{className:"w-12 h-12 text-gray-100"}),e.jsx("p",{className:"text-gray-400 font-medium font-display text-lg",children:"Nenhuma malinha ativa."}),e.jsx("p",{className:"text-xs text-gray-300",children:"Todas as malinhas est√£o em dia!"})]})})})})})]})})]}),e.jsx(ie,{isOpen:c.isOpen,onClose:()=>b({isOpen:!1,orderId:null}),onConfirm:x,title:"Remover Malinha?",description:"Tem certeza que deseja remover esta malinha? Se houver pe√ßas enviadas, o estoque reservado ser√° perdido e n√£o estornado automaticamente.",confirmText:"Sim, Remover",cancelText:"Manter Malinha",variant:"danger"})]})}function ga(){const{id:s}=ge(),n=de(),{getOrderById:t,updateStatus:a,updateSchedule:r,ordersLoading:l,finalizeMalinha:o}=se(),[u,c]=y.useState(null),[b,h]=y.useState([]),[j,x]=y.useState(!1);if(y.useEffect(()=>{const f=t(s);f&&c(f)},[s,t]),!u)return e.jsxs("div",{className:"p-24 text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto",children:e.jsx(ae,{className:"w-10 h-10 text-gray-200"})}),e.jsx("h2",{className:"text-2xl font-display font-bold text-[#4A3B32]",children:"Pedido n√£o localizado"}),e.jsx("p",{className:"text-gray-400",children:"O registro que voc√™ procura pode ter sido removido ou o ID est√° incorreto."}),e.jsxs(M,{to:"/admin/malinhas",className:"inline-flex items-center gap-2 px-6 py-3 bg-[#4A3B32] text-white rounded-2xl font-bold hover:scale-105 transition-all outline-none",children:[e.jsx(le,{className:"w-4 h-4"})," Voltar para Malinhas"]})]});const i=async f=>{F.promise(a(u.id,f),{loading:"Atualizando status...",success:D=>{var T;if(D.success)return c(D.order),`Status atualizado para ${(T=E[f])==null?void 0:T.label}!`;throw new Error(D.error)},error:D=>`Falha na atualiza√ß√£o: ${D.message}`})},d=async f=>{const{name:D,value:T}=f.target,G=await r(u.id,{[D]:T});G.success&&(c(G.order),F.success(`Data de ${D==="deliveryDate"?"entrega":"coleta"} atualizada!`,{description:`Nova data: ${new Date(T).toLocaleDateString("pt-BR")}`}))},N=f=>{h(D=>D.includes(f)?D.filter(T=>T!==f):[...D,f])},g=()=>{if(b.length===0){F.error("Selecione pelo menos uma pe√ßa que a cliente ficou.");return}x(!0)},k=async()=>{const f=u.items.filter((p,C)=>b.includes(C)),D=f.reduce((p,C)=>p+C.price,0),T=f.reduce((p,C)=>p+(C.costPrice||0),0),G={customerId:u.customer.id,customerName:u.customer.name,items:f.map(p=>({id:p.productId,name:p.productName,price:p.price,costPrice:p.costPrice||0,selectedSize:p.selectedSize,quantity:1,image:p.image})),totalValue:D,costPrice:T,paymentMethod:"pix",paymentStatus:"paid",date:new Date().toISOString(),source:"malinha",malinhaId:u.id},B=await o(u.id,b,G);B.success?(F.success("Venda gerada com sucesso! A malinha foi conclu√≠da."),n("/admin/vendas")):F.error("Erro ao gerar venda: "+B.error)},E={pending:{label:"Pendente",color:"bg-amber-100 text-amber-700",icon:Ne},shipped:{label:"Enviado",color:"bg-blue-100 text-blue-700",icon:je},completed:{label:"Conclu√≠do",color:"bg-emerald-100 text-emerald-700",icon:Xe},cancelled:{label:"Cancelado",color:"bg-red-100 text-red-700",icon:es}},m=E[u.status]||E.pending;return e.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 px-2",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(I.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n("/admin/malinhas"),className:"p-4 bg-white border border-gray-100 rounded-3xl shadow-sm hover:shadow-md transition-all",children:e.jsx(le,{className:"w-6 h-6 text-[#4A3B32]"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("h2",{className:"text-4xl font-display font-semibold text-[#4A3B32] tracking-tight",children:u.orderNumber}),e.jsx("span",{className:A("px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest",m.color),children:m.label})]}),e.jsxs("p",{className:"text-[#4A3B32]/40 font-medium italic",children:["Gerado em ",new Date(u.createdAt).toLocaleString("pt-BR")]})]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("a",{href:`https://wa.me/${u.customer.phone.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-6 py-3 bg-[#25D366] text-white rounded-2xl font-bold hover:bg-[#128C7E] transition-all shadow-lg shadow-[#25D366]/20 active:scale-95",children:[e.jsx(Xs,{className:"w-5 h-5"})," Contato WhatsApp"]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[e.jsxs(P,{className:"overflow-hidden border-none shadow-xl",children:[e.jsxs(R,{className:"bg-white p-8 border-b border-gray-50 flex items-center justify-between",children:[e.jsxs(_,{className:"text-xl flex items-center gap-3",children:[e.jsx(ae,{className:"w-6 h-6 text-[#C75D3B]"}),"Conte√∫do da Malinha"]}),e.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:[u.items.length," Pe√ßas Selecionadas"]})]}),e.jsxs(L,{className:"p-0",children:[e.jsx("div",{className:"divide-y divide-gray-50",children:u.items.map((f,D)=>e.jsxs(I.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:D*.1},className:A("p-8 flex items-center gap-6 group transition-colors",b.includes(D)?"bg-[#FAF8F5]":"hover:bg-[#FAF8F5]/50"),children:[e.jsx("div",{className:"w-24 h-24 rounded-3xl overflow-hidden bg-gray-50 border border-gray-100 flex-shrink-0 shadow-sm transition-transform group-hover:scale-105",children:e.jsx("img",{src:f.image,alt:f.productName,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("h4",{className:"text-lg font-bold text-[#4A3B32]",children:f.productName}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-xs font-bold text-[#C75D3B] bg-[#FDF0ED] px-2 py-0.5 rounded uppercase",children:["Tam: ",f.selectedSize]}),e.jsxs("span",{className:"text-[10px] text-gray-300 font-bold uppercase tracking-wider",children:["REF: ",f.productId||"N/A"]})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-xl font-bold text-[#4A3B32]",children:["R$ ",f.price.toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),e.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-2xl gap-1",children:[e.jsx("button",{onClick:()=>!b.includes(D)&&N(D),className:A("px-4 py-2 rounded-xl text-[10px] font-bold uppercase transition-all",b.includes(D)?"bg-emerald-500 text-white shadow-md shadow-emerald-500/20":"text-gray-400 hover:text-gray-600"),children:"Ficou"}),e.jsx("button",{onClick:()=>b.includes(D)&&N(D),className:A("px-4 py-2 rounded-xl text-[10px] font-bold uppercase transition-all",b.includes(D)?"text-gray-400 hover:text-gray-600":"bg-white text-gray-600 shadow-sm"),children:"Devolveu"})]})]})]},D))}),e.jsxs("div",{className:"p-8 bg-[#FAF8F5]/30 border-t border-gray-50 flex flex-col md:flex-row justify-between items-center gap-4 group",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[#4A3B32]/60 font-medium",children:"Resumo do Checkout"}),e.jsxs("span",{className:"text-[10px] text-emerald-600 font-bold uppercase tracking-widest",children:[b.length," pe√ßas selecionadas para venda"]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("span",{className:"text-3xl font-display font-bold text-[#C75D3B]",children:["R$ ",u.items.filter((f,D)=>b.includes(D)).reduce((f,D)=>f+D.price,0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("button",{onClick:g,disabled:b.length===0,className:A("flex items-center gap-3 px-8 py-4 rounded-[24px] font-bold shadow-lg transition-all text-sm uppercase tracking-widest active:scale-95",b.length>0?"bg-emerald-500 text-white shadow-emerald-500/20 hover:bg-emerald-600":"bg-gray-200 text-gray-400 cursor-not-allowed shadow-none"),children:[e.jsx(Xe,{className:"w-5 h-5"})," Finalizar Venda"]})]})]})]})]}),e.jsxs(P,{className:"border-none shadow-xl",children:[e.jsx(R,{className:"p-8 border-b border-gray-50",children:e.jsx(_,{className:"text-xl",children:"Hist√≥rico do Atendimento"})}),e.jsx(L,{className:"p-8",children:e.jsx("div",{className:"space-y-10",children:(u.statusHistory||[]).map((f,D)=>{var T;return e.jsxs("div",{className:"flex gap-6 relative",children:[D!==u.statusHistory.length-1&&e.jsx("div",{className:"absolute left-[11px] top-8 bottom-[-40px] w-[2px] bg-gray-100"}),e.jsx("div",{className:A("w-6 h-6 rounded-full mt-1 border-4 border-white shadow-md z-10 transition-colors duration-500",D===0?"bg-[#C75D3B]":"bg-gray-200")}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-sm font-bold text-[#4A3B32] uppercase tracking-wider",children:(T=E[f.status])==null?void 0:T.label}),e.jsx("span",{className:"text-[10px] text-gray-400 font-medium",children:new Date(f.timestamp).toLocaleTimeString("pt-BR")})]}),e.jsxs("p",{className:"text-xs text-[#4A3B32]/40 font-medium italic",children:["A√ß√£o realizada via ",f.source||"Painel de Gest√£o"," em ",new Date(f.timestamp).toLocaleDateString("pt-BR")]})]})]},D)}).reverse()})})]})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[e.jsxs(P,{className:"border-none shadow-xl bg-white overflow-hidden",children:[e.jsx("div",{className:"h-2 bg-[#C75D3B]"}),e.jsx(R,{className:"p-6",children:e.jsxs(_,{className:"flex items-center gap-2 text-lg",children:[e.jsx(je,{className:"w-5 h-5 text-[#C75D3B]"}),"Intelig√™ncia Log√≠stica"]})}),e.jsx(L,{className:"p-6 space-y-6 pt-0",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest mb-1.5 block",children:"Previs√£o de Entrega"}),e.jsx("input",{type:"date",name:"deliveryDate",value:u.deliveryDate||"",onChange:d,className:"w-full bg-white border-none rounded-xl p-3 text-sm font-bold text-[#4A3B32] shadow-sm focus:ring-2 focus:ring-[#C75D3B]/20 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest mb-1.5 block",children:"Janela de Coleta"}),e.jsx("input",{type:"date",name:"pickupDate",value:u.pickupDate||"",onChange:d,className:"w-full bg-white border-none rounded-xl p-3 text-sm font-bold text-[#4A3B32] shadow-sm focus:ring-2 focus:ring-[#C75D3B]/20 outline-none transition-all"})]})]}),e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest px-1",children:"Atalhos de Status"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:["shipped","completed","cancelled"].map(f=>e.jsxs("button",{onClick:()=>i(f),disabled:u.status===f,className:A("w-full py-3 px-4 rounded-xl text-xs font-bold transition-all text-left flex items-center justify-between group",u.status===f?"bg-[#4A3B32]/5 text-[#4A3B32]/40 grayscale cursor-default":"bg-white border border-gray-100 hover:border-[#C75D3B] hover:bg-[#FDFBF7] text-[#4A3B32]"),children:[e.jsxs("span",{children:["MARCAR COMO ",E[f].label.toUpperCase()]}),e.jsx(Ks,{className:A("w-4 h-4 opacity-0 group-hover:opacity-100 transition-all",u.status===f?"hidden":"")})]},f))})]})]})})]}),e.jsxs(P,{className:"border-none shadow-xl",children:[e.jsx(R,{className:"p-6 border-b border-gray-50",children:e.jsxs(_,{className:"flex items-center gap-2 text-lg",children:[e.jsx(ye,{className:"w-5 h-5 text-gray-400"}),"Perfil da Cliente"]})}),e.jsxs(L,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 py-2",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-[#FAF3F0] border border-[#C75D3B]/10 flex items-center justify-center text-[#C75D3B] font-bold text-xl",children:u.customer.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-[#4A3B32]",children:u.customer.name}),e.jsx("p",{className:"text-[10px] text-[#C75D3B] font-bold uppercase tracking-wider",children:"Cliente do Site"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Be,{className:"w-4 h-4 text-gray-300 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest leading-none mb-1",children:"Localiza√ß√£o"}),e.jsx("p",{className:"text-sm text-[#4A3B32] leading-relaxed",children:u.customer.address}),u.customer.complement&&e.jsxs("p",{className:"text-xs text-gray-400 italic",children:["Ref: ",u.customer.complement]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ae,{className:"w-4 h-4 text-gray-300 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest leading-none mb-1",children:"Contato"}),e.jsx("p",{className:"text-sm text-[#4A3B32]",children:u.customer.phone})]})]})]})]})]}),e.jsx(P,{className:"bg-[#4A3B32] text-white border-none overflow-hidden",children:e.jsxs(L,{className:"p-8 space-y-4 relative",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(ae,{className:"w-24 h-24"})}),e.jsx("h4",{className:"text-lg font-bold",children:"Dica de Gest√£o"}),e.jsx("p",{className:"text-sm text-white/60 leading-relaxed font-light italic",children:'"Ao atualizar as datas de entrega e coleta, o cronograma da loja √© sincronizado, garantindo que nenhuma cliente fique sem sua malinha no dia combinado."'}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{className:"text-xs font-bold text-[#C75D3B] hover:text-[#C75D3B]/80 transition-colors underline",children:"Ver documenta√ß√£o log√≠stica"})})]})})]})]}),e.jsx(ie,{isOpen:j,onClose:()=>x(!1),onConfirm:k,title:"Confirmar Venda?",description:`Voc√™ est√° transformando ${b.length} pe√ßas da malinha em uma venda definitiva. Isso dar√° a baixa real no estoque.`,confirmText:"Confirmar Venda",cancelText:"Revisar",variant:"info"})]})}const fa={default:"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",primary:"bg-[#C75D3B] text-white border-[#C75D3B] hover:bg-[#B84830]",secondary:"bg-[#FAF3F0] text-[#C75D3B] border-[#F5E6DF] hover:bg-[#F5E6DF]",success:"bg-emerald-100 text-emerald-700 border-emerald-200 hover:bg-emerald-200",warning:"bg-amber-100 text-amber-700 border-amber-200 hover:bg-amber-200",danger:"bg-red-100 text-red-700 border-red-200 hover:bg-red-200",info:"bg-blue-100 text-blue-700 border-blue-200 hover:bg-blue-200",outline:"border-2 border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50"},ba={sm:"px-2 py-0.5 text-[9px]",md:"px-2.5 py-1 text-[10px]",lg:"px-3 py-1.5 text-xs"};function ja({children:s,variant:n="default",size:t="md",className:a,...r}){return e.jsx("span",{className:A("inline-flex items-center font-bold uppercase tracking-wider rounded-full border transition-colors",fa[n],ba[t],a),...r,children:s})}function Na(){const{id:s}=ge(),n=de(),t=!!s,{products:a,customers:r,loadProducts:l,loadCustomers:o,addOrder:u,updateOrder:c,getOrderById:b}=se(),[h,j]=y.useState({customerId:"",customerName:"",deliveryDate:"",pickupDate:"",status:"pending",items:[]}),[x,i]=y.useState(""),[d,N]=y.useState(""),[g,k]=y.useState(!1),[E,m]=y.useState(!1);y.useEffect(()=>{if(l(),o(),t){const p=b(s);p&&j({customerId:p.customer.id,customerName:p.customer.name,deliveryDate:p.deliveryDate?p.deliveryDate.split("T")[0]:"",pickupDate:p.pickupDate?p.pickupDate.split("T")[0]:"",status:p.status,items:p.items.map(C=>({productId:C.productId,productName:C.productName,price:C.price,costPrice:C.costPrice||0,selectedSize:C.selectedSize,image:C.image}))})}},[s,t,l,o,b]);const f=r.filter(p=>p.name.toLowerCase().includes(x.toLowerCase())||p.phone.includes(x)),D=a.filter(p=>p.name.toLowerCase().includes(d.toLowerCase())),T=(p,C)=>{var O;const S={productId:p.id,productName:p.name,price:p.price,costPrice:p.costPrice||0,selectedSize:C,image:((O=p.images)==null?void 0:O[0])||"https://via.placeholder.com/150"};j(V=>({...V,items:[...V.items,S]})),m(!1),N(""),F.success(`${p.name} adicionado √† malinha.`)},G=p=>{j(C=>({...C,items:C.items.filter((S,O)=>O!==p)}))},B=async p=>{if(p.preventDefault(),!h.customerId||h.items.length===0){F.error("Selecione um cliente e ao menos um produto.");return}const C=h.items.reduce((V,J)=>V+J.price,0),S={...h,totalValue:C,itemsCount:h.items.length,customer:r.find(V=>V.id===h.customerId)},O=t?c(s,S):u(S);F.promise(O,{loading:t?"Atualizando malinha...":"Criando malinha...",success:V=>{if(V.success)return n("/admin/malinhas"),t?"Malinha atualizada!":"Malinha criada com sucesso!";throw new Error(V.error)},error:V=>`Erro: ${V.message}`})};return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-10 pb-20",children:[e.jsx("div",{className:"flex items-center justify-between px-2",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(M,{to:"/admin/malinhas",className:"p-4 bg-white border border-gray-100 rounded-3xl shadow-sm hover:shadow-md transition-all",children:e.jsx(le,{className:"w-6 h-6 text-[#4A3B32]"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-display font-semibold text-[#4A3B32] tracking-tight",children:t?"Editar Malinha":"Montar Nova Malinha"}),e.jsx("p",{className:"text-[#4A3B32]/40 font-medium italic",children:"Personalize a sele√ß√£o para sua cliente."})]})]})}),e.jsxs("form",{onSubmit:B,className:"grid lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[e.jsxs(P,{className:"border-none shadow-xl",children:[e.jsxs(R,{className:"p-8 border-b border-gray-50 flex items-center justify-between",children:[e.jsxs(_,{className:"flex items-center gap-3",children:[e.jsx(me,{className:"w-5 h-5 text-[#C75D3B]"}),"Itens Selecionados"]}),e.jsxs("button",{type:"button",onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-[#FDF0ED] text-[#C75D3B] rounded-xl text-xs font-bold hover:bg-[#FCE4DC] transition-all",children:[e.jsx(Z,{className:"w-4 h-4"})," ADICIONAR PRODUTO"]})]}),e.jsx(L,{className:"p-0",children:h.items.length>0?e.jsx("div",{className:"divide-y divide-gray-50",children:h.items.map((p,C)=>e.jsxs("div",{className:"p-6 flex items-center gap-6 group hover:bg-gray-50/50",children:[e.jsx("div",{className:"w-16 h-20 rounded-xl overflow-hidden bg-gray-100 flex-shrink-0",children:e.jsx("img",{src:p.image,alt:p.productName,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-[#4A3B32]",children:p.productName}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"text-[10px] font-black bg-gray-100 px-2 py-0.5 rounded text-gray-500 uppercase tracking-tighter",children:["TAM: ",p.selectedSize]}),e.jsxs("span",{className:"text-xs font-bold text-[#C75D3B]",children:["R$ ",p.price.toLocaleString("pt-BR")]})]})]}),e.jsx("button",{type:"button",onClick:()=>G(C),className:"p-3 text-gray-300 hover:text-red-500 transition-colors",children:e.jsx(ee,{className:"w-5 h-5"})})]},C))}):e.jsx("div",{className:"p-12 text-center text-gray-300 italic",children:"Nenhum produto adicionado ainda."})})]}),e.jsxs(P,{className:"border-none shadow-xl",children:[e.jsx(R,{className:"p-8 border-b border-gray-50",children:e.jsxs(_,{className:"flex items-center gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-[#C75D3B]"}),"Agendamento Log√≠stico"]})}),e.jsx(L,{className:"p-8",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Previs√£o de Entrega"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-300"}),e.jsx("input",{type:"date",className:"w-full pl-12 pr-4 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 transition-all font-bold text-[#4A3B32]",value:h.deliveryDate,onChange:p=>j(C=>({...C,deliveryDate:p.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Janela de Coleta"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-300"}),e.jsx("input",{type:"date",className:"w-full pl-12 pr-4 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 transition-all font-bold text-[#4A3B32]",value:h.pickupDate,onChange:p=>j(C=>({...C,pickupDate:p.target.value}))})]})]})]})})]})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[e.jsxs(P,{className:"border-none shadow-xl overflow-hidden",children:[e.jsx("div",{className:"h-2 bg-[#C75D3B]"}),e.jsx(R,{className:"p-6",children:e.jsxs(_,{className:"flex items-center justify-between text-lg",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5 text-gray-400"}),"Cliente"]}),h.customerId&&e.jsx("button",{type:"button",onClick:()=>j(p=>({...p,customerId:"",customerName:""})),className:"text-[10px] font-bold text-[#C75D3B] uppercase",children:"Trocar"})]})}),e.jsx(L,{className:"p-6 pt-0",children:h.customerId?e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-2xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#FAF3F0] flex items-center justify-center text-[#C75D3B] font-bold",children:h.customerName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-[#4A3B32]",children:h.customerName}),e.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black",children:"Cliente Selecionada"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-300"}),e.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-none rounded-xl text-sm focus:ring-2 focus:ring-[#C75D3B]/20 transition-all",value:x,onChange:p=>{i(p.target.value),k(!0)},onFocus:()=>k(!0)})]}),e.jsx(Q,{children:g&&x&&e.jsx(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-white border border-gray-100 rounded-xl overflow-hidden shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(p=>e.jsxs("button",{type:"button",onClick:()=>{j(C=>({...C,customerId:p.id,customerName:p.name})),k(!1),i("")},className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-[10px] font-bold",children:p.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-[#4A3B32]",children:p.name}),e.jsx("p",{className:"text-[10px] text-gray-400",children:p.phone})]})]},p.id)):e.jsx("div",{className:"p-4 text-center text-xs text-gray-400 italic",children:"Cliente n√£o localizada"})})})]})})]}),e.jsxs(P,{className:"border-none shadow-xl",children:[e.jsx(R,{className:"p-6",children:e.jsx(_,{className:"text-lg",children:"Status da Malinha"})}),e.jsx(L,{className:"p-6 pt-0 space-y-4",children:["pending","shipped","completed","cancelled"].map(p=>e.jsxs("button",{type:"button",onClick:()=>j(C=>({...C,status:p})),className:A("w-full px-4 py-3 rounded-xl text-xs font-bold uppercase tracking-widest text-left flex items-center justify-between border transition-all",h.status===p?"bg-[#4A3B32] text-white border-[#4A3B32] shadow-md":"bg-white text-gray-400 border-gray-100 hover:border-[#C75D3B] hover:text-[#C75D3B]"),children:[p==="pending"?"Pendente":p==="shipped"?"Enviada":p==="completed"?"Conclu√≠da":"Cancelada",h.status===p&&e.jsx(xe,{className:"w-4 h-4"})]},p))})]}),e.jsxs("button",{type:"submit",className:"w-full py-6 bg-[#C75D3B] text-white rounded-3xl font-display font-bold text-xl shadow-xl shadow-[#C75D3B]/20 hover:bg-[#A64D31] hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-3",children:[e.jsx(he,{className:"w-6 h-6"}),t?"SALVAR ALTERA√á√ïES":"CONFIRMAR MALINHA"]}),e.jsx(M,{to:"/admin/malinhas",className:"w-full py-4 text-center block text-sm font-bold text-gray-400 hover:text-gray-600 transition-colors",children:"DESCARTAR"})]})]}),e.jsx(Q,{children:E&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-black/60 backdrop-blur-sm",children:e.jsxs(I.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white w-full max-w-2xl rounded-[40px] shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[e.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center bg-[#FAF8F5]/50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-display font-bold text-[#4A3B32]",children:"Inclus√£o de Produto"}),e.jsx("p",{className:"text-xs text-gray-400 font-medium italic mt-1",children:"Busque por nome e selecione o tamanho."})]}),e.jsx("button",{onClick:()=>m(!1),className:"p-3 hover:bg-white rounded-2xl transition-all",children:e.jsx(ee,{className:"w-6 h-6 text-gray-300"})})]}),e.jsx("div",{className:"p-8 border-b border-gray-50",children:e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),e.jsx("input",{type:"text",placeholder:"Nome do produto...",className:"w-full pl-14 pr-6 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium transition-all",value:d,onChange:p=>N(p.target.value),autoFocus:!0})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:D.length>0?D.map(p=>{var O,V;const C=((O=p.sizes)==null?void 0:O.length)===1,S=p.stock>0;return e.jsxs("div",{className:A("p-4 bg-gray-50/50 rounded-3xl border border-transparent transition-all flex items-center gap-6 group",S&&"hover:border-[#C75D3B]/20 hover:bg-white",S&&C&&"cursor-pointer"),onClick:()=>{S&&C&&T(p,p.sizes[0])},children:[e.jsx("div",{className:"w-20 h-24 rounded-2xl overflow-hidden bg-white shadow-sm flex-shrink-0",children:e.jsx("img",{src:(V=p.images)==null?void 0:V[0],alt:p.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"text-lg font-bold text-[#4A3B32]",children:p.name}),e.jsx(ja,{variant:p.stock>0?"success":"danger",children:p.stock>0?`${p.stock} em estoque`:"Esgotado"})]}),e.jsxs("p",{className:"text-sm font-bold text-[#C75D3B]",children:["R$ ",p.price.toLocaleString("pt-BR")]}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:(p.sizes||[]).map(J=>e.jsx("button",{onClick:H=>{C||(H.stopPropagation(),T(p,J))},disabled:!S,className:A("px-3 py-1.5 bg-white border border-gray-100 rounded-lg text-[10px] font-black text-[#4A3B32] transition-all shadow-sm",S&&"hover:bg-[#C75D3B] hover:text-white",!S&&"opacity-50 cursor-not-allowed",C&&"hidden"),children:J},J))})]})]},p.id)}):e.jsx("div",{className:"py-20 text-center text-gray-300 italic font-display",children:"Busque para come√ßar..."})})]})})})]})}function ya(){const{customers:s,customersLoading:n,loadCustomers:t,removeCustomer:a}=se(),[r,l]=y.useState(""),[o,u]=y.useState({isOpen:!1,customerId:null,customerName:""});y.useEffect(()=>{t()},[t]);const c=s.filter(i=>i.name.toLowerCase().includes(r.toLowerCase())||i.phone.includes(r)||i.email&&i.email.toLowerCase().includes(r.toLowerCase())),b=s.reduce((i,d)=>i+d.totalSpent,0),h=s.length>0?b/s.length:0,j=(i,d)=>{u({isOpen:!0,customerId:i,customerName:d})},x=async()=>{const i=await a(o.customerId);i.success?F.success("Cliente removida com sucesso."):F.error(`Erro ao excluir: ${i.error}`)};return e.jsxs("div",{className:"space-y-10 pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-4xl font-display font-bold text-[#4A3B32] tracking-tight",children:"Banco de Clientes"}),e.jsx("p",{className:"text-[#4A3B32]/40 font-medium",children:"Gest√£o de relacionamento e hist√≥rico de consumo."})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(M,{to:"/admin/customers/new",className:"flex items-center gap-2 px-6 py-3 bg-[#C75D3B] text-white rounded-2xl text-sm font-bold shadow-lg shadow-[#C75D3B]/20 hover:scale-105 transition-all active:scale-95",children:[e.jsx(Z,{className:"w-5 h-5"})," Nova Cliente"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(P,{children:e.jsx(L,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-3xl bg-blue-50 flex items-center justify-center text-blue-600",children:e.jsx(Ae,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Contatos Ativos"}),e.jsx("p",{className:"text-2xl font-display font-bold text-[#4A3B32]",children:s.length})]})]})})}),e.jsx(P,{children:e.jsx(L,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-3xl bg-emerald-50 flex items-center justify-center text-emerald-600",children:e.jsx(va,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"LTV M√©dio"}),e.jsxs("p",{className:"text-2xl font-display font-bold text-[#4A3B32]",children:["R$ ",h.toLocaleString("pt-BR",{maximumFractionDigits:0})]})]})]})})}),e.jsx(P,{children:e.jsx(L,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-3xl bg-purple-50 flex items-center justify-center text-purple-600",children:e.jsx(me,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Malinhas"}),e.jsx("p",{className:"text-2xl font-display font-bold text-[#4A3B32]",children:s.reduce((i,d)=>i+d.totalOrders,0)})]})]})})}),e.jsx(P,{children:e.jsx(L,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-3xl bg-amber-50 flex items-center justify-center text-amber-600",children:e.jsx(wa,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Receita Total"}),e.jsxs("p",{className:"text-2xl font-display font-bold text-[#4A3B32]",children:["R$ ",b.toLocaleString("pt-BR",{maximumFractionDigits:0})]})]})]})})})]}),e.jsxs(P,{className:"overflow-hidden border-none shadow-2xl shadow-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 bg-white flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(re,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-300"}),e.jsx("input",{type:"text",placeholder:"Buscar por nome, telefone ou e-mail...",value:r,onChange:i=>l(i.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-none rounded-2xl text-sm focus:ring-2 focus:ring-[#C75D3B]/20 outline-none transition-all"})]}),e.jsxs("button",{className:"flex items-center gap-2 px-5 py-3 bg-white border border-gray-100 rounded-2xl text-xs font-bold text-[#4A3B32] hover:bg-gray-50 transition-all",children:[e.jsx(Ys,{className:"w-4 h-4"})," Filtros Avan√ßados"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50",children:[e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em]",children:"Cliente"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em]",children:"Engajamento"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] text-right",children:"LTV Acumulado"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em]",children:"√öltima Intera√ß√£o"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] text-center",children:"A√ß√µes"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:e.jsx(Q,{children:n?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center text-gray-300 italic font-medium",children:"Carregando CRM..."})}):c.length>0?c.map((i,d)=>e.jsxs(I.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:d*.05},className:"hover:bg-[#FDFBF7]/40 transition-colors group",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#FAF3F0] flex items-center justify-center text-[#C75D3B] font-bold text-lg border-2 border-white shadow-sm transition-transform group-hover:scale-110",children:i.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-[#4A3B32]",children:i.name}),e.jsx("p",{className:"text-[10px] text-gray-400 italic",children:i.email||"Nenhum e-mail vinculado"})]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-1.5 font-bold text-[#4A3B32] text-xs",children:[e.jsx(me,{className:"w-3.5 h-3.5 text-[#C75D3B]/40"}),i.totalOrders," Entregas"]})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsxs("span",{className:"font-bold text-[#4A3B32] text-sm",children:["R$ ",i.totalSpent.toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("p",{className:"text-xs font-medium text-gray-400",children:i.lastOrderAt?new Date(i.lastOrderAt).toLocaleDateString("pt-BR"):"Sem registros"})}),e.jsxs("td",{className:"px-8 py-6 text-center space-x-2",children:[e.jsxs(M,{to:`/admin/customers/${i.id}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-100 rounded-2xl text-[10px] font-bold text-[#4A3B32] hover:bg-[#4A3B32] hover:text-white transition-all shadow-sm group-hover:shadow-md active:scale-95",children:[e.jsx(Qs,{className:"w-4 h-4"}),"PERFIL"]}),e.jsx("button",{onClick:()=>j(i.id,i.name),className:"inline-flex items-center gap-2 px-3 py-2 bg-white border border-red-100 rounded-2xl text-[10px] font-bold text-red-500 hover:bg-red-500 hover:text-white transition-all shadow-sm active:scale-95",title:"Excluir Cliente",children:e.jsx(ee,{className:"w-4 h-4"})})]})]},i.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"5",className:"py-24 text-center text-gray-300 italic font-medium",children:['Nenhuma cliente encontrada para "',r,'".']})})})})]})})]}),e.jsx(ie,{isOpen:o.isOpen,onClose:()=>u({...o,isOpen:!1}),onConfirm:x,title:"Excluir Cliente?",description:`Tem certeza que deseja excluir a cliente "${o.customerName}"? Esta a√ß√£o remover√° todo o hist√≥rico vinculado.`,confirmText:"Sim, Excluir",cancelText:"Cancelar",variant:"danger"})]})}function va(s){return e.jsxs("svg",{...s,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),e.jsx("polyline",{points:"16 7 22 7 22 13"})]})}function wa(s){return e.jsxs("svg",{...s,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}function bs(){const{id:s}=ge(),n=de(),{getCustomerById:t,addCustomer:a,editCustomer:r,customersLoading:l}=se(),[o,u]=y.useState({name:"",phone:"",email:"",cpf:"",addresses:[{street:"",number:"",complement:"",neighborhood:"",city:"Santos",state:"SP",zipCode:"",isDefault:!0}]});y.useEffect(()=>{if(s){const x=t(s);x?u({...x,addresses:x.addresses||[{street:"",number:"",complement:"",neighborhood:"",city:"Santos",state:"SP",zipCode:"",isDefault:!0}]}):(F.error("Cliente n√£o encontrado"),n("/admin/customers"))}},[s,t,n]);const c=x=>{const{name:i,value:d}=x.target;u(N=>({...N,[i]:d}))},b=x=>{const{name:i,value:d}=x.target;u(N=>{const g=[...N.addresses];return g[0]={...g[0],[i]:d},{...N,addresses:g}})},h=async x=>{x.preventDefault();const i=s?r(s,o):a(o);F.promise(i,{loading:s?"Atualizando cliente...":"Cadastrando cliente...",success:d=>{if(d.success)return n("/admin/customers"),s?"Dados do cliente atualizados!":"Cliente cadastrado com sucesso!";throw new Error(d.error)},error:d=>`Erro: ${d.message}`})},j=o.addresses[0];return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pb-20",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n("/admin/customers"),className:"p-3 bg-white border border-gray-100 rounded-2xl shadow-sm hover:bg-gray-50 transition-colors",children:e.jsx(le,{className:"w-5 h-5 text-[#4A3B32]"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-display font-semibold text-[#4A3B32] tracking-tight",children:s?"Editar Cliente":"Novo Cliente"}),e.jsx("p",{className:"text-sm text-[#4A3B32]/40 font-medium",children:s?"Atualize as informa√ß√µes de contato e endere√ßo.":"Registre uma nova cliente na base do Studio 30."})]})]})}),e.jsxs("form",{onSubmit:h,className:"grid lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5 text-[#C75D3B]"}),"Dados Pessoais"]})}),e.jsxs(L,{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-widest mb-2 block",children:"Nome Completo"}),e.jsx("input",{required:!0,type:"text",name:"name",value:o.name,onChange:c,placeholder:"Ex: Maria Oliveira",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-medium transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-widest mb-2 block",children:"WhatsApp / Telefone"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ae,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{required:!0,type:"tel",name:"phone",value:o.phone,onChange:c,placeholder:"(13) 99999-9999",className:"w-full pl-12 pr-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-medium transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-widest mb-2 block",children:"CPF (Opcional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",name:"cpf",value:o.cpf||"",onChange:c,placeholder:"000.000.000-00",className:"w-full pl-12 pr-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-medium transition-all"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-widest mb-2 block",children:"E-mail"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:o.email,onChange:c,placeholder:"cliente@email.com",className:"w-full pl-12 pr-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-medium transition-all"})]})]})]})]}),e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-5 h-5 text-[#C75D3B]"}),"Endere√ßo de Entrega"]})}),e.jsxs(L,{className:"grid md:grid-cols-6 gap-6",children:[e.jsxs("div",{className:"md:col-span-4",children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-widest mb-2 block",children:"Logradouro / Rua"}),e.jsx("input",{required:!0,type:"text",name:"street",value:j.street,onChange:b,placeholder:"Av. Ana Costa",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-medium transition-all"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-widest mb-2 block",children:"N√∫mero"}),e.jsx("input",{required:!0,type:"text",name:"number",value:j.number,onChange:b,placeholder:"123",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-medium transition-all"})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-widest mb-2 block",children:"Bairro"}),e.jsx("input",{required:!0,type:"text",name:"neighborhood",value:j.neighborhood,onChange:b,placeholder:"Gonzaga",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-medium transition-all"})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-widest mb-2 block",children:"Complemento"}),e.jsx("input",{type:"text",name:"complement",value:j.complement,onChange:b,placeholder:"Apto 42",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-medium transition-all"})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-widest mb-2 block",children:"Cidade"}),e.jsx("input",{required:!0,type:"text",name:"city",value:j.city,onChange:b,className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-medium transition-all"})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-widest mb-2 block",children:"CEP"}),e.jsx("input",{required:!0,type:"text",name:"zipCode",value:j.zipCode,onChange:b,placeholder:"11000-000",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-medium transition-all"})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[e.jsxs(P,{className:"bg-[#4A3B32] border-none shadow-2xl sticky top-8",children:[e.jsx(R,{children:e.jsx(_,{className:"text-white",children:"A√ß√µes"})}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:l,className:"w-full flex items-center justify-center gap-3 py-5 bg-[#C75D3B] text-white rounded-2xl font-bold shadow-xl shadow-[#C75D3B]/20 hover:bg-[#A64D31] transition-all",children:[e.jsx(he,{className:"w-6 h-6"}),s?"Salvar Altera√ß√µes":"Confirmar Cadastro"]}),e.jsx("button",{type:"button",onClick:()=>n("/admin/customers"),className:"w-full py-4 border-2 border-white/10 text-white/60 hover:text-white hover:border-white/20 rounded-2xl font-bold transition-all",children:"Cancelar"})]})]}),e.jsx(P,{className:"bg-[#FDF0ED] border-none",children:e.jsx(L,{className:"pt-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(Oe,{className:"w-5 h-5 text-[#C75D3B] shrink-0"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-[#C75D3B] font-bold uppercase tracking-wider",children:"CRM Inteligente"}),e.jsx("p",{className:"text-sm text-[#4A3B32]/60 italic font-medium leading-relaxed",children:"Manter o endere√ßo atualizado garante que o c√°lculo de frete e prazos de entrega nas malinhas futuras seja preciso."})]})]})})})]})]})]})}function Ca(){const{vendas:s,loadVendas:n,vendasLoading:t,removeVenda:a}=se(),[r,l]=y.useState(""),[o,u]=y.useState("all"),[c,b]=y.useState({isOpen:!1,vendaId:null,customerName:""});y.useEffect(()=>{n()},[n]);const h=s.filter(g=>{const k=g.customerName.toLowerCase().includes(r.toLowerCase()),E=o==="all"||g.paymentMethod===o;return k&&E}),j=h.reduce((g,k)=>g+k.totalValue,0),x=h.filter(g=>g.paymentMethod==="fiado"&&g.paymentStatus==="pending").reduce((g,k)=>g+k.totalValue,0),i={pix:{label:"PIX",color:"bg-emerald-100 text-emerald-700"},card:{label:"Cart√£o",color:"bg-blue-100 text-blue-700"},fiado:{label:"Credi√°rio",color:"bg-amber-100 text-amber-700"},cash:{label:"Dinheiro",color:"bg-gray-100 text-gray-700"}},d=(g,k)=>{b({isOpen:!0,vendaId:g,customerName:k})},N=async()=>{const g=await a(c.vendaId);g.success?F.success("Venda removida com sucesso."):F.error(`Erro ao remover: ${g.error}`)};return e.jsxs("div",{className:"space-y-10 pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-display font-semibold text-[#4A3B32] tracking-tight",children:"Vendas"}),e.jsx("p",{className:"text-[#4A3B32]/40 font-medium italic",children:"Hist√≥rico de faturamento e recebimentos."})]}),e.jsxs(M,{to:"/admin/vendas/new",className:"flex items-center gap-2 px-8 py-4 bg-[#C75D3B] text-white rounded-2xl font-bold hover:bg-[#A64D31] transition-all shadow-xl shadow-[#C75D3B]/20 hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(Z,{className:"w-5 h-5"}),"Nova Venda Manual"]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs(P,{className:"border-emerald-50 bg-white",children:[e.jsx(R,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-50 rounded-xl",children:e.jsx(fe,{className:"w-5 h-5 text-emerald-600"})}),e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Faturamento"})]})}),e.jsxs(L,{children:["R$ ",j.toLocaleString("pt-BR"),e.jsx("p",{className:"text-xs text-emerald-600 font-medium mt-1",children:"+12% em rela√ß√£o ao m√™s anterior"})]})]})}),e.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(P,{className:"border-amber-50 bg-white",children:[e.jsx(R,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-50 rounded-xl",children:e.jsx(Me,{className:"w-5 h-5 text-amber-600"})}),e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Credi√°rio (Pendente)"})]})}),e.jsxs(L,{children:[e.jsxs("div",{className:"flex items-baseline gap-1 text-3xl font-display font-bold text-[#4A3B32]",children:["R$ ",x.toLocaleString("pt-BR")]}),e.jsx("p",{className:"text-xs text-amber-600 font-medium mt-1",children:"Aguardando liquida√ß√£o"})]})]})}),e.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsxs(P,{className:"border-[#FDF0ED] bg-white",children:[e.jsx(R,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-[#FDF0ED] rounded-xl",children:e.jsx(Le,{className:"w-5 h-5 text-[#C75D3B]"})}),e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Performance Hoje"})]})}),e.jsx(L,{children:e.jsxs("div",{className:"text-3xl font-display font-bold text-[#4A3B32]",children:[s.filter(g=>new Date(g.createdAt).toDateString()===new Date().toDateString()).length,e.jsx("span",{className:"text-sm font-medium text-gray-400 ml-2",children:"vendas hoje"})]})})]})})]}),e.jsxs(P,{className:"overflow-hidden border-none shadow-xl",children:[e.jsxs(R,{className:"bg-white border-b border-gray-50 flex flex-col md:flex-row gap-4 items-center justify-between p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[e.jsx(_,{className:"hidden md:block",children:"Registros"}),e.jsxs("div",{className:"relative flex-1 md:w-80",children:[e.jsx(re,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Procurar por cliente...",className:"w-full pl-10 pr-4 py-2 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium transition-all",value:r,onChange:g=>l(g.target.value)})]})]}),e.jsx("div",{className:"flex gap-1.5 p-1 bg-gray-50 rounded-2xl",children:["all","pix","card","fiado"].map(g=>e.jsx("button",{onClick:()=>u(g),className:A("px-4 py-2 rounded-xl text-[10px] font-bold uppercase tracking-wider transition-all",o===g?"bg-white text-[#4A3B32] shadow-sm":"text-[#4A3B32]/40 hover:text-[#4A3B32]"),children:g==="all"?"Ver Tudo":g==="fiado"?"Credi√°rio":g},g))})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#FAF8F5]/50 text-[#4A3B32]/40 text-[10px] uppercase font-bold tracking-[0.2em]",children:[e.jsx("th",{className:"px-8 py-5",children:"Data / Hor√°rio"}),e.jsx("th",{className:"px-8 py-5",children:"Cliente"}),e.jsx("th",{className:"px-8 py-5",children:"M√©todo"}),e.jsx("th",{className:"px-8 py-5 text-right",children:"Valor Final"}),e.jsx("th",{className:"px-8 py-5",children:"Status"}),e.jsx("th",{className:"px-8 py-5 text-center",children:"A√ß√µes"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:e.jsx(Q,{children:t?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"py-24 text-center text-gray-300 italic font-medium",children:"Sincronizando registros da Studio 30..."})}):h.length>0?h.map((g,k)=>{var E,m;return e.jsxs(I.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:k*.05},className:"hover:bg-[#FDFBF7]/40 transition-colors group cursor-default",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-[#4A3B32]",children:new Date(g.createdAt).toLocaleDateString("pt-BR")}),e.jsxs("span",{className:"text-[10px] text-gray-400 font-medium",children:["Ref: #",g.id]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#FAF3F0] flex items-center justify-center text-[#C75D3B] font-bold text-xs",children:g.customerName.charAt(0)}),e.jsx("p",{className:"font-bold text-[#4A3B32] text-sm",children:g.customerName})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("span",{className:A("px-3 py-1.5 rounded-full text-[9px] font-bold uppercase tracking-wider",((E=i[g.paymentMethod])==null?void 0:E.color)||"bg-gray-100 text-gray-600"),children:(m=i[g.paymentMethod])==null?void 0:m.label})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsxs("span",{className:"font-bold text-[#4A3B32] text-sm",children:["R$ ",g.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),e.jsx("td",{className:"px-8 py-6 text-center md:text-left",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:A("w-1.5 h-1.5 rounded-full",g.paymentStatus==="paid"?"bg-emerald-500":"bg-amber-500 animate-pulse")}),e.jsx("span",{className:A("text-[10px] uppercase font-bold tracking-widest",g.paymentStatus==="paid"?"text-emerald-500":"text-amber-500"),children:g.paymentStatus==="paid"?"Liquidado":"Aguardando"})]})}),e.jsx("td",{className:"px-8 py-6 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(M,{to:`/admin/vendas/${g.id}`,className:"p-2.5 bg-white border border-gray-100 text-[#4A3B32] hover:bg-[#4A3B32] hover:text-white rounded-xl transition-all shadow-sm active:scale-95",title:"Editar Venda",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>d(g.id,g.customerName),className:"p-2.5 bg-white border border-gray-100 text-red-400 hover:bg-red-50 hover:text-red-500 rounded-xl transition-all shadow-sm active:scale-95",title:"Excluir Registro",children:e.jsx(ee,{className:"w-4 h-4"})})]})})]},g.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"py-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(re,{className:"w-12 h-12 text-gray-100"}),e.jsx("p",{className:"text-gray-400 font-medium font-display text-lg",children:"Nenhum registro encontrado."}),e.jsx("p",{className:"text-xs text-gray-300",children:"Tente ajustar seus filtros para localizar as vendas."})]})})})})})]})}),e.jsxs(Zt,{className:"bg-[#FAF8F5]/30 border-t border-gray-50 flex justify-between p-6",children:[e.jsxs("p",{className:"text-xs text-gray-400 font-medium",children:["Exibindo ",h.length," de ",s.length," registros"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-4 py-2 bg-white border border-gray-100 rounded-xl text-[10px] font-bold text-gray-400 disabled:opacity-50",disabled:!0,children:"Anterior"}),e.jsx("button",{className:"px-4 py-2 bg-white border border-gray-100 rounded-xl text-[10px] font-bold text-gray-400 disabled:opacity-50",disabled:!0,children:"Pr√≥xima"})]})]})]}),e.jsx(ie,{isOpen:c.isOpen,onClose:()=>b({...c,isOpen:!1}),onConfirm:N,title:"Excluir Venda?",description:`Tem certeza que deseja excluir o registro de venda de ${c.customerName}? Esta a√ß√£o estornar√° o estoque dos produtos.`,confirmText:"Excluir Registro",cancelText:"Cancelar",variant:"danger"})]})}function js(){const s=de(),{id:n}=ge(),t=!!n,{products:a,customers:r,coupons:l,loadCoupons:o,addVenda:u,editVenda:c,getVendaById:b,reloadAll:h}=se(),{calculateFee:j}=ss(),[x,i]=y.useState({customerId:"",customerName:"",paymentMethod:"pix",paymentStatus:"paid",items:[],totalValue:0,notes:"",couponId:"",couponCode:"",discountAmount:0}),[d,N]=y.useState(1),[g,k]=y.useState({feePercentage:0,feeValue:0,netValue:0}),[E,m]=y.useState(""),[f,D]=y.useState(!1),[T,G]=y.useState(""),[B,p]=y.useState("");y.useEffect(()=>{if(h(),o(),t){const v=b(n);v?(i({customerId:v.customerId,customerName:v.customerName,paymentMethod:v.paymentMethod,paymentStatus:v.paymentStatus,items:v.items,totalValue:v.originalTotal||v.totalValue,notes:v.notes||"",couponId:v.couponId||"",couponCode:v.couponCode||"",discountAmount:v.discountAmount||0}),v.parcelas&&N(v.parcelas)):(F.error("Venda n√£o localizada."),s("/admin/vendas"))}},[n,t,b,h,s]),y.useEffect(()=>{if(x.paymentMethod&&x.totalValue>0&&x.paymentStatus!=="pending"){const v=x.totalValue-x.discountAmount,q=j(v,x.paymentMethod,d);k(q)}else k({feePercentage:0,feeValue:0,netValue:x.totalValue-x.discountAmount})},[x.paymentMethod,x.totalValue,x.discountAmount,x.paymentStatus,d,j]);const C=v=>{if(!v.stock||v.stock<=0){F.error("Produto sem estoque",{description:`O item ${v.name} n√£o possui unidades dispon√≠veis.`});return}const q=x.items.find(z=>z.productId===v.id);if(q&&q.quantity>=v.stock){F.error("Limite de estoque atingido",{description:`Voc√™ j√° adicionou todas as ${v.stock} unidades dispon√≠veis de ${v.name}.`});return}const w={productId:v.id,name:v.name,price:v.price,costPrice:v.costPrice||0,quantity:1};i(z=>({...z,items:[...z.items,w],totalValue:z.totalValue+v.price})),F.success(`${v.name} adicionado √† venda.`,{description:`Valor: R$ ${v.price.toLocaleString("pt-BR")}`})},S=v=>{const q=x.items[v];i(w=>({...w,items:w.items.filter((z,X)=>X!==v),totalValue:w.totalValue-q.price*q.quantity})),F.info("Item removido da lista.")},O=v=>{i(q=>({...q,customerId:v.id,customerName:v.name})),p(""),F.success(`Cliente ${v.name} selecionado.`)},V=async()=>{if(E.toUpperCase().trim()){D(!0);try{const v=E.toUpperCase().trim(),q=l.find(z=>z.code===v&&z.isActive);if(!q){F.error("Cupom inv√°lido ou inativo."),D(!1);return}if(q.expiryDate&&new Date(q.expiryDate)<new Date){F.error("Este cupom j√° expirou."),D(!1);return}if(q.minPurchase&&x.totalValue<q.minPurchase){F.error(`Valor m√≠nimo para este cupom: R$ ${q.minPurchase.toLocaleString("pt-BR")}`),D(!1);return}let w=0;q.type==="percent"?w=x.totalValue*q.value/100:w=q.value,i(z=>({...z,couponId:q.id,couponCode:q.code,discountAmount:w})),F.success(`Cupom ${v} aplicado!`,{description:`Desconto de R$ ${w.toLocaleString("pt-BR",{minimumFractionDigits:2})}`}),m("")}catch{F.error("Erro ao validar cupom.")}finally{D(!1)}}},J=()=>{i(v=>({...v,couponId:"",couponCode:"",discountAmount:0})),F.info("Cupom removido.")},H=async v=>{if(v.preventDefault(),!x.customerId||x.items.length===0){F.error("Campos incompletos",{description:"Por favor, selecione um cliente e adicione pelo menos um produto."});return}const q=x.paymentStatus==="pending"?"fiado":x.paymentMethod,w={...x,paymentMethod:q,totalValue:x.totalValue-x.discountAmount,originalTotal:x.totalValue,costPrice:x.items.reduce((ne,as)=>ne+as.costPrice*as.quantity,0),feePercentage:g.feePercentage,feeValue:g.feeValue,netValue:g.netValue||x.totalValue-x.discountAmount,parcelas:x.paymentMethod==="credito_parcelado"?d:null},z=t?c(n,w):u(w),X=t?"Processando altera√ß√µes e ajustando estoque...":"Registrando venda e baixando estoque...",Y=t?"Venda e estoque atualizados com sucesso!":`Venda registrada e estoque baixado para ${x.customerName}!`;F.promise(z,{loading:X,success:ne=>{if(ne.success)return s("/admin/vendas"),Y;throw new Error(ne.error)},error:ne=>`Erro na opera√ß√£o: ${ne.message}`})},K=a.filter(v=>v.name.toLowerCase().includes(T.toLowerCase())).slice(0,5),te=r.filter(v=>v.name.toLowerCase().includes(B.toLowerCase())).slice(0,5);return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 pb-20",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s("/admin/vendas"),className:"p-3 bg-white border border-gray-100 rounded-2xl shadow-sm hover:bg-gray-50 transition-colors",children:e.jsx(le,{className:"w-5 h-5 text-[#4A3B32]"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-display font-semibold text-[#4A3B32] tracking-tight",children:t?"Editar Registro de Venda":"Nova Venda Manual"}),e.jsx("p",{className:"text-sm text-[#4A3B32]/40 font-medium",children:t?`Atualizando informa√ß√µes da venda ref: #${n}`:"Registre vendas r√°pidas fora do fluxo do site."})]})]})}),e.jsxs("form",{onSubmit:H,className:"grid lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[e.jsxs(P,{className:"overflow-visible",children:[e.jsx(R,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5 text-[#C75D3B]"}),"Cliente"]})}),e.jsx(L,{children:e.jsx(Q,{mode:"wait",children:x.customerId?e.jsxs(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"flex items-center justify-between p-5 bg-[#FDFBF7] rounded-3xl border border-[#C75D3B]/20 shadow-inner",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#C75D3B] flex items-center justify-center text-white font-bold text-xl",children:x.customerName.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-xl text-[#4A3B32]",children:x.customerName}),e.jsx("p",{className:"text-xs text-[#C75D3B] font-bold uppercase tracking-wider",children:"Cliente Selecionado"})]})]}),e.jsx("button",{type:"button",onClick:()=>i(v=>({...v,customerId:"",customerName:""})),className:"px-4 py-2 text-xs font-bold text-red-500 hover:bg-red-50 rounded-full transition-colors",children:"Trocar Cliente"})]}):e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nome ou CPF do cliente...",className:"w-full pl-12 pr-6 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg transition-all",value:B,onChange:v=>p(v.target.value)}),B.length>0&&e.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute top-full left-0 right-0 mt-3 bg-white border border-gray-100 shadow-2xl rounded-3xl z-50 overflow-hidden divide-y divide-gray-50",children:te.length>0?te.map(v=>e.jsxs("button",{type:"button",onClick:()=>O(v),className:"w-full p-5 text-left hover:bg-gray-50 transition-colors flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#4A3B32] block",children:v.name}),e.jsx("span",{className:"text-xs text-gray-400",children:v.phone})]}),e.jsx(Z,{className:"w-5 h-5 text-[#C75D3B] opacity-0 group-hover:opacity-100 transition-opacity"})]},v.id)):e.jsx("div",{className:"p-8 text-center text-gray-400 italic",children:"Nenhum cliente encontrado."})})]})})})]}),e.jsxs(P,{children:[e.jsx(R,{className:"flex flex-row items-center justify-between",children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5 text-[#C75D3B]"}),"Produtos Vendidos"]})}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Adicionar produto pelo nome...",className:"w-full pl-12 pr-6 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg transition-all",value:T,onChange:v=>G(v.target.value)}),T.length>0&&e.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute top-full left-0 right-0 mt-3 bg-white border border-gray-100 shadow-2xl rounded-3xl z-40 overflow-hidden divide-y divide-gray-50",children:K.length>0?K.map(v=>e.jsxs("button",{type:"button",onClick:()=>{C(v),G("")},className:"w-full p-5 text-left hover:bg-gray-50 transition-colors flex items-center justify-between group",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-[#4A3B32] block",children:v.name}),e.jsxs("span",{className:"text-xs text-gray-400",children:["Em estoque: ",v.stock||0]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"font-bold text-[#C75D3B] block font-display",children:["R$ ",v.price.toLocaleString("pt-BR")]}),e.jsxs("div",{className:"flex items-center justify-end gap-1.5 mt-0.5",children:[e.jsx("div",{className:A("w-1.5 h-1.5 rounded-full",v.stock>5?"bg-emerald-400":v.stock>0?"bg-amber-400":"bg-red-400")}),e.jsx("span",{className:A("text-[9px] font-bold uppercase tracking-widest",v.stock>0?"text-gray-300":"text-red-400"),children:v.stock>0?`${v.stock} em estoque`:"Esgotado"})]})]})]},v.id)):e.jsx("div",{className:"p-8 text-center text-gray-400 italic",children:"Produto n√£o localizado."})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Q,{initial:!1,children:x.items.map((v,q)=>e.jsxs(I.div,{initial:{opacity:0,height:0,margin:0},animate:{opacity:1,height:"auto",marginBottom:12},exit:{opacity:0,height:0,padding:0},className:"p-5 flex items-center justify-between gap-4 bg-white border border-gray-100 rounded-2xl shadow-sm hover:border-[#C75D3B]/20 transition-all group",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-[#4A3B32]",children:v.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs font-bold text-[#C75D3B] bg-[#FDF0ED] px-2 py-0.5 rounded text-[10px]",children:"UNIDADE"}),e.jsxs("span",{className:"text-xs text-[#4A3B32]/40",children:["C√≥d: ",v.productId]})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-bold text-[#4A3B32]",children:["R$ ",v.price.toLocaleString("pt-BR")]})}),e.jsx("button",{type:"button",onClick:()=>S(q),className:"p-3 text-red-400 hover:bg-red-50 hover:text-red-500 rounded-xl transition-all opacity-0 group-hover:opacity-100",children:e.jsx(ee,{className:"w-5 h-5"})})]})]},`${v.productId}-${q}`))}),x.items.length===0&&e.jsxs("div",{className:"py-20 text-center space-y-3 border-2 border-dashed border-gray-100 rounded-3xl bg-gray-50/30",children:[e.jsx(ae,{className:"w-12 h-12 text-gray-200 mx-auto"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 font-medium",children:"Nenhum produto adicionado ainda."}),e.jsx("p",{className:"text-xs text-gray-400/60",children:"Use a busca acima para incluir itens na venda."})]})]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[e.jsxs(P,{className:"bg-white sticky top-8 shadow-2xl",children:[e.jsx(R,{children:e.jsx(_,{children:"Pagamento e Finaliza√ß√£o"})}),e.jsxs(L,{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-[0.1em] mb-2.5 block",children:"Meio de Pagamento"}),e.jsxs("select",{value:x.paymentStatus==="pending"?"fiado":x.paymentMethod,disabled:x.paymentStatus==="pending",onChange:v=>{i(q=>({...q,paymentMethod:v.target.value})),v.target.value==="credito_parcelado"?N(2):N(1)},className:A("w-full px-4 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-bold text-[#4A3B32] transition-all",x.paymentStatus==="pending"&&"opacity-80 cursor-not-allowed bg-amber-50/50"),children:[e.jsx("option",{value:"pix",children:"üì± PIX"}),e.jsx("option",{value:"debito",children:"üí≥ D√©bito"}),e.jsx("option",{value:"credito_vista",children:"üí≥ Cr√©dito √† Vista"}),e.jsx("option",{value:"credito_parcelado",children:"üí≥ Cr√©dito Parcelado"}),e.jsx("option",{value:"fiado",children:"ü§ù Credi√°rio (Conta Corrente)"}),e.jsx("option",{value:"cash",children:"üíµ Dinheiro Esp√©cie"})]}),x.paymentStatus==="pending"&&e.jsxs("p",{className:"mt-2 text-[10px] text-amber-600 font-bold uppercase tracking-wider animate-pulse flex items-center gap-1.5 pl-1",children:[e.jsx(Oe,{className:"w-3 h-3"})," Autom√°tico: Aguardando = Credi√°rio"]})]}),x.paymentMethod==="credito_parcelado"&&x.paymentStatus!=="pending"&&e.jsxs(I.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-[0.1em] mb-2.5 block",children:"N√∫mero de Parcelas"}),e.jsxs("select",{value:d,onChange:v=>N(Number(v.target.value)),className:"w-full px-4 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-bold text-[#4A3B32] transition-all",children:[e.jsx("option",{value:2,children:"2x"}),e.jsx("option",{value:3,children:"3x"}),e.jsx("option",{value:4,children:"4x"}),e.jsx("option",{value:5,children:"5x"}),e.jsx("option",{value:6,children:"6x"}),e.jsx("option",{value:7,children:"7x"}),e.jsx("option",{value:8,children:"8x"}),e.jsx("option",{value:9,children:"9x"}),e.jsx("option",{value:10,children:"10x"}),e.jsx("option",{value:11,children:"11x"}),e.jsx("option",{value:12,children:"12x"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-[0.1em] mb-2.5 block",children:"Cupom de Desconto"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ce,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-300"}),e.jsx("input",{type:"text",placeholder:"C√ìDIGO",className:"w-full pl-10 pr-4 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-bold text-[#4A3B32] uppercase placeholder:text-gray-200",value:E,onChange:v=>m(v.target.value.toUpperCase())})]}),e.jsx("button",{type:"button",onClick:V,disabled:f||!E,className:"px-6 bg-[#C75D3B] text-white rounded-2xl font-bold hover:bg-[#A64D31] transition-all disabled:opacity-50",children:f?"...":"Aplicar"})]}),x.couponCode&&e.jsxs("div",{className:"mt-3 flex items-center justify-between p-3 bg-emerald-50 rounded-xl border border-emerald-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-3.5 h-3.5 text-emerald-600"}),e.jsxs("span",{className:"text-[10px] font-bold text-emerald-700 uppercase tracking-wider",children:[x.couponCode," ATIVO"]})]}),e.jsx("button",{type:"button",onClick:J,className:"p-1 hover:bg-emerald-100 rounded-full transition-colors",children:e.jsx(ue,{className:"w-3.5 h-3.5 text-emerald-600"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-[#4A3B32]/40 uppercase font-bold tracking-[0.1em] mb-2.5 block",children:"Status da Transa√ß√£o"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{type:"button",onClick:()=>i(v=>({...v,paymentStatus:"paid"})),className:A("py-3.5 rounded-2xl text-xs font-bold border-2 transition-all active:scale-95",x.paymentStatus==="paid"?"bg-[#C75D3B]/5 border-[#C75D3B] text-[#C75D3B] shadow-sm shadow-[#C75D3B]/10":"bg-white border-gray-100 text-gray-400 hover:border-gray-200"),children:"LIQUIDADO"}),e.jsx("button",{type:"button",onClick:()=>i(v=>({...v,paymentStatus:"pending"})),className:A("py-3.5 rounded-2xl text-xs font-bold border-2 transition-all active:scale-95",x.paymentStatus==="pending"?"bg-amber-50 border-amber-500 text-amber-600 shadow-sm shadow-amber-500/10":"bg-white border-gray-100 text-gray-400 hover:border-gray-200"),children:"PENDENTE"})]})]})]}),e.jsxs("div",{className:"pt-8 border-t border-gray-100 space-y-4",children:[e.jsxs("div",{className:"space-y-2.5 px-1",children:[e.jsxs("div",{className:"flex justify-between items-center text-[#4A3B32]/60 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Subtotal"}),e.jsxs("span",{className:"font-bold",children:["R$ ",x.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),x.discountAmount>0&&e.jsxs("div",{className:"flex justify-between items-center text-emerald-600 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Desconto"}),e.jsxs("span",{className:"font-bold",children:["- R$ ",x.discountAmount.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-[#4A3B32] text-base pt-2 border-t border-gray-100",children:[e.jsx("span",{className:"font-bold",children:"Valor da Venda"}),e.jsxs("span",{className:"font-bold text-lg",children:["R$ ",(x.totalValue-x.discountAmount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),g.feeValue>0&&x.paymentStatus!=="pending"&&e.jsxs(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex justify-between items-center text-red-500 text-sm pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-3.5 h-3.5"}),e.jsxs("span",{className:"font-medium",children:["Taxa (",g.feePercentage,"%)"]})]}),e.jsxs("span",{className:"font-bold",children:["- R$ ",g.feeValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),e.jsxs("div",{className:"flex justify-between items-end pt-4 border-t-2 border-[#C75D3B]/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:g.feeValue>0&&x.paymentStatus!=="pending"?"Valor L√≠quido Recebido":"Total da Venda"}),e.jsxs("p",{className:"text-3xl font-display font-bold text-[#4A3B32]",children:["R$ ",(g.feeValue>0&&x.paymentStatus!=="pending"?g.netValue:x.totalValue-x.discountAmount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"text-[10px] font-bold text-[#C75D3B] bg-[#FDF0ED] px-2 py-1 rounded",children:"Venda Direta"})})]}),e.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:x.items.length===0,className:A("w-full flex items-center justify-center gap-3 py-5 rounded-2xl font-bold transition-all shadow-xl",x.items.length>0?"bg-[#4A3B32] text-white shadow-[#4A3B32]/20 hover:bg-[#342922]":"bg-gray-100 text-gray-300 cursor-not-allowed shadow-none"),children:[e.jsx(he,{className:"w-6 h-6"}),t?"Atualizar Registro":"Finalizar Registro"]})]})]})]}),e.jsx(P,{className:"bg-[#FAF3F0] border-none",children:e.jsx(L,{className:"pt-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(Oe,{className:"w-5 h-5 text-[#C75D3B] shrink-0"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-[#C75D3B] font-bold uppercase tracking-wider",children:"Lembrete √Ågil"}),e.jsx("p",{className:"text-sm text-[#4A3B32]/60 italic font-medium leading-relaxed",children:"As estat√≠sticas de consumo deste cliente ser√£o atualizadas instantaneamente ap√≥s a confirma√ß√£o."})]})]})})})]})]})]})}function Ba(){const{coupons:s,couponsLoading:n,loadCoupons:t,removeCoupon:a,editCoupon:r}=se(),[l,o]=y.useState(""),[u,c]=y.useState({isOpen:!1,couponId:null,couponCode:""});y.useEffect(()=>{t()},[t]);const b=s.filter(i=>i.code.toLowerCase().includes(l.toLowerCase())),h=(i,d)=>{c({isOpen:!0,couponId:i,couponCode:d})},j=async()=>{const i=await a(u.couponId);i.success?F.success("Cupom exclu√≠do com sucesso."):F.error(`Erro ao excluir: ${i.error}`)},x=async i=>{(await r(i.id,{isActive:!i.isActive})).success&&F.success(`Cupom ${i.isActive?"desativado":"ativado"} com sucesso.`)};return e.jsxs("div",{className:"space-y-10 pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-4xl font-display font-bold text-[#4A3B32] tracking-tight",children:"Descontos & Cupons"}),e.jsx("p",{className:"text-[#4A3B32]/40 font-medium",children:"Gerencie campanhas e c√≥digos promocionais."})]}),e.jsxs(M,{to:"/admin/coupons/new",className:"flex items-center gap-2 px-6 py-3 bg-[#4A3B32] text-white rounded-2xl text-sm font-bold shadow-lg shadow-[#4A3B32]/10 hover:scale-105 transition-all active:scale-95",children:[e.jsx(Z,{className:"w-5 h-5"})," Novo Cupom"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(P,{className:"bg-white border-none shadow-sm",children:e.jsxs(L,{className:"p-6 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[#FDFBF7] flex items-center justify-center",children:e.jsx(Ce,{className:"w-6 h-6 text-[#C75D3B]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Cupons Ativos"}),e.jsx("p",{className:"text-2xl font-display font-bold text-[#4A3B32]",children:s.filter(i=>i.isActive).length})]})]})}),e.jsx(P,{className:"bg-white border-none shadow-sm",children:e.jsxs(L,{className:"p-6 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[#FDFBF7] flex items-center justify-center",children:e.jsx(We,{className:"w-6 h-6 text-green-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total de Usos"}),e.jsx("p",{className:"text-2xl font-display font-bold text-[#4A3B32]",children:s.reduce((i,d)=>i+(d.usageCount||0),0)})]})]})}),e.jsx(P,{className:"bg-white border-none shadow-sm",children:e.jsxs(L,{className:"p-6 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[#FDFBF7] flex items-center justify-center",children:e.jsx(Ze,{className:"w-6 h-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Economia Gerada"}),e.jsx("p",{className:"text-2xl font-display font-bold text-[#4A3B32]",children:"R$ 0,00"})]})]})})]}),e.jsxs(P,{className:"overflow-hidden border-none shadow-2xl shadow-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-50 bg-white flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(re,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-300"}),e.jsx("input",{type:"text",placeholder:"Buscar por c√≥digo do cupom...",value:l,onChange:i=>o(i.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-none rounded-2xl text-sm focus:ring-2 focus:ring-[#C75D3B]/20 outline-none transition-all"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50",children:[e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em]",children:"C√ìDIGO"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em]",children:"DESCONTO"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] text-center",children:"STATUS"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] text-right",children:"USOS"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] text-center",children:"A√á√ïES"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:e.jsx(Q,{children:n?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center text-gray-300 italic",children:"Sincronizando cupons..."})}):b.length>0?b.map((i,d)=>e.jsxs(I.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:d*.05},className:"hover:bg-[#FDFBF7]/40 transition-colors group",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#4A3B32]/5 flex items-center justify-center",children:e.jsx(Ce,{className:"w-5 h-5 text-[#4A3B32]/40"})}),e.jsx("span",{className:"text-sm font-bold text-[#4A3B32] uppercase tracking-wider",children:i.code})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("span",{className:"text-sm font-bold text-[#C75D3B]",children:i.type==="percent"?`${i.value}%`:`R$ ${i.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})}),e.jsx("td",{className:"px-8 py-6 text-center",children:e.jsxs("button",{onClick:()=>x(i),className:A("inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider transition-all",i.isActive?"bg-green-50 text-green-600 hover:bg-green-100":"bg-red-50 text-red-400 hover:bg-red-100"),children:[i.isActive?e.jsx(We,{className:"w-3 h-3"}):e.jsx(es,{className:"w-3 h-3"}),i.isActive?"Ativo":"Pausado"]})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsx("span",{className:"text-sm font-bold text-[#4A3B32]/60",children:i.usageCount||0})}),e.jsxs("td",{className:"px-8 py-6 text-center space-x-2",children:[e.jsxs(M,{to:`/admin/coupons/${i.id}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-100 rounded-2xl text-[10px] font-bold text-[#4A3B32] hover:bg-[#4A3B32] hover:text-white transition-all shadow-sm active:scale-95",children:[e.jsx(be,{className:"w-4 h-4"}),"EDITAR"]}),e.jsx("button",{onClick:()=>h(i.id,i.code),className:"inline-flex items-center gap-2 px-3 py-2 bg-white border border-red-100 rounded-2xl text-[10px] font-bold text-red-500 hover:bg-red-500 hover:text-white transition-all shadow-sm active:scale-95",children:e.jsx(ee,{className:"w-4 h-4"})})]})]},i.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-24 text-center text-gray-300 italic",children:"Nenhum cupom cadastrado."})})})})]})})]}),e.jsx(ie,{isOpen:u.isOpen,onClose:()=>c({...u,isOpen:!1}),onConfirm:j,title:"Excluir Cupom?",description:`Tem certeza que deseja excluir o cupom "${u.couponCode}"? Esta a√ß√£o n√£o pode ser desfeita.`,confirmText:"Excluir Cupom",cancelText:"Cancelar",variant:"danger"})]})}function Ns(){const{id:s}=ge(),n=de(),{getCouponById:t,addCoupon:a,editCoupon:r,couponsLoading:l}=se(),[o,u]=y.useState({code:"",type:"percent",value:"",minPurchase:"",expiryDate:"",isActive:!0,description:""});y.useEffect(()=>{if(s){const h=t(s);h&&u({...h,value:h.value.toString(),minPurchase:h.minPurchase?h.minPurchase.toString():"",expiryDate:h.expiryDate||""})}},[s,t]);const c=h=>{const{name:j,value:x,type:i,checked:d}=h.target;u(N=>({...N,[j]:i==="checkbox"?d:x}))},b=async h=>{h.preventDefault();const j=i=>{if(!i)return null;const d=i.toString().replace(",",".");return parseFloat(d)},x={...o,code:o.code.toUpperCase().trim(),value:j(o.value)||0,minPurchase:j(o.minPurchase)};F.promise(s?r(s,x):a(x),{loading:s?"Salvando cupom...":"Criando cupom...",success:i=>{if(i.success)return n("/admin/coupons"),s?"Cupom atualizado com sucesso!":"Cupom criado com sucesso!";throw new Error(i.error)},error:i=>`Erro: ${i.message}`})};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-10 pb-20",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(I.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n("/admin/coupons"),className:"p-4 bg-white border border-gray-100 rounded-3xl shadow-sm hover:shadow-md transition-all",children:e.jsx(le,{className:"w-6 h-6 text-[#4A3B32]"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-display font-semibold text-[#4A3B32] tracking-tight",children:s?"Editar Cupom":"Novo Cupom"}),e.jsx("p",{className:"text-[#4A3B32]/40 font-medium italic",children:"Configure regras de desconto e exclusividade."})]})]})}),e.jsxs("form",{onSubmit:b,className:"grid md:grid-cols-12 gap-8",children:[e.jsx("div",{className:"md:col-span-8 space-y-8",children:e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs(_,{className:"flex items-center gap-2 uppercase tracking-widest text-xs font-bold text-[#4A3B32]/40",children:[e.jsx(Ce,{className:"w-4 h-4"})," Detalhes do Cupom"]})}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"C√≥digo do Cupom"}),e.jsx("input",{type:"text",name:"code",required:!0,placeholder:"EX: STUDIO30OFF",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-xl font-black text-[#4A3B32] tracking-widest transition-all placeholder:text-gray-200",value:o.code,onChange:c}),e.jsx("p",{className:"text-[10px] text-gray-400 pl-1 italic",children:"Este √© o c√≥digo que a cliente digitar√° no checkout."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Tipo de Desconto"}),e.jsxs("div",{className:"flex gap-2 p-1 bg-gray-50 rounded-2xl",children:[e.jsxs("button",{type:"button",onClick:()=>u(h=>({...h,type:"percent"})),className:A("flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-xs font-bold transition-all",o.type==="percent"?"bg-white text-[#C75D3B] shadow-sm":"text-gray-400 hover:text-gray-600"),children:[e.jsx(Ze,{className:"w-4 h-4"})," Porcentagem"]}),e.jsxs("button",{type:"button",onClick:()=>u(h=>({...h,type:"fixed"})),className:A("flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-xs font-bold transition-all",o.type==="fixed"?"bg-white text-[#C75D3B] shadow-sm":"text-gray-400 hover:text-gray-600"),children:[e.jsx(fe,{className:"w-4 h-4"})," Valor Fixo"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:o.type==="percent"?"Desconto (%)":"Valor (R$)"}),e.jsx("input",{type:"text",inputMode:"decimal",name:"value",required:!0,placeholder:"0,00",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-[#4A3B32]",value:o.value,onChange:c})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Descri√ß√£o Interna"}),e.jsx("textarea",{name:"description",rows:"3",placeholder:"Ex: Campanha de lan√ßamento da cole√ß√£o outono...",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium leading-relaxed transition-all",value:o.description,onChange:c})]})]})]})}),e.jsxs("div",{className:"md:col-span-4 space-y-8",children:[e.jsxs(P,{children:[e.jsx(R,{children:e.jsx(_,{className:"text-sm",children:"Configura√ß√µes"})}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"M√≠nimo de Compra (Opcional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-300"}),e.jsx("input",{type:"text",inputMode:"decimal",name:"minPurchase",placeholder:"0,00",className:"w-full pl-10 pr-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-bold text-[#4A3B32]",value:o.minPurchase,onChange:c})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Data de Expira√ß√£o"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-300"}),e.jsx("input",{type:"date",name:"expiryDate",className:"w-full pl-10 pr-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none font-bold text-[#4A3B32]",value:o.expiryDate,onChange:c})]})]}),e.jsxs("div",{className:"p-4 bg-[#FDFBF7] rounded-3xl border border-[#C75D3B]/5 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"w-4 h-4 text-[#C75D3B]"}),e.jsx("span",{className:"text-[10px] font-bold text-[#4A3B32] uppercase",children:"Dica Premium"})]}),e.jsx("p",{className:"text-[11px] text-[#4A3B32]/60 leading-relaxed font-medium",children:"Cupons com nomes curtos e em caixa alta tendem a ter **24% mais convers√£o** em campanhas via WhatsApp."})]})]})]}),e.jsxs("div",{className:"sticky bottom-8 space-y-4",children:[e.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:l,className:"w-full flex items-center justify-center gap-3 py-6 bg-[#4A3B32] text-white rounded-3xl font-bold shadow-2xl shadow-[#4A3B32]/30 hover:bg-[#342922] transition-all disabled:opacity-50",children:[e.jsx(he,{className:"w-6 h-6"}),s?"Atualizar Cupom":"Ativar Cupom"]}),e.jsx("button",{type:"button",onClick:()=>n("/admin/coupons"),className:"w-full py-4 text-[#4A3B32]/40 font-bold tracking-widest uppercase text-[10px] hover:text-[#4A3B32] transition-colors",children:"Descartar Altera√ß√µes"})]})]})]})]})}function Aa(){const{suppliers:s,suppliersLoading:n,loadSuppliers:t,removeSupplier:a}=ke(),[r,l]=y.useState(""),[o,u]=y.useState({isOpen:!1,supplierId:null,supplierName:""});y.useEffect(()=>{t()},[t]);const c=s.filter(j=>{var x,i,d;return((x=j.name)==null?void 0:x.toLowerCase().includes(r.toLowerCase()))||((i=j.cnpj)==null?void 0:i.toLowerCase().includes(r.toLowerCase()))||((d=j.city)==null?void 0:d.toLowerCase().includes(r.toLowerCase()))}),b=(j,x)=>{u({isOpen:!0,supplierId:j,supplierName:x})},h=async()=>{const j=await a(o.supplierId);j.success?F.success("Fornecedor exclu√≠do com sucesso."):F.error(`Erro ao excluir: ${j.error}`),u({isOpen:!1,supplierId:null,supplierName:""})};return e.jsxs("div",{className:"space-y-10 pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-4xl font-display font-bold text-[#4A3B32] tracking-tight",children:"Fornecedores"}),e.jsx("p",{className:"text-[#4A3B32]/40 font-medium",children:"Gerencie sua rede de fornecedores."})]}),e.jsxs(M,{to:"/admin/suppliers/new",className:"flex items-center gap-2 px-6 py-3 bg-[#4A3B32] text-white rounded-2xl text-sm font-bold shadow-lg shadow-[#4A3B32]/10 hover:scale-105 transition-all active:scale-95",children:[e.jsx(Z,{className:"w-5 h-5"})," Novo Fornecedor"]})]}),e.jsxs(P,{className:"overflow-hidden border-none shadow-2xl shadow-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 bg-white flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(re,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-300"}),e.jsx("input",{type:"text",placeholder:"Buscar fornecedor por nome, CNPJ ou cidade...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium",value:r,onChange:j=>l(j.target.value)})]}),e.jsxs("div",{className:"text-sm font-bold text-[#4A3B32]/40",children:[c.length," ",c.length===1?"fornecedor":"fornecedores"]})]}),e.jsx(L,{className:"p-0",children:n?e.jsxs("div",{className:"p-20 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-[#C75D3B] border-t-transparent"}),e.jsx("p",{className:"mt-4 text-sm text-[#4A3B32]/40 font-medium",children:"Carregando fornecedores..."})]}):c.length===0?e.jsxs("div",{className:"p-20 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[#FAF3F0] flex items-center justify-center",children:e.jsx(je,{className:"w-8 h-8 text-[#C75D3B]/40"})}),e.jsx("p",{className:"text-sm text-[#4A3B32]/40 font-medium",children:r?"Nenhum fornecedor encontrado.":"Nenhum fornecedor cadastrado ainda."})]}):e.jsx("div",{className:"divide-y divide-gray-50",children:e.jsx(Q,{children:c.map((j,x)=>e.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{delay:x*.05},className:"p-6 hover:bg-[#FDFBF7] transition-all group",children:e.jsxs("div",{className:"flex items-start justify-between gap-6",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[#C75D3B]/10 flex items-center justify-center flex-shrink-0",children:e.jsx(Ss,{className:"w-6 h-6 text-[#C75D3B]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-bold text-[#4A3B32] text-lg truncate",children:j.name}),j.cnpj&&e.jsx("span",{className:"text-xs font-mono text-[#4A3B32]/40 bg-gray-100 px-2 py-1 rounded",children:j.cnpj})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-[#4A3B32]/60",children:[j.phone&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ae,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:j.phone})]}),j.email&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Qe,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"truncate max-w-[200px]",children:j.email})]}),j.city&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Be,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[j.city,"/",j.state]})]})]}),j.notes&&e.jsx("p",{className:"mt-2 text-sm text-[#4A3B32]/50 italic line-clamp-2",children:j.notes})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{to:`/admin/suppliers/${j.id}`,className:"p-3 text-[#4A3B32]/40 hover:text-[#C75D3B] hover:bg-[#FDF0ED] rounded-xl transition-all",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(j.id,j.name),className:"p-3 text-[#4A3B32]/40 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all",children:e.jsx(ee,{className:"w-4 h-4"})})]})]})},j.id))})})})]}),e.jsx(ie,{isOpen:o.isOpen,onClose:()=>u({isOpen:!1,supplierId:null,supplierName:""}),onConfirm:h,title:"Excluir Fornecedor?",description:`Tem certeza que deseja excluir o fornecedor "${o.supplierName}"? Esta a√ß√£o n√£o pode ser desfeita.`,confirmText:"Sim, Excluir",cancelText:"Cancelar"})]})}function ys(){const{id:s}=ge(),n=de(),{getSupplierById:t,addSupplier:a,editSupplier:r,suppliersLoading:l}=ke(),[o,u]=y.useState({name:"",cnpj:"",phone:"",email:"",address:"",city:"",state:"",zipCode:"",contactPerson:"",notes:""});y.useEffect(()=>{if(s){const j=t(s);j&&u(j)}},[s,t]);const c=j=>{const{name:x,value:i}=j.target;u(d=>({...d,[x]:i}))},b=async j=>{j.preventDefault(),F.promise(s?r(parseInt(s),o):a(o),{loading:s?"Salvando altera√ß√µes...":"Cadastrando fornecedor...",success:x=>{if(x.success)return n("/admin/suppliers"),s?"Fornecedor atualizado com sucesso!":"Fornecedor cadastrado com sucesso!";throw new Error(x.error)},error:x=>`Erro: ${x.message}`})},h=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"];return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-10 pb-20",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(I.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n("/admin/suppliers"),className:"p-4 bg-white border border-gray-100 rounded-3xl shadow-sm hover:shadow-md transition-all",children:e.jsx(le,{className:"w-6 h-6 text-[#4A3B32]"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-display font-semibold text-[#4A3B32] tracking-tight",children:s?"Editar Fornecedor":"Novo Fornecedor"}),e.jsx("p",{className:"text-[#4A3B32]/40 font-medium italic",children:"Gest√£o de fornecedores Studio 30."})]})]})}),e.jsxs("form",{onSubmit:b,className:"grid lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"w-5 h-5 text-[#C75D3B]"}),"Informa√ß√µes do Fornecedor"]})}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Nome/Raz√£o Social *"}),e.jsx("input",{type:"text",name:"name",required:!0,placeholder:"Ex: Confec√ß√µes Primavera LTDA",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium transition-all",value:o.name,onChange:c})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"CNPJ"}),e.jsx("input",{type:"text",name:"cnpj",placeholder:"00.000.000/0000-00",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium",value:o.cnpj,onChange:c})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Pessoa de Contato"}),e.jsx("input",{type:"text",name:"contactPerson",placeholder:"Ex: Maria Silva",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium",value:o.contactPerson,onChange:c})]})]})]})]}),e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"w-5 h-5 text-[#C75D3B]"}),"Informa√ß√µes de Contato"]})}),e.jsx(L,{className:"space-y-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Telefone"}),e.jsx("input",{type:"tel",name:"phone",placeholder:"(00) 00000-0000",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium",value:o.phone,onChange:c})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"E-mail"}),e.jsx("input",{type:"email",name:"email",placeholder:"contato@fornecedor.com.br",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium",value:o.email,onChange:c})]})]})})]}),e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-5 h-5 text-[#C75D3B]"}),"Endere√ßo"]})}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Endere√ßo Completo"}),e.jsx("input",{type:"text",name:"address",placeholder:"Rua, N√∫mero, Bairro",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium",value:o.address,onChange:c})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2 md:col-span-1",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Cidade"}),e.jsx("input",{type:"text",name:"city",placeholder:"S√£o Paulo",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium",value:o.city,onChange:c})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Estado"}),e.jsxs("select",{name:"state",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium appearance-none",value:o.state,onChange:c,children:[e.jsx("option",{value:"",children:"Selecione"}),h.map(j=>e.jsx("option",{value:j,children:j},j))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"CEP"}),e.jsx("input",{type:"text",name:"zipCode",placeholder:"00000-000",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium",value:o.zipCode,onChange:c})]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(ks,{className:"w-5 h-5 text-[#C75D3B]"}),"Observa√ß√µes"]})}),e.jsx(L,{children:e.jsx("textarea",{name:"notes",rows:"8",placeholder:"Adicione informa√ß√µes importantes sobre este fornecedor...",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium leading-relaxed transition-all resize-none",value:o.notes,onChange:c})})]}),e.jsxs("div",{className:"sticky top-8 space-y-4",children:[e.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:l,className:"w-full flex items-center justify-center gap-3 py-6 bg-[#4A3B32] text-white rounded-3xl font-bold shadow-2xl shadow-[#4A3B32]/30 hover:bg-[#342922] transition-all disabled:opacity-50",children:[e.jsx(he,{className:"w-6 h-6"}),s?"Salvar Altera√ß√µes":"Cadastrar Fornecedor"]}),e.jsx("button",{type:"button",onClick:()=>n("/admin/suppliers"),className:"w-full py-4 text-[#4A3B32]/40 font-bold tracking-widest uppercase text-[10px] hover:text-[#4A3B32] transition-colors",children:"Cancelar"})]})]})]})]})}function Da(){const{purchases:s,purchasesLoading:n,loadPurchases:t,removePurchase:a,suppliers:r,loadSuppliers:l}=ke(),[o,u]=y.useState(""),[c,b]=y.useState({isOpen:!1,purchaseId:null});y.useEffect(()=>{t(),l()},[t,l]);const h=s.filter(m=>{var T;const f=r.find(G=>G.id===m.supplierId);return((f==null?void 0:f.name)||"").toLowerCase().includes(o.toLowerCase())||((T=m.paymentMethod)==null?void 0:T.toLowerCase().includes(o.toLowerCase()))}),j=m=>{b({isOpen:!0,purchaseId:m})},x=async()=>{const m=await a(c.purchaseId);m.success?F.success("Compra exclu√≠da com sucesso."):F.error(`Erro ao excluir: ${m.error}`),b({isOpen:!1,purchaseId:null})},i=m=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m),d=m=>m?new Date(m).toLocaleDateString("pt-BR"):"-",N=m=>({pix:"PIX",credito_vista:"Cr√©dito √† Vista",credito_parcelado:"Cr√©dito Parcelado",boleto:"Boleto",dinheiro:"Dinheiro"})[m]||m,g=m=>({pix:"bg-green-100 text-green-700",credito_vista:"bg-blue-100 text-blue-700",credito_parcelado:"bg-purple-100 text-purple-700",boleto:"bg-orange-100 text-orange-700",dinheiro:"bg-gray-100 text-gray-700"})[m]||"bg-gray-100 text-gray-700",k=h.reduce((m,f)=>m+(f.value||0),0),E=h.reduce((m,f)=>m+(f.pieces||0),0);return e.jsxs("div",{className:"space-y-10 pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-4xl font-display font-bold text-[#4A3B32] tracking-tight",children:"Compras de Fornecedores"}),e.jsx("p",{className:"text-[#4A3B32]/40 font-medium",children:"Gerencie todas as compras realizadas."})]}),e.jsxs(M,{to:"/admin/purchases/new",className:"flex items-center gap-2 px-6 py-3 bg-[#4A3B32] text-white rounded-2xl text-sm font-bold shadow-lg shadow-[#4A3B32]/10 hover:scale-105 transition-all active:scale-95",children:[e.jsx(Z,{className:"w-5 h-5"})," Nova Compra"]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx(P,{children:e.jsx(L,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-2",children:"Total Comprado"}),e.jsx("p",{className:"text-2xl font-bold text-[#4A3B32]",children:i(k)})]}),e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[#C75D3B]/10 flex items-center justify-center",children:e.jsx(fe,{className:"w-6 h-6 text-[#C75D3B]"})})]})})}),e.jsx(P,{children:e.jsx(L,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-2",children:"Total de Compras"}),e.jsx("p",{className:"text-2xl font-bold text-[#4A3B32]",children:h.length})]}),e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center",children:e.jsx(we,{className:"w-6 h-6 text-blue-600"})})]})})}),e.jsx(P,{children:e.jsx(L,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-2",children:"Total de Pe√ßas"}),e.jsx("p",{className:"text-2xl font-bold text-[#4A3B32]",children:E})]}),e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-100 flex items-center justify-center",children:e.jsx(ae,{className:"w-6 h-6 text-purple-600"})})]})})})]}),e.jsxs(P,{className:"overflow-hidden border-none shadow-2xl shadow-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 bg-white flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(re,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-300"}),e.jsx("input",{type:"text",placeholder:"Buscar por fornecedor ou forma de pagamento...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium",value:o,onChange:m=>u(m.target.value)})]}),e.jsxs("div",{className:"text-sm font-bold text-[#4A3B32]/40",children:[h.length," ",h.length===1?"compra":"compras"]})]}),e.jsx(L,{className:"p-0",children:n?e.jsxs("div",{className:"p-20 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-[#C75D3B] border-t-transparent"}),e.jsx("p",{className:"mt-4 text-sm text-[#4A3B32]/40 font-medium",children:"Carregando compras..."})]}):h.length===0?e.jsxs("div",{className:"p-20 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[#FAF3F0] flex items-center justify-center",children:e.jsx(we,{className:"w-8 h-8 text-[#C75D3B]/40"})}),e.jsx("p",{className:"text-sm text-[#4A3B32]/40 font-medium",children:o?"Nenhuma compra encontrada.":"Nenhuma compra registrada ainda."})]}):e.jsx("div",{className:"divide-y divide-gray-50",children:e.jsx(Q,{children:h.map((m,f)=>{const D=r.find(T=>T.id===m.supplierId);return e.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{delay:f*.05},className:"p-6 hover:bg-[#FDFBF7] transition-all group",children:e.jsxs("div",{className:"flex items-start justify-between gap-6",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[#C75D3B]/10 flex items-center justify-center flex-shrink-0",children:e.jsx(we,{className:"w-6 h-6 text-[#C75D3B]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h3",{className:"font-bold text-[#4A3B32] text-lg",children:(D==null?void 0:D.name)||"Fornecedor n√£o encontrado"}),e.jsx("span",{className:A("text-xs font-bold px-3 py-1 rounded-full",g(m.paymentMethod)),children:N(m.paymentMethod)})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1",children:"Valor"}),e.jsx("p",{className:"text-lg font-bold text-[#C75D3B]",children:i(m.value)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1",children:"Data"}),e.jsxs("p",{className:"text-sm font-medium text-[#4A3B32]/60 flex items-center gap-1",children:[e.jsx(pe,{className:"w-3.5 h-3.5"}),d(m.date)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1",children:"Pe√ßas"}),e.jsxs("p",{className:"text-sm font-medium text-[#4A3B32]/60 flex items-center gap-1",children:[e.jsx(ae,{className:"w-3.5 h-3.5"}),m.pieces||0," pe√ßas"]})]}),m.parcelas&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-1",children:"Parcelas"}),e.jsxs("p",{className:"text-sm font-medium text-[#4A3B32]/60",children:[m.parcelas,"x"]})]})]}),m.notes&&e.jsx("p",{className:"mt-3 text-sm text-[#4A3B32]/50 italic line-clamp-2",children:m.notes})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{to:`/admin/purchases/${m.id}`,className:"p-3 text-[#4A3B32]/40 hover:text-[#C75D3B] hover:bg-[#FDF0ED] rounded-xl transition-all",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>j(m.id),className:"p-3 text-[#4A3B32]/40 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all",children:e.jsx(ee,{className:"w-4 h-4"})})]})]})},m.id)})})})})]}),e.jsx(ie,{isOpen:c.isOpen,onClose:()=>b({isOpen:!1,purchaseId:null}),onConfirm:x,title:"Excluir Compra?",description:"Tem certeza que deseja excluir esta compra? Esta a√ß√£o n√£o pode ser desfeita.",confirmText:"Sim, Excluir",cancelText:"Cancelar"})]})}function vs(){const{id:s}=ge(),n=de(),{getPurchaseById:t,addPurchase:a,editPurchase:r,purchasesLoading:l,suppliers:o,loadSuppliers:u}=ke(),[c,b]=y.useState({supplierId:"",paymentMethod:"pix",value:"",date:new Date().toISOString().split("T")[0],pieces:"",parcelas:"",notes:""});y.useEffect(()=>{u()},[u]),y.useEffect(()=>{var i,d,N;if(s){const g=t(s);g&&b({...g,date:g.date?new Date(g.date).toISOString().split("T")[0]:"",value:((i=g.value)==null?void 0:i.toString())||"",pieces:((d=g.pieces)==null?void 0:d.toString())||"",parcelas:((N=g.parcelas)==null?void 0:N.toString())||""})}},[s,t]);const h=i=>{const{name:d,value:N}=i.target;b(g=>({...g,[d]:N}))},j=async i=>{i.preventDefault();const d={...c,supplierId:parseInt(c.supplierId),value:parseFloat(c.value.replace(",","."))||0,pieces:parseInt(c.pieces)||0,parcelas:c.paymentMethod==="credito_parcelado"?parseInt(c.parcelas):null};F.promise(s?r(parseInt(s),d):a(d),{loading:s?"Salvando altera√ß√µes...":"Registrando compra...",success:N=>{if(N.success)return n("/admin/purchases"),s?"Compra atualizada com sucesso!":"Compra registrada com sucesso!";throw new Error(N.error)},error:N=>`Erro: ${N.message}`})},x=[{value:"pix",label:"PIX"},{value:"credito_vista",label:"Cr√©dito √† Vista"},{value:"credito_parcelado",label:"Cr√©dito Parcelado"},{value:"boleto",label:"Boleto"},{value:"dinheiro",label:"Dinheiro"}];return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-10 pb-20",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(I.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n("/admin/purchases"),className:"p-4 bg-white border border-gray-100 rounded-3xl shadow-sm hover:shadow-md transition-all",children:e.jsx(le,{className:"w-6 h-6 text-[#4A3B32]"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-display font-semibold text-[#4A3B32] tracking-tight",children:s?"Editar Compra":"Nova Compra"}),e.jsx("p",{className:"text-[#4A3B32]/40 font-medium italic",children:"Registro de compras de fornecedores."})]})]})}),e.jsxs("form",{onSubmit:j,className:"grid lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-8 space-y-8",children:e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-5 h-5 text-[#C75D3B]"}),"Informa√ß√µes da Compra"]})}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Fornecedor *"}),e.jsxs("select",{name:"supplierId",required:!0,className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium appearance-none",value:c.supplierId,onChange:h,children:[e.jsx("option",{value:"",children:"Selecione um fornecedor"}),o.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Forma de Pagamento *"}),e.jsx("select",{name:"paymentMethod",required:!0,className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium appearance-none",value:c.paymentMethod,onChange:h,children:x.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))})]}),c.paymentMethod==="credito_parcelado"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"N√∫mero de Parcelas"}),e.jsx("input",{type:"number",name:"parcelas",min:"1",placeholder:"Ex: 3",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium",value:c.parcelas,onChange:h})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Valor (R$) *"}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),e.jsx("input",{type:"text",name:"value",required:!0,placeholder:"0,00",className:"w-full pl-12 pr-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-[#C75D3B]",value:c.value,onChange:h})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Data *"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),e.jsx("input",{type:"date",name:"date",required:!0,className:"w-full pl-12 pr-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium",value:c.date,onChange:h})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Pe√ßas"}),e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"}),e.jsx("input",{type:"number",name:"pieces",min:"0",placeholder:"0",className:"w-full pl-12 pr-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-medium",value:c.pieces,onChange:h})]})]})]})]})]})}),e.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(ks,{className:"w-5 h-5 text-[#C75D3B]"}),"Observa√ß√µes"]})}),e.jsx(L,{children:e.jsx("textarea",{name:"notes",rows:"6",placeholder:"Adicione detalhes sobre esta compra...",className:"w-full px-5 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium leading-relaxed transition-all resize-none",value:c.notes,onChange:h})})]}),e.jsxs("div",{className:"sticky top-8 space-y-4",children:[e.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:l,className:"w-full flex items-center justify-center gap-3 py-6 bg-[#4A3B32] text-white rounded-3xl font-bold shadow-2xl shadow-[#4A3B32]/30 hover:bg-[#342922] transition-all disabled:opacity-50",children:[e.jsx(he,{className:"w-6 h-6"}),s?"Salvar Altera√ß√µes":"Registrar Compra"]}),e.jsx("button",{type:"button",onClick:()=>n("/admin/purchases"),className:"w-full py-4 text-[#4A3B32]/40 font-bold tracking-widest uppercase text-[10px] hover:text-[#4A3B32] transition-colors",children:"Cancelar"})]})]})]})]})}function Sa(){var v,q;const{paymentFees:s,updatePaymentFees:n,materialsStock:t,materialsLoading:a,loadMaterialsStock:r,addMaterial:l,updateMaterial:o,removeMaterial:u,addStockEntry:c,removeStockExit:b}=ss(),[h,j]=y.useState(s),[x,i]=y.useState(!1),[d,N]=y.useState(null),[g,k]=y.useState({isOpen:!1,materialId:null}),[E,m]=y.useState({isOpen:!1,material:null,type:"entry"}),[f,D]=y.useState({name:"",category:"embalagem",quantity:0,totalPrice:"",unitCost:0,minStock:0,notes:""});y.useEffect(()=>{r()},[r]),y.useEffect(()=>{j(s)},[s]),y.useEffect(()=>{const w=parseInt(f.quantity)||0,z=parseFloat(f.totalPrice.replace(",","."))||0;if(w>0&&z>0){const X=z/w;D(Y=>({...Y,unitCost:X}))}else D(X=>({...X,unitCost:0}))},[f.quantity,f.totalPrice]);const T=w=>{const{name:z,value:X}=w.target;j(Y=>({...Y,[z]:parseFloat(X)||0}))},G=()=>{n(h),F.success("Taxas atualizadas com sucesso!")},B=w=>{const{name:z,value:X}=w.target;D(Y=>({...Y,[z]:X}))},p=()=>{const w={...f,quantity:parseInt(f.quantity)||0,totalPrice:parseFloat(f.totalPrice.replace(",","."))||0,unitCost:f.unitCost,minStock:parseInt(f.minStock)||0};d?(o(d.id,w),F.success("Material atualizado!")):(l(w),F.success("Material adicionado!")),D({name:"",category:"embalagem",quantity:0,totalPrice:"",unitCost:0,minStock:0,notes:""}),i(!1),N(null)},C=w=>{N(w),D({name:w.name,category:w.category,quantity:w.quantity,totalPrice:(w.totalPrice||0).toString(),unitCost:w.unitCost||0,minStock:w.minStock||0,notes:w.notes||""}),i(!0)},S=w=>{k({isOpen:!0,materialId:w})},O=()=>{u(g.materialId),F.success("Material removido!"),k({isOpen:!1,materialId:null})},V=(w,z)=>{m({isOpen:!0,material:w,type:z,quantity:0})},J=()=>{const{material:w,type:z,quantity:X}=E,Y=parseInt(X)||0;if(Y<=0){F.error("Quantidade deve ser maior que zero!");return}if(z==="entry")c(w.id,Y),F.success(`Adicionado ${Y} unidades ao estoque!`);else{if(Y>w.quantity){F.error("Quantidade maior que o estoque dispon√≠vel!");return}b(w.id,Y),F.success(`Removido ${Y} unidades do estoque!`)}m({isOpen:!1,material:null,type:"entry",quantity:0})},H=w=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(w),K=[{value:"embalagem",label:"Embalagem"},{value:"tag",label:"Tag/Etiqueta"},{value:"adesivo",label:"Adesivo"},{value:"sacola",label:"Sacola"},{value:"papel",label:"Papel de Seda"},{value:"outro",label:"Outro"}],te=()=>t.reduce((w,z)=>w+z.quantity*z.unitCost,0);return e.jsxs("div",{className:"space-y-10 pb-20",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-4xl font-display font-bold text-[#4A3B32] tracking-tight",children:"Custos Operacionais"}),e.jsx("p",{className:"text-[#4A3B32]/40 font-medium",children:"Configura√ß√£o de taxas e controle de estoque de materiais."})]}),e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-[#C75D3B]"}),"Taxas Infinity Pay"]}),e.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:G,className:"flex items-center gap-2 px-6 py-2.5 bg-[#4A3B32] text-white rounded-xl text-sm font-bold shadow-lg hover:bg-[#342922] transition-all",children:[e.jsx(he,{className:"w-4 h-4"}),"Salvar Taxas"]})]})}),e.jsxs(L,{className:"p-5 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 md:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"PIX (%)"}),e.jsx("input",{type:"number",step:"0.01",name:"pix",className:"w-full px-4 py-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-[#4A3B32]",value:h.pix,onChange:T})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"D√©bito (%)"}),e.jsx("input",{type:"number",step:"0.01",name:"debit",className:"w-full px-4 py-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-[#4A3B32]",value:h.debit,onChange:T})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Cr√©dito √† Vista (%)"}),e.jsx("input",{type:"number",step:"0.01",name:"creditVista",className:"w-full px-4 py-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-[#4A3B32]",value:h.creditVista,onChange:T})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Cr√©dito 2x (%)"}),e.jsx("input",{type:"number",step:"0.01",name:"creditParcelado2x",className:"w-full px-4 py-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-[#4A3B32]",value:h.creditParcelado2x,onChange:T})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Cr√©dito 3x (%)"}),e.jsx("input",{type:"number",step:"0.01",name:"creditParcelado3x",className:"w-full px-4 py-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-[#4A3B32]",value:h.creditParcelado3x,onChange:T})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Cr√©dito 4x (%)"}),e.jsx("input",{type:"number",step:"0.01",name:"creditParcelado4x",className:"w-full px-4 py-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-[#4A3B32]",value:h.creditParcelado4x,onChange:T})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Cr√©dito 5x (%)"}),e.jsx("input",{type:"number",step:"0.01",name:"creditParcelado5x",className:"w-full px-4 py-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-[#4A3B32]",value:h.creditParcelado5x,onChange:T})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pl-1",children:"Cr√©dito 6x+ (%)"}),e.jsx("input",{type:"number",step:"0.01",name:"creditParcelado6x",className:"w-full px-4 py-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold text-[#4A3B32]",value:h.creditParcelado6x,onChange:T})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:e.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:["üí° ",e.jsx("strong",{children:"Dica:"})," Essas taxas ser√£o calculadas automaticamente quando voc√™ registrar uma venda com cart√£o."]})})]})]}),e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(_,{className:"flex items-center gap-2 mb-2",children:[e.jsx(ae,{className:"w-5 h-5 text-[#C75D3B]"}),"Estoque de Materiais"]}),e.jsxs("p",{className:"text-sm text-[#4A3B32]/60",children:["Valor total em estoque: ",e.jsx("span",{className:"font-bold text-[#C75D3B]",children:H(te())})]})]}),e.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{i(!0),N(null),D({name:"",category:"embalagem",quantity:0,totalPrice:"",unitCost:0,minStock:0,notes:""})},className:"flex items-center gap-2 px-6 py-2.5 bg-[#C75D3B] text-white rounded-xl text-sm font-bold shadow-lg hover:bg-[#B84830] transition-all",children:[e.jsx(Z,{className:"w-4 h-4"}),"Novo Material"]})]})}),e.jsxs(L,{children:[e.jsx(Q,{children:x&&e.jsxs(I.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6 p-6 bg-gray-50 rounded-xl",children:[e.jsx("h3",{className:"font-bold text-[#4A3B32] text-base md:text-lg mb-4",children:d?"Editar Material":"Novo Material"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"Nome *"}),e.jsx("input",{type:"text",name:"name",required:!0,placeholder:"Ex: Saco pl√°stico 20x30",className:"w-full px-4 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium",value:f.name,onChange:B})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"Categoria"}),e.jsx("select",{name:"category",className:"w-full px-4 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium appearance-none",value:f.category,onChange:B,children:K.map(w=>e.jsx("option",{value:w.value,children:w.label},w.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"Quantidade Inicial"}),e.jsx("input",{type:"number",name:"quantity",min:"0",className:"w-full px-4 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium",value:f.quantity,onChange:B})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"Pre√ßo Total Pago (R$)"}),e.jsx("input",{type:"text",name:"totalPrice",placeholder:"0,00",className:"w-full px-4 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium",value:f.totalPrice,onChange:B})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"Custo Unit√°rio (Calculado)"}),e.jsx("div",{className:"w-full px-4 py-2.5 bg-gray-100 border border-gray-200 rounded-xl text-sm font-bold text-[#C75D3B]",children:H(f.unitCost)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"Estoque M√≠nimo"}),e.jsx("input",{type:"number",name:"minStock",min:"0",placeholder:"0",className:"w-full px-4 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium",value:f.minStock,onChange:B})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"Observa√ß√µes"}),e.jsx("input",{type:"text",name:"notes",placeholder:"Opcional",className:"w-full px-4 py-2.5 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-sm font-medium",value:f.notes,onChange:B})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:p,className:"px-6 py-2.5 bg-[#4A3B32] text-white rounded-xl text-sm font-bold hover:bg-[#342922] transition-all",children:d?"Atualizar":"Adicionar"}),e.jsx("button",{onClick:()=>{i(!1),N(null)},className:"px-6 py-2.5 bg-gray-200 text-gray-700 rounded-xl text-sm font-bold hover:bg-gray-300 transition-all",children:"Cancelar"})]})]})}),a?e.jsx("div",{className:"p-20 text-center",children:e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-[#C75D3B] border-t-transparent"})}):t.length===0?e.jsxs("div",{className:"p-10 text-center",children:[e.jsx(ae,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Nenhum material cadastrado ainda."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("th",{className:"text-left py-3 px-4 text-xs font-bold text-gray-500 uppercase",children:"Material"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-bold text-gray-500 uppercase",children:"Categoria"}),e.jsx("th",{className:"text-center py-3 px-4 text-xs font-bold text-gray-500 uppercase",children:"Estoque"}),e.jsx("th",{className:"text-right py-3 px-4 text-xs font-bold text-gray-500 uppercase",children:"Pre√ßo Total"}),e.jsx("th",{className:"text-right py-3 px-4 text-xs font-bold text-gray-500 uppercase",children:"Custo Unit."}),e.jsx("th",{className:"text-right py-3 px-4 text-xs font-bold text-gray-500 uppercase",children:"Valor em Estoque"}),e.jsx("th",{className:"text-center py-3 px-4 text-xs font-bold text-gray-500 uppercase",children:"A√ß√µes"})]})}),e.jsx("tbody",{children:e.jsx(Q,{children:t.map((w,z)=>{var Y;const X=w.quantity<=w.minStock;return e.jsxs(I.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:z*.05},className:A("border-b border-gray-50 hover:bg-gray-50 transition-colors",X&&"bg-red-50"),children:[e.jsxs("td",{className:"py-3 px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-sm text-[#4A3B32]",children:w.name}),X&&e.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-[10px] font-bold rounded",children:"BAIXO"})]}),w.notes&&e.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:w.notes})]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm text-gray-600",children:(Y=K.find(ne=>ne.value===w.category))==null?void 0:Y.label})}),e.jsxs("td",{className:"py-3 px-4 text-center",children:[e.jsx("span",{className:A("font-bold text-sm",X?"text-red-600":"text-[#4A3B32]"),children:w.quantity}),w.minStock>0&&e.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["(m√≠n: ",w.minStock,")"]})]}),e.jsx("td",{className:"py-3 px-4 text-right text-sm font-medium text-gray-600",children:H(w.totalPrice||0)}),e.jsx("td",{className:"py-3 px-4 text-right text-sm font-medium text-[#4A3B32]",children:H(w.unitCost)}),e.jsx("td",{className:"py-3 px-4 text-right text-sm font-bold text-[#C75D3B]",children:H(w.quantity*w.unitCost)}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("button",{onClick:()=>V(w,"entry"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Adicionar ao estoque",children:e.jsx(cs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>V(w,"exit"),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-all",title:"Remover do estoque",children:e.jsx(ds,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Editar",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>S(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Excluir",children:e.jsx(ee,{className:"w-4 h-4"})})]})})]},w.id)})})})]})}),e.jsx("div",{className:"md:hidden space-y-3",children:t.map((w,z)=>{var Y;const X=w.quantity<=w.minStock;return e.jsxs(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:z*.05},className:A("bg-white p-4 rounded-2xl border shadow-sm space-y-3",X?"border-red-200 bg-red-50/50":"border-gray-100"),children:[e.jsx("div",{className:"flex items-start justify-between gap-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-bold text-sm text-[#4A3B32] truncate",children:w.name}),X&&e.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-[9px] font-bold rounded flex-shrink-0",children:"BAIXO"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:(Y=K.find(ne=>ne.value===w.category))==null?void 0:Y.label}),w.notes&&e.jsx("p",{className:"text-xs text-gray-400 mt-1 italic",children:w.notes})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-3 border-t border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1",children:"Estoque"}),e.jsxs("p",{className:A("text-lg font-bold",X?"text-red-600":"text-[#4A3B32]"),children:[w.quantity,w.minStock>0&&e.jsxs("span",{className:"text-xs text-gray-400 font-normal ml-1",children:["(m√≠n: ",w.minStock,")"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1",children:"Valor Total"}),e.jsx("p",{className:"text-lg font-bold text-[#C75D3B]",children:H(w.quantity*w.unitCost)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1",children:"Pre√ßo Total"}),e.jsx("p",{className:"text-sm font-medium text-gray-600",children:H(w.totalPrice||0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1",children:"Custo Unit."}),e.jsx("p",{className:"text-sm font-medium text-[#4A3B32]",children:H(w.unitCost)})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 pt-3 border-t border-gray-100",children:[e.jsx("button",{onClick:()=>V(w,"entry"),className:"p-3 text-green-600 bg-green-50 active:bg-green-100 rounded-xl transition-all flex items-center justify-center",title:"Adicionar",children:e.jsx(cs,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>V(w,"exit"),className:"p-3 text-orange-600 bg-orange-50 active:bg-orange-100 rounded-xl transition-all flex items-center justify-center",title:"Remover",children:e.jsx(ds,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>C(w),className:"p-3 text-blue-600 bg-blue-50 active:bg-blue-100 rounded-xl transition-all flex items-center justify-center",title:"Editar",children:e.jsx(be,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>S(w.id),className:"p-3 text-red-600 bg-red-50 active:bg-red-100 rounded-xl transition-all flex items-center justify-center",title:"Excluir",children:e.jsx(ee,{className:"w-5 h-5"})})]})]},w.id)})})]})]})]}),e.jsx(ie,{isOpen:g.isOpen,onClose:()=>k({isOpen:!1,materialId:null}),onConfirm:O,title:"Excluir Material?",description:"Tem certeza que deseja excluir este material? Esta a√ß√£o n√£o pode ser desfeita.",confirmText:"Sim, Excluir",cancelText:"Cancelar"}),E.isOpen&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs(I.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-xl font-bold text-[#4A3B32] mb-4",children:E.type==="entry"?"Adicionar ao Estoque":"Remover do Estoque"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[(v=E.material)==null?void 0:v.name," - Estoque atual: ",e.jsx("strong",{children:(q=E.material)==null?void 0:q.quantity})]}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"Quantidade"}),e.jsx("input",{type:"number",min:"1",placeholder:"0",className:"w-full px-4 py-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-[#C75D3B]/20 outline-none text-lg font-bold",value:E.quantity,onChange:w=>m(z=>({...z,quantity:w.target.value}))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:J,className:"flex-1 px-6 py-3 bg-[#4A3B32] text-white rounded-xl font-bold hover:bg-[#342922] transition-all",children:"Confirmar"}),e.jsx("button",{onClick:()=>m({isOpen:!1,material:null,type:"entry",quantity:0}),className:"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-bold hover:bg-gray-300 transition-all",children:"Cancelar"})]})]})})]})}function ka(){return e.jsx(tt,{children:e.jsxs(at,{children:[e.jsxs($,{path:"/",element:e.jsx(ut,{}),children:[e.jsx($,{index:!0,element:e.jsx($t,{})}),e.jsx($,{path:"catalogo",element:e.jsx(Ht,{})}),e.jsx($,{path:"como-funciona",element:e.jsx(Ut,{})}),e.jsx($,{path:"sobre",element:e.jsx(Gt,{})}),e.jsx($,{path:"malinha",element:e.jsx(Jt,{})})]}),e.jsx($,{path:"/admin/login",element:e.jsx(Qt,{})}),e.jsxs($,{path:"/admin",element:e.jsx(Wt,{children:e.jsx(Yt,{})}),children:[e.jsx($,{index:!0,element:e.jsx(Is,{to:"/admin/dashboard",replace:!0})}),e.jsx($,{path:"dashboard",element:e.jsx(ea,{})}),e.jsx($,{path:"products",element:e.jsx(sa,{})}),e.jsx($,{path:"products/new",element:e.jsx(fs,{})}),e.jsx($,{path:"products/:id",element:e.jsx(fs,{})}),e.jsx($,{path:"malinhas",element:e.jsx(ha,{})}),e.jsx($,{path:"malinhas/new",element:e.jsx(Na,{})}),e.jsx($,{path:"malinhas/:id",element:e.jsx(ga,{})}),e.jsx($,{path:"vendas",element:e.jsx(Ca,{})}),e.jsx($,{path:"vendas/new",element:e.jsx(js,{})}),e.jsx($,{path:"vendas/:id",element:e.jsx(js,{})}),e.jsx($,{path:"customers",element:e.jsx(ya,{})}),e.jsx($,{path:"customers/new",element:e.jsx(bs,{})}),e.jsx($,{path:"customers/:id",element:e.jsx(bs,{})}),e.jsx($,{path:"coupons",element:e.jsx(Ba,{})}),e.jsx($,{path:"coupons/new",element:e.jsx(Ns,{})}),e.jsx($,{path:"coupons/:id",element:e.jsx(Ns,{})}),e.jsx($,{path:"suppliers",element:e.jsx(Aa,{})}),e.jsx($,{path:"suppliers/new",element:e.jsx(ys,{})}),e.jsx($,{path:"suppliers/:id",element:e.jsx(ys,{})}),e.jsx($,{path:"purchases",element:e.jsx(Da,{})}),e.jsx($,{path:"purchases/new",element:e.jsx(vs,{})}),e.jsx($,{path:"purchases/:id",element:e.jsx(vs,{})}),e.jsx($,{path:"operational-costs",element:e.jsx(Sa,{})})]})]})})}lt.createRoot(document.getElementById("root")).render(e.jsx(y.StrictMode,{children:e.jsx(ka,{})}));
